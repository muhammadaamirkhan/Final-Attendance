(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var nm={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function C1(){if(y0)return Ol;y0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ol.Fragment=e,Ol.jsx=n,Ol.jsxs=n,Ol}var v0;function N1(){return v0||(v0=1,nm.exports=C1()),nm.exports}var v=N1(),im={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function D1(){if(_0)return Ie;_0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.iterator;function A(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,Q={};function z(M,ee,ue){this.props=M,this.context=ee,this.refs=Q,this.updater=ue||k}z.prototype.isReactComponent={},z.prototype.setState=function(M,ee){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ee,"setState")},z.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function $(){}$.prototype=z.prototype;function se(M,ee,ue){this.props=M,this.context=ee,this.refs=Q,this.updater=ue||k}var W=se.prototype=new $;W.constructor=se,L(W,z.prototype),W.isPureReactComponent=!0;var ie=Array.isArray,ae={H:null,A:null,T:null,S:null,V:null},he=Object.prototype.hasOwnProperty;function D(M,ee,ue,oe,ge,De){return ue=De.ref,{$$typeof:r,type:M,key:ee,ref:ue!==void 0?ue:null,props:De}}function x(M,ee){return D(M.type,ee,void 0,void 0,void 0,M.props)}function I(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function O(M){var ee={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ue){return ee[ue]})}var P=/\/+/g;function C(M,ee){return typeof M=="object"&&M!==null&&M.key!=null?O(""+M.key):ee.toString(36)}function R(){}function ve(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(R,R):(M.status="pending",M.then(function(ee){M.status==="pending"&&(M.status="fulfilled",M.value=ee)},function(ee){M.status==="pending"&&(M.status="rejected",M.reason=ee)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Re(M,ee,ue,oe,ge){var De=typeof M;(De==="undefined"||De==="boolean")&&(M=null);var Ae=!1;if(M===null)Ae=!0;else switch(De){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(M.$$typeof){case r:case e:Ae=!0;break;case T:return Ae=M._init,Re(Ae(M._payload),ee,ue,oe,ge)}}if(Ae)return ge=ge(M),Ae=oe===""?"."+C(M,0):oe,ie(ge)?(ue="",Ae!=null&&(ue=Ae.replace(P,"$&/")+"/"),Re(ge,ee,ue,"",function(Yn){return Yn})):ge!=null&&(I(ge)&&(ge=x(ge,ue+(ge.key==null||M&&M.key===ge.key?"":(""+ge.key).replace(P,"$&/")+"/")+Ae)),ee.push(ge)),1;Ae=0;var Ct=oe===""?".":oe+":";if(ie(M))for(var et=0;et<M.length;et++)oe=M[et],De=Ct+C(oe,et),Ae+=Re(oe,ee,ue,De,ge);else if(et=A(M),typeof et=="function")for(M=et.call(M),et=0;!(oe=M.next()).done;)oe=oe.value,De=Ct+C(oe,et++),Ae+=Re(oe,ee,ue,De,ge);else if(De==="object"){if(typeof M.then=="function")return Re(ve(M),ee,ue,oe,ge);throw ee=String(M),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function Y(M,ee,ue){if(M==null)return M;var oe=[],ge=0;return Re(M,oe,"","",function(De){return ee.call(ue,De,ge++)}),oe}function re(M){if(M._status===-1){var ee=M._result;ee=ee(),ee.then(function(ue){(M._status===0||M._status===-1)&&(M._status=1,M._result=ue)},function(ue){(M._status===0||M._status===-1)&&(M._status=2,M._result=ue)}),M._status===-1&&(M._status=0,M._result=ee)}if(M._status===1)return M._result.default;throw M._result}var me=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Be(){}return Ie.Children={map:Y,forEach:function(M,ee,ue){Y(M,function(){ee.apply(this,arguments)},ue)},count:function(M){var ee=0;return Y(M,function(){ee++}),ee},toArray:function(M){return Y(M,function(ee){return ee})||[]},only:function(M){if(!I(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ie.Component=z,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=se,Ie.StrictMode=s,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(M){return ae.H.useMemoCache(M)}},Ie.cache=function(M){return function(){return M.apply(null,arguments)}},Ie.cloneElement=function(M,ee,ue){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var oe=L({},M.props),ge=M.key,De=void 0;if(ee!=null)for(Ae in ee.ref!==void 0&&(De=void 0),ee.key!==void 0&&(ge=""+ee.key),ee)!he.call(ee,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ee.ref===void 0||(oe[Ae]=ee[Ae]);var Ae=arguments.length-2;if(Ae===1)oe.children=ue;else if(1<Ae){for(var Ct=Array(Ae),et=0;et<Ae;et++)Ct[et]=arguments[et+2];oe.children=Ct}return D(M.type,ge,void 0,void 0,De,oe)},Ie.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ie.createElement=function(M,ee,ue){var oe,ge={},De=null;if(ee!=null)for(oe in ee.key!==void 0&&(De=""+ee.key),ee)he.call(ee,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ge[oe]=ee[oe]);var Ae=arguments.length-2;if(Ae===1)ge.children=ue;else if(1<Ae){for(var Ct=Array(Ae),et=0;et<Ae;et++)Ct[et]=arguments[et+2];ge.children=Ct}if(M&&M.defaultProps)for(oe in Ae=M.defaultProps,Ae)ge[oe]===void 0&&(ge[oe]=Ae[oe]);return D(M,De,void 0,void 0,null,ge)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(M){return{$$typeof:m,render:M}},Ie.isValidElement=I,Ie.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:re}},Ie.memo=function(M,ee){return{$$typeof:g,type:M,compare:ee===void 0?null:ee}},Ie.startTransition=function(M){var ee=ae.T,ue={};ae.T=ue;try{var oe=M(),ge=ae.S;ge!==null&&ge(ue,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Be,me)}catch(De){me(De)}finally{ae.T=ee}},Ie.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Ie.use=function(M){return ae.H.use(M)},Ie.useActionState=function(M,ee,ue){return ae.H.useActionState(M,ee,ue)},Ie.useCallback=function(M,ee){return ae.H.useCallback(M,ee)},Ie.useContext=function(M){return ae.H.useContext(M)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(M,ee){return ae.H.useDeferredValue(M,ee)},Ie.useEffect=function(M,ee,ue){var oe=ae.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(M,ee)},Ie.useId=function(){return ae.H.useId()},Ie.useImperativeHandle=function(M,ee,ue){return ae.H.useImperativeHandle(M,ee,ue)},Ie.useInsertionEffect=function(M,ee){return ae.H.useInsertionEffect(M,ee)},Ie.useLayoutEffect=function(M,ee){return ae.H.useLayoutEffect(M,ee)},Ie.useMemo=function(M,ee){return ae.H.useMemo(M,ee)},Ie.useOptimistic=function(M,ee){return ae.H.useOptimistic(M,ee)},Ie.useReducer=function(M,ee,ue){return ae.H.useReducer(M,ee,ue)},Ie.useRef=function(M){return ae.H.useRef(M)},Ie.useState=function(M){return ae.H.useState(M)},Ie.useSyncExternalStore=function(M,ee,ue){return ae.H.useSyncExternalStore(M,ee,ue)},Ie.useTransition=function(){return ae.H.useTransition()},Ie.version="19.1.0",Ie}var E0;function Jm(){return E0||(E0=1,im.exports=D1()),im.exports}var H=Jm(),rm={exports:{}},Ml={},sm={exports:{}},am={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function O1(){return T0||(T0=1,function(r){function e(Y,re){var me=Y.length;Y.push(re);e:for(;0<me;){var Be=me-1>>>1,M=Y[Be];if(0<o(M,re))Y[Be]=re,Y[me]=M,me=Be;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var re=Y[0],me=Y.pop();if(me!==re){Y[0]=me;e:for(var Be=0,M=Y.length,ee=M>>>1;Be<ee;){var ue=2*(Be+1)-1,oe=Y[ue],ge=ue+1,De=Y[ge];if(0>o(oe,me))ge<M&&0>o(De,oe)?(Y[Be]=De,Y[ge]=me,Be=ge):(Y[Be]=oe,Y[ue]=me,Be=ue);else if(ge<M&&0>o(De,me))Y[Be]=De,Y[ge]=me,Be=ge;else break e}}return re}function o(Y,re){var me=Y.sortIndex-re.sortIndex;return me!==0?me:Y.id-re.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],T=1,w=null,A=3,k=!1,L=!1,Q=!1,z=!1,$=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ie(Y){for(var re=n(g);re!==null;){if(re.callback===null)s(g);else if(re.startTime<=Y)s(g),re.sortIndex=re.expirationTime,e(p,re);else break;re=n(g)}}function ae(Y){if(Q=!1,ie(Y),!L)if(n(p)!==null)L=!0,he||(he=!0,C());else{var re=n(g);re!==null&&Re(ae,re.startTime-Y)}}var he=!1,D=-1,x=5,I=-1;function O(){return z?!0:!(r.unstable_now()-I<x)}function P(){if(z=!1,he){var Y=r.unstable_now();I=Y;var re=!0;try{e:{L=!1,Q&&(Q=!1,se(D),D=-1),k=!0;var me=A;try{t:{for(ie(Y),w=n(p);w!==null&&!(w.expirationTime>Y&&O());){var Be=w.callback;if(typeof Be=="function"){w.callback=null,A=w.priorityLevel;var M=Be(w.expirationTime<=Y);if(Y=r.unstable_now(),typeof M=="function"){w.callback=M,ie(Y),re=!0;break t}w===n(p)&&s(p),ie(Y)}else s(p);w=n(p)}if(w!==null)re=!0;else{var ee=n(g);ee!==null&&Re(ae,ee.startTime-Y),re=!1}}break e}finally{w=null,A=me,k=!1}re=void 0}}finally{re?C():he=!1}}}var C;if(typeof W=="function")C=function(){W(P)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ve=R.port2;R.port1.onmessage=P,C=function(){ve.postMessage(null)}}else C=function(){$(P,0)};function Re(Y,re){D=$(function(){Y(r.unstable_now())},re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(Y){switch(A){case 1:case 2:case 3:var re=3;break;default:re=A}var me=A;A=re;try{return Y()}finally{A=me}},r.unstable_requestPaint=function(){z=!0},r.unstable_runWithPriority=function(Y,re){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var me=A;A=Y;try{return re()}finally{A=me}},r.unstable_scheduleCallback=function(Y,re,me){var Be=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Be+me:Be):me=Be,Y){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=me+M,Y={id:T++,callback:re,priorityLevel:Y,startTime:me,expirationTime:M,sortIndex:-1},me>Be?(Y.sortIndex=me,e(g,Y),n(p)===null&&Y===n(g)&&(Q?(se(D),D=-1):Q=!0,Re(ae,me-Be))):(Y.sortIndex=M,e(p,Y),L||k||(L=!0,he||(he=!0,C()))),Y},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(Y){var re=A;return function(){var me=A;A=re;try{return Y.apply(this,arguments)}finally{A=me}}}}(am)),am}var b0;function M1(){return b0||(b0=1,sm.exports=O1()),sm.exports}var om={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0;function k1(){if(w0)return Kt;w0=1;var r=Jm();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Kt.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,T)},Kt.flushSync=function(p){var g=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=T,s.d.f()}},Kt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Kt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Kt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,w=m(T,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:k}):T==="script"&&s.d.X(p,{crossOrigin:w,integrity:A,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Kt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Kt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,w=m(T,g.crossOrigin);s.d.L(p,T,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Kt.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Kt.requestFormReset=function(p){s.d.r(p)},Kt.unstable_batchedUpdates=function(p,g){return p(g)},Kt.useFormState=function(p,g,T){return f.H.useFormState(p,g,T)},Kt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Kt.version="19.1.0",Kt}var A0;function V1(){if(A0)return om.exports;A0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),om.exports=k1(),om.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function P1(){if(S0)return Ml;S0=1;var r=M1(),e=Jm(),n=V1();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,b=h.child;b;){if(b===a){E=!0,a=h,l=d;break}if(b===l){E=!0,l=h,a=d;break}b=b.sibling}if(!E){for(b=d.child;b;){if(b===a){E=!0,a=d,l=h;break}if(b===l){E=!0,l=d,a=h;break}b=b.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function C(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case z:return"Profiler";case Q:return"StrictMode";case ae:return"Suspense";case he:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case W:return(t.displayName||"Context")+".Provider";case se:return(t._context.displayName||"Context")+".Consumer";case ie:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:ve(t.type)||"Memo";case x:i=t._payload,t=t._init;try{return ve(t(i))}catch{}}return null}var Re=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Be=[],M=-1;function ee(t){return{current:t}}function ue(t){0>M||(t.current=Be[M],Be[M]=null,M--)}function oe(t,i){M++,Be[M]=t.current,t.current=i}var ge=ee(null),De=ee(null),Ae=ee(null),Ct=ee(null);function et(t,i){switch(oe(Ae,i),oe(De,t),oe(ge,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Gv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Gv(i),t=Kv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ue(ge),oe(ge,t)}function Yn(){ue(ge),ue(De),ue(Ae)}function ar(t){t.memoizedState!==null&&oe(Ct,t);var i=ge.current,a=Kv(i,t.type);i!==a&&(oe(De,t),oe(ge,a))}function Ti(t){De.current===t&&(ue(ge),ue(De)),Ct.current===t&&(ue(Ct),Rl._currentValue=me)}var rs=Object.prototype.hasOwnProperty,ss=r.unstable_scheduleCallback,as=r.unstable_cancelCallback,Ao=r.unstable_shouldYield,yu=r.unstable_requestPaint,En=r.unstable_now,tf=r.unstable_getCurrentPriorityLevel,So=r.unstable_ImmediatePriority,ea=r.unstable_UserBlockingPriority,os=r.unstable_NormalPriority,nf=r.unstable_LowPriority,ta=r.unstable_IdlePriority,xo=r.log,vu=r.unstable_setDisableYieldValue,lt=null,Ke=null;function un(t){if(typeof xo=="function"&&vu(t),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(lt,t)}catch{}}var Ft=Math.clz32?Math.clz32:ls,_u=Math.log,rf=Math.LN2;function ls(t){return t>>>=0,t===0?32:31-(_u(t)/rf|0)|0}var us=256,cs=4194304;function kn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function na(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=kn(l):(E&=b,E!==0?h=kn(E):a||(a=b&~t,a!==0&&(h=kn(a))))):(b=l&~d,b!==0?h=kn(b):E!==0?h=kn(E):a||(a=l&~t,a!==0&&(h=kn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function hs(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ro(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Io(){var t=us;return us<<=1,(us&4194048)===0&&(us=256),t}function Co(){var t=cs;return cs<<=1,(cs&62914560)===0&&(cs=4194304),t}function bi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function wi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function No(t,i,a,l,h,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,N=t.expirationTimes,q=t.hiddenUpdates;for(a=E&~a;0<a;){var X=31-Ft(a),J=1<<X;b[X]=0,N[X]=-1;var F=q[X];if(F!==null)for(q[X]=null,X=0;X<F.length;X++){var G=F[X];G!==null&&(G.lane&=-536870913)}a&=~J}l!==0&&$n(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~i))}function $n(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Ft(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Do(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Ft(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function or(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ia(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function lr(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:h0(t.type))}function Eu(t,i){var a=re.p;try{return re.p=t,i()}finally{re.p=a}}var it=Math.random().toString(36).slice(2),Tt="__reactFiber$"+it,pt="__reactProps$"+it,Tn="__reactContainer$"+it,Oo="__reactEvents$"+it,sf="__reactListeners$"+it,ur="__reactHandles$"+it,Tu="__reactResources$"+it,fs="__reactMarker$"+it;function cr(t){delete t[Tt],delete t[pt],delete t[Oo],delete t[sf],delete t[ur]}function Ai(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Tn]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Xv(t);t!==null;){if(a=t[Tt])return a;t=Xv(t)}return i}t=a,a=t.parentNode}return null}function Xn(t){if(t=t[Tt]||t[Tn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Wn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Wt(t){var i=t[Tu];return i||(i=t[Tu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ht(t){t[fs]=!0}var Mo=new Set,ra={};function Vn(t,i){Si(t,i),Si(t+"Capture",i)}function Si(t,i){for(ra[t]=i,t=0;t<i.length;t++)Mo.add(i[t])}var bu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wu={},ds={};function Au(t){return rs.call(ds,t)?!0:rs.call(wu,t)?!1:bu.test(t)?ds[t]=!0:(wu[t]=!0,!1)}function hr(t,i,a){if(Au(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Zn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Pt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var ms,Su;function xi(t){if(ms===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ms=i&&i[1]||"",Su=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ms+t+Su}var sa=!1;function aa(t,i){if(!t||sa)return"";sa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var F=G}Reflect.construct(t,[],J)}else{try{J.call()}catch(G){F=G}t.call(J.prototype)}}else{try{throw Error()}catch(G){F=G}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],b=d[1];if(E&&b){var N=E.split(`
`),q=b.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===q.length)for(l=N.length-1,h=q.length-1;1<=l&&0<=h&&N[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==q[h]){var X=`
`+N[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{sa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?xi(a):""}function ko(t){switch(t.tag){case 26:case 27:case 5:return xi(t.type);case 16:return xi("Lazy");case 13:return xi("Suspense");case 19:return xi("SuspenseList");case 0:case 15:return aa(t.type,!1);case 11:return aa(t.type.render,!1);case 1:return aa(t.type,!0);case 31:return xi("Activity");default:return""}}function oa(t){try{var i="";do i+=ko(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function af(t){var i=Vo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function la(t){t._valueTracker||(t._valueTracker=af(t))}function Po(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Vo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function ps(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var of=/[\n"\\]/g;function gt(t){return t.replace(of,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function cn(t,i,a,l,h,d,E,b){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Zt(i)):t.value!==""+Zt(i)&&(t.value=""+Zt(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?fr(t,E,Zt(i)):a!=null?fr(t,E,Zt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Zt(b):t.removeAttribute("name")}function gs(t,i,a,l,h,d,E,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Zt(a):"",i=i!=null?""+Zt(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function fr(t,i,a){i==="number"&&ps(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ri(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Zt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function $e(t,i,a){if(i!=null&&(i=""+Zt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Zt(a):""}function ys(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Re(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Zt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function bn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var vs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||vs.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Lo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&xu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&xu(t,d,i[d])}function jo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(t){return uf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ii=null;function wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ci=null,Ni=null;function Uo(t){var i=Xn(t);if(i&&(t=i.stateNode)){var a=t[pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(cn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[pt]||null;if(!h)throw Error(s(90));cn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Po(l)}break e;case"textarea":$e(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ri(t,!!a.multiple,i,!1)}}}var Jn=!1;function Ru(t,i,a){if(Jn)return t(i,a);Jn=!0;try{var l=t(i);return l}finally{if(Jn=!1,(Ci!==null||Ni!==null)&&(Ec(),Ci&&(i=Ci,t=Ni,Ni=Ci=null,Uo(i),t)))for(i=0;i<t.length;i++)Uo(t[i])}}function _s(t,i){var a=t.stateNode;if(a===null)return null;var l=a[pt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),An=!1;if(Pn)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){An=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{An=!1}var ei=null,dr=null,Di=null;function zo(){if(Di)return Di;var t,i=dr,a=i.length,l,h="value"in ei?ei.value:ei.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var E=a-t;for(l=1;l<=E&&i[a-l]===h[d-l];l++);return Di=h.slice(t,1<l?1-l:void 0)}function ti(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ni(){return!0}function Bo(){return!1}function Nt(t){function i(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ni:Bo,this.isPropagationStopped=Bo,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),i}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ca=Nt(Fe),Ts=T({},Fe,{view:0,detail:0}),Iu=Nt(Ts),ha,fa,ii,bs=T({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ii&&(ii&&t.type==="mousemove"?(ha=t.screenX-ii.screenX,fa=t.screenY-ii.screenY):fa=ha=0,ii=t),ha)},movementY:function(t){return"movementY"in t?t.movementY:fa}}),Sn=Nt(bs),Cu=T({},bs,{dataTransfer:0}),cf=Nt(Cu),ws=T({},Ts,{relatedTarget:0}),da=Nt(ws),qo=T({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),ma=Nt(qo),Nu=T({},Fe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pa=Nt(Nu),hf=T({},Fe,{data:0}),Ho=Nt(hf),As={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ou[t])?!!i[t]:!1}function Ss(){return Fo}var Mu=T({},Ts,{key:function(t){if(t.key){var i=As[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ti(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(t){return t.type==="keypress"?ti(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ti(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ga=Nt(Mu),ku=T({},bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Go=Nt(ku),Oi=T({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss}),Vu=Nt(Oi),Pu=T({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lu=Nt(Pu),ju=T({},bs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ya=Nt(ju),Jt=T({},Fe,{newState:0,oldState:0}),Uu=Nt(Jt),zu=[9,13,27,32],ri=Pn&&"CompositionEvent"in window,c=null;Pn&&"documentMode"in document&&(c=document.documentMode);var y=Pn&&"TextEvent"in window&&!c,_=Pn&&(!ri||c&&8<c&&11>=c),S=" ",U=!1;function K(t,i){switch(t){case"keyup":return zu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Le=!1;function bt(t,i){switch(t){case"compositionend":return le(i);case"keypress":return i.which!==32?null:(U=!0,S);case"textInput":return t=i.data,t===S&&U?null:t;default:return null}}function je(t,i){if(Le)return t==="compositionend"||!ri&&K(t,i)?(t=zo(),Di=dr=ei=null,Le=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Dt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Dt[t.type]:i==="textarea"}function Mi(t,i,a,l){Ci?Ni?Ni.push(l):Ni=[l]:Ci=l,i=xc(i,"onChange"),0<i.length&&(a=new ca("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Lt=null,si=null;function Ko(t){zv(t,0)}function Bu(t){var i=Wn(t);if(Po(i))return t}function og(t,i){if(t==="change")return i}var lg=!1;if(Pn){var ff;if(Pn){var df="oninput"in document;if(!df){var ug=document.createElement("div");ug.setAttribute("oninput","return;"),df=typeof ug.oninput=="function"}ff=df}else ff=!1;lg=ff&&(!document.documentMode||9<document.documentMode)}function cg(){Lt&&(Lt.detachEvent("onpropertychange",hg),si=Lt=null)}function hg(t){if(t.propertyName==="value"&&Bu(si)){var i=[];Mi(i,si,t,wn(t)),Ru(Ko,i)}}function sw(t,i,a){t==="focusin"?(cg(),Lt=i,si=a,Lt.attachEvent("onpropertychange",hg)):t==="focusout"&&cg()}function aw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bu(si)}function ow(t,i){if(t==="click")return Bu(i)}function lw(t,i){if(t==="input"||t==="change")return Bu(i)}function uw(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var hn=typeof Object.is=="function"?Object.is:uw;function Qo(t,i){if(hn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!rs.call(i,h)||!hn(t[h],i[h]))return!1}return!0}function fg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dg(t,i){var a=fg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=fg(a)}}function mg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?mg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function pg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ps(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ps(t.document)}return i}function mf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var cw=Pn&&"documentMode"in document&&11>=document.documentMode,va=null,pf=null,Yo=null,gf=!1;function gg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gf||va==null||va!==ps(l)||(l=va,"selectionStart"in l&&mf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yo&&Qo(Yo,l)||(Yo=l,l=xc(pf,"onSelect"),0<l.length&&(i=new ca("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=va)))}function xs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var _a={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionrun:xs("Transition","TransitionRun"),transitionstart:xs("Transition","TransitionStart"),transitioncancel:xs("Transition","TransitionCancel"),transitionend:xs("Transition","TransitionEnd")},yf={},yg={};Pn&&(yg=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Rs(t){if(yf[t])return yf[t];if(!_a[t])return t;var i=_a[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in yg)return yf[t]=i[a];return t}var vg=Rs("animationend"),_g=Rs("animationiteration"),Eg=Rs("animationstart"),hw=Rs("transitionrun"),fw=Rs("transitionstart"),dw=Rs("transitioncancel"),Tg=Rs("transitionend"),bg=new Map,vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vf.push("scrollEnd");function Ln(t,i){bg.set(t,i),Vn(i,[t])}var wg=new WeakMap;function xn(t,i){if(typeof t=="object"&&t!==null){var a=wg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:oa(i)},wg.set(t,i),i)}return{value:t,source:i,stack:oa(i)}}var Rn=[],Ea=0,_f=0;function qu(){for(var t=Ea,i=_f=Ea=0;i<t;){var a=Rn[i];Rn[i++]=null;var l=Rn[i];Rn[i++]=null;var h=Rn[i];Rn[i++]=null;var d=Rn[i];if(Rn[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&Ag(a,h,d)}}function Hu(t,i,a,l){Rn[Ea++]=t,Rn[Ea++]=i,Rn[Ea++]=a,Rn[Ea++]=l,_f|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ef(t,i,a,l){return Hu(t,i,a,l),Fu(t)}function Ta(t,i){return Hu(t,null,null,i),Fu(t)}function Ag(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Ft(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Fu(t){if(50<_l)throw _l=0,xd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ba={};function mw(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,i,a,l){return new mw(t,i,a,l)}function Tf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ki(t,i){var a=t.alternate;return a===null?(a=fn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Sg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Gu(t,i,a,l,h,d){var E=0;if(l=t,typeof t=="function")Tf(t)&&(E=1);else if(typeof t=="string")E=g1(t,a,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=fn(31,a,i,h),t.elementType=I,t.lanes=d,t;case L:return Is(a.children,h,d,i);case Q:E=8,h|=24;break;case z:return t=fn(12,a,i,h|2),t.elementType=z,t.lanes=d,t;case ae:return t=fn(13,a,i,h),t.elementType=ae,t.lanes=d,t;case he:return t=fn(19,a,i,h),t.elementType=he,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:case W:E=10;break e;case se:E=9;break e;case ie:E=11;break e;case D:E=14;break e;case x:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=fn(E,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Is(t,i,a,l){return t=fn(7,t,l,i),t.lanes=a,t}function bf(t,i,a){return t=fn(6,t,null,i),t.lanes=a,t}function wf(t,i,a){return i=fn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var wa=[],Aa=0,Ku=null,Qu=0,In=[],Cn=0,Cs=null,Vi=1,Pi="";function Ns(t,i){wa[Aa++]=Qu,wa[Aa++]=Ku,Ku=t,Qu=i}function xg(t,i,a){In[Cn++]=Vi,In[Cn++]=Pi,In[Cn++]=Cs,Cs=t;var l=Vi;t=Pi;var h=32-Ft(l)-1;l&=~(1<<h),a+=1;var d=32-Ft(i)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Vi=1<<32-Ft(i)+h|a<<h|l,Pi=d+t}else Vi=1<<d|a<<h|l,Pi=t}function Af(t){t.return!==null&&(Ns(t,1),xg(t,1,0))}function Sf(t){for(;t===Ku;)Ku=wa[--Aa],wa[Aa]=null,Qu=wa[--Aa],wa[Aa]=null;for(;t===Cs;)Cs=In[--Cn],In[Cn]=null,Pi=In[--Cn],In[Cn]=null,Vi=In[--Cn],In[Cn]=null}var en=null,ut=null,He=!1,Ds=null,ai=!1,xf=Error(s(519));function Os(t){var i=Error(s(418,""));throw Wo(xn(i,t)),xf}function Rg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Tt]=t,i[pt]=l,a){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(a=0;a<Tl.length;a++)ke(Tl[a],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":ke("invalid",i),gs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),la(i);break;case"select":ke("invalid",i);break;case"textarea":ke("invalid",i),ys(i,l.value,l.defaultValue,l.children),la(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Fv(i.textContent,a)?(l.popover!=null&&(ke("beforetoggle",i),ke("toggle",i)),l.onScroll!=null&&ke("scroll",i),l.onScrollEnd!=null&&ke("scrollend",i),l.onClick!=null&&(i.onclick=Rc),i=!0):i=!1,i||Os(t)}function Ig(t){for(en=t.return;en;)switch(en.tag){case 5:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:en=en.return}}function $o(t){if(t!==en)return!1;if(!He)return Ig(t),He=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||qd(t.type,t.memoizedProps)),a=!a),a&&ut&&Os(t),Ig(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ut=Un(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ut=null}}else i===27?(i=ut,Cr(t.type)?(t=Kd,Kd=null,ut=t):ut=i):ut=en?Un(t.stateNode.nextSibling):null;return!0}function Xo(){ut=en=null,He=!1}function Cg(){var t=Ds;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),Ds=null),t}function Wo(t){Ds===null?Ds=[t]:Ds.push(t)}var Rf=ee(null),Ms=null,Li=null;function mr(t,i,a){oe(Rf,i._currentValue),i._currentValue=a}function ji(t){t._currentValue=Rf.current,ue(Rf)}function If(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Cf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var N=0;N<i.length;N++)if(b.context===i[N]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),If(d.return,a,t),l||(E=null);break e}d=b.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),If(E,a,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Zo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var b=h.type;hn(h.pendingProps.value,E.value)||(t!==null?t.push(b):t=[b])}}else if(h===Ct.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}h=h.return}t!==null&&Cf(i,t,a,l),i.flags|=262144}function Yu(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ks(t){Ms=t,Li=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return Ng(Ms,t)}function $u(t,i){return Ms===null&&ks(t),Ng(t,i)}function Ng(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Li===null){if(t===null)throw Error(s(308));Li=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Li=Li.next=i;return a}var pw=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},gw=r.unstable_scheduleCallback,yw=r.unstable_NormalPriority,At={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nf(){return{controller:new pw,data:new Map,refCount:0}}function Jo(t){t.refCount--,t.refCount===0&&gw(yw,function(){t.controller.abort()})}var el=null,Df=0,Sa=0,xa=null;function vw(t,i){if(el===null){var a=el=[];Df=0,Sa=Md(),xa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Df++,i.then(Dg,Dg),i}function Dg(){if(--Df===0&&el!==null){xa!==null&&(xa.status="fulfilled");var t=el;el=null,Sa=0,xa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function _w(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Og=Y.S;Y.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&vw(t,i),Og!==null&&Og(t,i)};var Vs=ee(null);function Of(){var t=Vs.current;return t!==null?t:tt.pooledCache}function Xu(t,i){i===null?oe(Vs,Vs.current):oe(Vs,i.pool)}function Mg(){var t=Of();return t===null?null:{parent:At._currentValue,pool:t}}var tl=Error(s(460)),kg=Error(s(474)),Wu=Error(s(542)),Mf={then:function(){}};function Vg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zu(){}function Pg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Zu,Zu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,jg(t),t;default:if(typeof i.status=="string")i.then(Zu,Zu);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,jg(t),t}throw nl=i,tl}}var nl=null;function Lg(){if(nl===null)throw Error(s(459));var t=nl;return nl=null,t}function jg(t){if(t===tl||t===Wu)throw Error(s(483))}var pr=!1;function kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function yr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Fu(t),Ag(t,null,a),i}return Hu(t,l,i,a),Fu(t)}function il(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Do(t,a)}}function Pf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Lf=!1;function rl(){if(Lf){var t=xa;if(t!==null)throw t}}function sl(t,i,a,l){Lf=!1;var h=t.updateQueue;pr=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var N=b,q=N.next;N.next=null,E===null?d=q:E.next=q,E=N;var X=t.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==E&&(b===null?X.firstBaseUpdate=q:b.next=q,X.lastBaseUpdate=N))}if(d!==null){var J=h.baseState;E=0,X=q=N=null,b=d;do{var F=b.lane&-536870913,G=F!==b.lane;if(G?(Ue&F)===F:(l&F)===F){F!==0&&F===Sa&&(Lf=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var we=t,_e=b;F=i;var Ze=a;switch(_e.tag){case 1:if(we=_e.payload,typeof we=="function"){J=we.call(Ze,J,F);break e}J=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=_e.payload,F=typeof we=="function"?we.call(Ze,J,F):we,F==null)break e;J=T({},J,F);break e;case 2:pr=!0}}F=b.callback,F!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[F]:G.push(F))}else G={lane:F,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(q=X=G,N=J):X=X.next=G,E|=F;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;G=b,b=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);X===null&&(N=J),h.baseState=N,h.firstBaseUpdate=q,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Sr|=E,t.lanes=E,t.memoizedState=J}}function Ug(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function zg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ug(a[t],i)}var Ra=ee(null),Ju=ee(0);function Bg(t,i){t=Gi,oe(Ju,t),oe(Ra,i),Gi=t|i.baseLanes}function jf(){oe(Ju,Gi),oe(Ra,Ra.current)}function Uf(){Gi=Ju.current,ue(Ra),ue(Ju)}var vr=0,Ce=null,Xe=null,yt=null,ec=!1,Ia=!1,Ps=!1,tc=0,al=0,Ca=null,Ew=0;function ft(){throw Error(s(321))}function zf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!hn(t[a],i[a]))return!1;return!0}function Bf(t,i,a,l,h,d){return vr=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?Ay:Sy,Ps=!1,d=a(l,h),Ps=!1,Ia&&(d=Hg(i,a,l,h)),qg(t),d}function qg(t){Y.H=oc;var i=Xe!==null&&Xe.next!==null;if(vr=0,yt=Xe=Ce=null,ec=!1,al=0,Ca=null,i)throw Error(s(300));t===null||Ot||(t=t.dependencies,t!==null&&Yu(t)&&(Ot=!0))}function Hg(t,i,a,l){Ce=t;var h=0;do{if(Ia&&(Ca=null),al=0,Ia=!1,25<=h)throw Error(s(301));if(h+=1,yt=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Rw,d=i(a,l)}while(Ia);return d}function Tw(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?ol(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Ce.flags|=1024),i}function qf(){var t=tc!==0;return tc=0,t}function Hf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Ff(t){if(ec){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ec=!1}vr=0,yt=Xe=Ce=null,Ia=!1,al=tc=0,Ca=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ce.memoizedState=yt=t:yt=yt.next=t,yt}function vt(){if(Xe===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=yt===null?Ce.memoizedState:yt.next;if(i!==null)yt=i,Xe=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},yt===null?Ce.memoizedState=yt=t:yt=yt.next=t}return yt}function Gf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(t){var i=al;return al+=1,Ca===null&&(Ca=[]),t=Pg(Ca,t,i),i=Ce,(yt===null?i.memoizedState:yt.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?Ay:Sy),t}function nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ol(t);if(t.$$typeof===W)return Gt(t)}throw Error(s(438,String(t)))}function Kf(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Gf(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function Ui(t,i){return typeof i=="function"?i(t):i}function ic(t){var i=vt();return Qf(i,Xe,t)}function Qf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=E=null,N=null,q=i,X=!1;do{var J=q.lane&-536870913;if(J!==q.lane?(Ue&J)===J:(vr&J)===J){var F=q.revertLane;if(F===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),J===Sa&&(X=!0);else if((vr&F)===F){q=q.next,F===Sa&&(X=!0);continue}else J={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(b=N=J,E=d):N=N.next=J,Ce.lanes|=F,Sr|=F;J=q.action,Ps&&a(d,J),d=q.hasEagerState?q.eagerState:a(d,J)}else F={lane:J,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(b=N=F,E=d):N=N.next=F,Ce.lanes|=J,Sr|=J;q=q.next}while(q!==null&&q!==i);if(N===null?E=d:N.next=b,!hn(d,t.memoizedState)&&(Ot=!0,X&&(a=xa,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Yf(t){var i=vt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=t(d,E.action),E=E.next;while(E!==h);hn(d,i.memoizedState)||(Ot=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Fg(t,i,a){var l=Ce,h=vt(),d=He;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!hn((Xe||h).memoizedState,a);E&&(h.memoizedState=a,Ot=!0),h=h.queue;var b=Qg.bind(null,l,h,t);if(ll(2048,8,b,[t]),h.getSnapshot!==i||E||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,Na(9,rc(),Kg.bind(null,l,h,a,i),null),tt===null)throw Error(s(349));d||(vr&124)!==0||Gg(l,i,a)}return a}function Gg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=Gf(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Kg(t,i,a,l){i.value=a,i.getSnapshot=l,Yg(i)&&$g(t)}function Qg(t,i,a){return a(function(){Yg(i)&&$g(t)})}function Yg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!hn(t,a)}catch{return!0}}function $g(t){var i=Ta(t,2);i!==null&&yn(i,t,2)}function $f(t){var i=tn();if(typeof t=="function"){var a=t;if(t=a(),Ps){un(!0);try{a()}finally{un(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},i}function Xg(t,i,a,l){return t.baseState=a,Qf(t,Xe,typeof l=="function"?l:Ui)}function bw(t,i,a,l,h){if(ac(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Wg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Wg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Y.T,E={};Y.T=E;try{var b=a(h,l),N=Y.S;N!==null&&N(E,b),Zg(t,i,b)}catch(q){Xf(t,i,q)}finally{Y.T=d}}else try{d=a(h,l),Zg(t,i,d)}catch(q){Xf(t,i,q)}}function Zg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Jg(t,i,l)},function(l){return Xf(t,i,l)}):Jg(t,i,a)}function Jg(t,i,a){i.status="fulfilled",i.value=a,ey(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Wg(t,a)))}function Xf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,ey(i),i=i.next;while(i!==l)}t.action=null}function ey(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ty(t,i){return i}function ny(t,i){if(He){var a=tt.formState;if(a!==null){e:{var l=Ce;if(He){if(ut){t:{for(var h=ut,d=ai;h.nodeType!==8;){if(!d){h=null;break t}if(h=Un(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ut=Un(h.nextSibling),l=h.data==="F!";break e}}Os(l)}l=!1}l&&(i=a[0])}}return a=tn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ty,lastRenderedState:i},a.queue=l,a=Ty.bind(null,Ce,l),l.dispatch=a,l=$f(!1),d=td.bind(null,Ce,!1,l.queue),l=tn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=bw.bind(null,Ce,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function iy(t){var i=vt();return ry(i,Xe,t)}function ry(t,i,a){if(i=Qf(t,i,ty)[0],t=ic(Ui)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ol(i)}catch(E){throw E===tl?Wu:E}else l=i;i=vt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ce.flags|=2048,Na(9,rc(),ww.bind(null,h,a),null)),[l,d,t]}function ww(t,i){t.action=i}function sy(t){var i=vt(),a=Xe;if(a!==null)return ry(i,a,t);vt(),i=i.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Na(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=Gf(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function rc(){return{destroy:void 0,resource:void 0}}function ay(){return vt().memoizedState}function sc(t,i,a,l){var h=tn();l=l===void 0?null:l,Ce.flags|=t,h.memoizedState=Na(1|i,rc(),a,l)}function ll(t,i,a,l){var h=vt();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&zf(l,Xe.memoizedState.deps)?h.memoizedState=Na(i,d,a,l):(Ce.flags|=t,h.memoizedState=Na(1|i,d,a,l))}function oy(t,i){sc(8390656,8,t,i)}function ly(t,i){ll(2048,8,t,i)}function uy(t,i){return ll(4,2,t,i)}function cy(t,i){return ll(4,4,t,i)}function hy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function fy(t,i,a){a=a!=null?a.concat([t]):null,ll(4,4,hy.bind(null,i,t),a)}function Wf(){}function dy(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&zf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function my(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&zf(i,l[1]))return l[0];if(l=t(),Ps){un(!0);try{t()}finally{un(!1)}}return a.memoizedState=[l,i],l}function Zf(t,i,a){return a===void 0||(vr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=yv(),Ce.lanes|=t,Sr|=t,a)}function py(t,i,a,l){return hn(a,i)?a:Ra.current!==null?(t=Zf(t,a,l),hn(t,i)||(Ot=!0),t):(vr&42)===0?(Ot=!0,t.memoizedState=a):(t=yv(),Ce.lanes|=t,Sr|=t,i)}function gy(t,i,a,l,h){var d=re.p;re.p=d!==0&&8>d?d:8;var E=Y.T,b={};Y.T=b,td(t,!1,i,a);try{var N=h(),q=Y.S;if(q!==null&&q(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=_w(N,l);ul(t,i,X,gn(t))}else ul(t,i,l,gn(t))}catch(J){ul(t,i,{then:function(){},status:"rejected",reason:J},gn())}finally{re.p=d,Y.T=E}}function Aw(){}function Jf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=yy(t).queue;gy(t,h,i,me,a===null?Aw:function(){return vy(t),a(l)})}function yy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function vy(t){var i=yy(t).next.queue;ul(t,i,{},gn())}function ed(){return Gt(Rl)}function _y(){return vt().memoizedState}function Ey(){return vt().memoizedState}function Sw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=gn();t=gr(a);var l=yr(i,t,a);l!==null&&(yn(l,i,a),il(l,i,a)),i={cache:Nf()},t.payload=i;return}i=i.return}}function xw(t,i,a){var l=gn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ac(t)?by(i,a):(a=Ef(t,i,a,l),a!==null&&(yn(a,t,l),wy(a,i,l)))}function Ty(t,i,a){var l=gn();ul(t,i,a,l)}function ul(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ac(t))by(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,b=d(E,a);if(h.hasEagerState=!0,h.eagerState=b,hn(b,E))return Hu(t,i,h,0),tt===null&&qu(),!1}catch{}finally{}if(a=Ef(t,i,h,l),a!==null)return yn(a,t,l),wy(a,i,l),!0}return!1}function td(t,i,a,l){if(l={lane:2,revertLane:Md(),action:l,hasEagerState:!1,eagerState:null,next:null},ac(t)){if(i)throw Error(s(479))}else i=Ef(t,a,l,2),i!==null&&yn(i,t,2)}function ac(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function by(t,i){Ia=ec=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function wy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Do(t,a)}}var oc={readContext:Gt,use:nc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft},Ay={readContext:Gt,use:nc,useCallback:function(t,i){return tn().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:oy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,sc(4194308,4,hy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return sc(4194308,4,t,i)},useInsertionEffect:function(t,i){sc(4,2,t,i)},useMemo:function(t,i){var a=tn();i=i===void 0?null:i;var l=t();if(Ps){un(!0);try{t()}finally{un(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=tn();if(a!==void 0){var h=a(i);if(Ps){un(!0);try{a(i)}finally{un(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=xw.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=tn();return t={current:t},i.memoizedState=t},useState:function(t){t=$f(t);var i=t.queue,a=Ty.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Wf,useDeferredValue:function(t,i){var a=tn();return Zf(a,t,i)},useTransition:function(){var t=$f(!1);return t=gy.bind(null,Ce,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ce,h=tn();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),tt===null)throw Error(s(349));(Ue&124)!==0||Gg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,oy(Qg.bind(null,l,d,t),[t]),l.flags|=2048,Na(9,rc(),Kg.bind(null,l,d,a,i),null),a},useId:function(){var t=tn(),i=tt.identifierPrefix;if(He){var a=Pi,l=Vi;a=(l&~(1<<32-Ft(l)-1)).toString(32)+a,i=""+i+"R"+a,a=tc++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=Ew++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:ed,useFormState:ny,useActionState:ny,useOptimistic:function(t){var i=tn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=td.bind(null,Ce,!0,a),a.dispatch=i,[t,i]},useMemoCache:Kf,useCacheRefresh:function(){return tn().memoizedState=Sw.bind(null,Ce)}},Sy={readContext:Gt,use:nc,useCallback:dy,useContext:Gt,useEffect:ly,useImperativeHandle:fy,useInsertionEffect:uy,useLayoutEffect:cy,useMemo:my,useReducer:ic,useRef:ay,useState:function(){return ic(Ui)},useDebugValue:Wf,useDeferredValue:function(t,i){var a=vt();return py(a,Xe.memoizedState,t,i)},useTransition:function(){var t=ic(Ui)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:ol(t),i]},useSyncExternalStore:Fg,useId:_y,useHostTransitionStatus:ed,useFormState:iy,useActionState:iy,useOptimistic:function(t,i){var a=vt();return Xg(a,Xe,t,i)},useMemoCache:Kf,useCacheRefresh:Ey},Rw={readContext:Gt,use:nc,useCallback:dy,useContext:Gt,useEffect:ly,useImperativeHandle:fy,useInsertionEffect:uy,useLayoutEffect:cy,useMemo:my,useReducer:Yf,useRef:ay,useState:function(){return Yf(Ui)},useDebugValue:Wf,useDeferredValue:function(t,i){var a=vt();return Xe===null?Zf(a,t,i):py(a,Xe.memoizedState,t,i)},useTransition:function(){var t=Yf(Ui)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:ol(t),i]},useSyncExternalStore:Fg,useId:_y,useHostTransitionStatus:ed,useFormState:sy,useActionState:sy,useOptimistic:function(t,i){var a=vt();return Xe!==null?Xg(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Kf,useCacheRefresh:Ey},Da=null,cl=0;function lc(t){var i=cl;return cl+=1,Da===null&&(Da=[]),Pg(Da,t,i)}function hl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function uc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function xy(t){var i=t._init;return i(t._payload)}function Ry(t){function i(j,V){if(t){var B=j.deletions;B===null?(j.deletions=[V],j.flags|=16):B.push(V)}}function a(j,V){if(!t)return null;for(;V!==null;)i(j,V),V=V.sibling;return null}function l(j){for(var V=new Map;j!==null;)j.key!==null?V.set(j.key,j):V.set(j.index,j),j=j.sibling;return V}function h(j,V){return j=ki(j,V),j.index=0,j.sibling=null,j}function d(j,V,B){return j.index=B,t?(B=j.alternate,B!==null?(B=B.index,B<V?(j.flags|=67108866,V):B):(j.flags|=67108866,V)):(j.flags|=1048576,V)}function E(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function b(j,V,B,Z){return V===null||V.tag!==6?(V=bf(B,j.mode,Z),V.return=j,V):(V=h(V,B),V.return=j,V)}function N(j,V,B,Z){var de=B.type;return de===L?X(j,V,B.props.children,Z,B.key):V!==null&&(V.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===x&&xy(de)===V.type)?(V=h(V,B.props),hl(V,B),V.return=j,V):(V=Gu(B.type,B.key,B.props,null,j.mode,Z),hl(V,B),V.return=j,V)}function q(j,V,B,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=wf(B,j.mode,Z),V.return=j,V):(V=h(V,B.children||[]),V.return=j,V)}function X(j,V,B,Z,de){return V===null||V.tag!==7?(V=Is(B,j.mode,Z,de),V.return=j,V):(V=h(V,B),V.return=j,V)}function J(j,V,B){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=bf(""+V,j.mode,B),V.return=j,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case A:return B=Gu(V.type,V.key,V.props,null,j.mode,B),hl(B,V),B.return=j,B;case k:return V=wf(V,j.mode,B),V.return=j,V;case x:var Z=V._init;return V=Z(V._payload),J(j,V,B)}if(Re(V)||C(V))return V=Is(V,j.mode,B,null),V.return=j,V;if(typeof V.then=="function")return J(j,lc(V),B);if(V.$$typeof===W)return J(j,$u(j,V),B);uc(j,V)}return null}function F(j,V,B,Z){var de=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return de!==null?null:b(j,V,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case A:return B.key===de?N(j,V,B,Z):null;case k:return B.key===de?q(j,V,B,Z):null;case x:return de=B._init,B=de(B._payload),F(j,V,B,Z)}if(Re(B)||C(B))return de!==null?null:X(j,V,B,Z,null);if(typeof B.then=="function")return F(j,V,lc(B),Z);if(B.$$typeof===W)return F(j,V,$u(j,B),Z);uc(j,B)}return null}function G(j,V,B,Z,de){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(B)||null,b(V,j,""+Z,de);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return j=j.get(Z.key===null?B:Z.key)||null,N(V,j,Z,de);case k:return j=j.get(Z.key===null?B:Z.key)||null,q(V,j,Z,de);case x:var Oe=Z._init;return Z=Oe(Z._payload),G(j,V,B,Z,de)}if(Re(Z)||C(Z))return j=j.get(B)||null,X(V,j,Z,de,null);if(typeof Z.then=="function")return G(j,V,B,lc(Z),de);if(Z.$$typeof===W)return G(j,V,B,$u(V,Z),de);uc(V,Z)}return null}function we(j,V,B,Z){for(var de=null,Oe=null,pe=V,Ee=V=0,kt=null;pe!==null&&Ee<B.length;Ee++){pe.index>Ee?(kt=pe,pe=null):kt=pe.sibling;var qe=F(j,pe,B[Ee],Z);if(qe===null){pe===null&&(pe=kt);break}t&&pe&&qe.alternate===null&&i(j,pe),V=d(qe,V,Ee),Oe===null?de=qe:Oe.sibling=qe,Oe=qe,pe=kt}if(Ee===B.length)return a(j,pe),He&&Ns(j,Ee),de;if(pe===null){for(;Ee<B.length;Ee++)pe=J(j,B[Ee],Z),pe!==null&&(V=d(pe,V,Ee),Oe===null?de=pe:Oe.sibling=pe,Oe=pe);return He&&Ns(j,Ee),de}for(pe=l(pe);Ee<B.length;Ee++)kt=G(pe,j,Ee,B[Ee],Z),kt!==null&&(t&&kt.alternate!==null&&pe.delete(kt.key===null?Ee:kt.key),V=d(kt,V,Ee),Oe===null?de=kt:Oe.sibling=kt,Oe=kt);return t&&pe.forEach(function(kr){return i(j,kr)}),He&&Ns(j,Ee),de}function _e(j,V,B,Z){if(B==null)throw Error(s(151));for(var de=null,Oe=null,pe=V,Ee=V=0,kt=null,qe=B.next();pe!==null&&!qe.done;Ee++,qe=B.next()){pe.index>Ee?(kt=pe,pe=null):kt=pe.sibling;var kr=F(j,pe,qe.value,Z);if(kr===null){pe===null&&(pe=kt);break}t&&pe&&kr.alternate===null&&i(j,pe),V=d(kr,V,Ee),Oe===null?de=kr:Oe.sibling=kr,Oe=kr,pe=kt}if(qe.done)return a(j,pe),He&&Ns(j,Ee),de;if(pe===null){for(;!qe.done;Ee++,qe=B.next())qe=J(j,qe.value,Z),qe!==null&&(V=d(qe,V,Ee),Oe===null?de=qe:Oe.sibling=qe,Oe=qe);return He&&Ns(j,Ee),de}for(pe=l(pe);!qe.done;Ee++,qe=B.next())qe=G(pe,j,Ee,qe.value,Z),qe!==null&&(t&&qe.alternate!==null&&pe.delete(qe.key===null?Ee:qe.key),V=d(qe,V,Ee),Oe===null?de=qe:Oe.sibling=qe,Oe=qe);return t&&pe.forEach(function(I1){return i(j,I1)}),He&&Ns(j,Ee),de}function Ze(j,V,B,Z){if(typeof B=="object"&&B!==null&&B.type===L&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case A:e:{for(var de=B.key;V!==null;){if(V.key===de){if(de=B.type,de===L){if(V.tag===7){a(j,V.sibling),Z=h(V,B.props.children),Z.return=j,j=Z;break e}}else if(V.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===x&&xy(de)===V.type){a(j,V.sibling),Z=h(V,B.props),hl(Z,B),Z.return=j,j=Z;break e}a(j,V);break}else i(j,V);V=V.sibling}B.type===L?(Z=Is(B.props.children,j.mode,Z,B.key),Z.return=j,j=Z):(Z=Gu(B.type,B.key,B.props,null,j.mode,Z),hl(Z,B),Z.return=j,j=Z)}return E(j);case k:e:{for(de=B.key;V!==null;){if(V.key===de)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){a(j,V.sibling),Z=h(V,B.children||[]),Z.return=j,j=Z;break e}else{a(j,V);break}else i(j,V);V=V.sibling}Z=wf(B,j.mode,Z),Z.return=j,j=Z}return E(j);case x:return de=B._init,B=de(B._payload),Ze(j,V,B,Z)}if(Re(B))return we(j,V,B,Z);if(C(B)){if(de=C(B),typeof de!="function")throw Error(s(150));return B=de.call(B),_e(j,V,B,Z)}if(typeof B.then=="function")return Ze(j,V,lc(B),Z);if(B.$$typeof===W)return Ze(j,V,$u(j,B),Z);uc(j,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,V!==null&&V.tag===6?(a(j,V.sibling),Z=h(V,B),Z.return=j,j=Z):(a(j,V),Z=bf(B,j.mode,Z),Z.return=j,j=Z),E(j)):a(j,V)}return function(j,V,B,Z){try{cl=0;var de=Ze(j,V,B,Z);return Da=null,de}catch(pe){if(pe===tl||pe===Wu)throw pe;var Oe=fn(29,pe,null,j.mode);return Oe.lanes=Z,Oe.return=j,Oe}finally{}}}var Oa=Ry(!0),Iy=Ry(!1),Nn=ee(null),oi=null;function _r(t){var i=t.alternate;oe(St,St.current&1),oe(Nn,t),oi===null&&(i===null||Ra.current!==null||i.memoizedState!==null)&&(oi=t)}function Cy(t){if(t.tag===22){if(oe(St,St.current),oe(Nn,t),oi===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(oi=t)}}else Er()}function Er(){oe(St,St.current),oe(Nn,Nn.current)}function zi(t){ue(Nn),oi===t&&(oi=null),ue(St)}var St=ee(0);function cc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Gd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function nd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var id={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=gn(),h=gr(l);h.payload=i,a!=null&&(h.callback=a),i=yr(t,h,l),i!==null&&(yn(i,t,l),il(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=gn(),h=gr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=yr(t,h,l),i!==null&&(yn(i,t,l),il(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=gn(),l=gr(a);l.tag=2,i!=null&&(l.callback=i),i=yr(t,l,a),i!==null&&(yn(i,t,a),il(i,t,a))}};function Ny(t,i,a,l,h,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!Qo(a,l)||!Qo(h,d):!0}function Dy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&id.enqueueReplaceState(i,i.state,null)}function Ls(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var hc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Oy(t){hc(t)}function My(t){console.error(t)}function ky(t){hc(t)}function fc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Vy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function rd(t,i,a){return a=gr(a),a.tag=3,a.payload={element:null},a.callback=function(){fc(t,i)},a}function Py(t){return t=gr(t),t.tag=3,t}function Ly(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Vy(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Vy(i,a,l),typeof h!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function Iw(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Zo(i,a,h,!0),a=Nn.current,a!==null){switch(a.tag){case 13:return oi===null?Id():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Mf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Nd(t,l,h)),!1;case 22:return a.flags|=65536,l===Mf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Nd(t,l,h)),!1}throw Error(s(435,a.tag))}return Nd(t,l,h),Id(),!1}if(He)return i=Nn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==xf&&(t=Error(s(422),{cause:l}),Wo(xn(t,a)))):(l!==xf&&(i=Error(s(423),{cause:l}),Wo(xn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=xn(l,a),h=rd(t.stateNode,l,h),Pf(t,h),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=xn(d,a),vl===null?vl=[d]:vl.push(d),ct!==4&&(ct=2),i===null)return!0;l=xn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=rd(a.stateNode,l,t),Pf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(xr===null||!xr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Py(h),Ly(h,t,a,l),Pf(a,h),!1}a=a.return}while(a!==null);return!1}var jy=Error(s(461)),Ot=!1;function jt(t,i,a,l){i.child=t===null?Iy(i,null,a,l):Oa(i,t.child,a,l)}function Uy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var E={};for(var b in l)b!=="ref"&&(E[b]=l[b])}else E=l;return ks(i),l=Bf(t,i,a,E,d,h),b=qf(),t!==null&&!Ot?(Hf(t,i,h),Bi(t,i,h)):(He&&b&&Af(i),i.flags|=1,jt(t,i,l,h),i.child)}function zy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Tf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,By(t,i,d,l,h)):(t=Gu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!fd(t,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(E,l)&&t.ref===i.ref)return Bi(t,i,h)}return i.flags|=1,t=ki(d,l),t.ref=i.ref,t.return=i,i.child=t}function By(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Qo(d,l)&&t.ref===i.ref)if(Ot=!1,i.pendingProps=l=d,fd(t,h))(t.flags&131072)!==0&&(Ot=!0);else return i.lanes=t.lanes,Bi(t,i,h)}return sd(t,i,a,l,h)}function qy(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Hy(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xu(i,d!==null?d.cachePool:null),d!==null?Bg(i,d):jf(),Cy(i);else return i.lanes=i.childLanes=536870912,Hy(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Xu(i,d.cachePool),Bg(i,d),Er(),i.memoizedState=null):(t!==null&&Xu(i,null),jf(),Er());return jt(t,i,h,a),i.child}function Hy(t,i,a,l){var h=Of();return h=h===null?null:{parent:At._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Xu(i,null),jf(),Cy(i),t!==null&&Zo(t,i,l,!0),null}function dc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function sd(t,i,a,l,h){return ks(i),a=Bf(t,i,a,l,void 0,h),l=qf(),t!==null&&!Ot?(Hf(t,i,h),Bi(t,i,h)):(He&&l&&Af(i),i.flags|=1,jt(t,i,a,h),i.child)}function Fy(t,i,a,l,h,d){return ks(i),i.updateQueue=null,a=Hg(i,l,a,h),qg(t),l=qf(),t!==null&&!Ot?(Hf(t,i,d),Bi(t,i,d)):(He&&l&&Af(i),i.flags|=1,jt(t,i,a,d),i.child)}function Gy(t,i,a,l,h){if(ks(i),i.stateNode===null){var d=ba,E=a.contextType;typeof E=="object"&&E!==null&&(d=Gt(E)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=id,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},kf(i),E=a.contextType,d.context=typeof E=="object"&&E!==null?Gt(E):ba,d.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(nd(i,a,E,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&id.enqueueReplaceState(d,d.state,null),sl(i,l,d,h),rl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,N=Ls(a,b);d.props=N;var q=d.context,X=a.contextType;E=ba,typeof X=="object"&&X!==null&&(E=Gt(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||q!==E)&&Dy(i,d,l,E),pr=!1;var F=i.memoizedState;d.state=F,sl(i,l,d,h),rl(),q=i.memoizedState,b||F!==q||pr?(typeof J=="function"&&(nd(i,a,J,l),q=i.memoizedState),(N=pr||Ny(i,a,N,l,F,q,E))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=E,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Vf(t,i),E=i.memoizedProps,X=Ls(a,E),d.props=X,J=i.pendingProps,F=d.context,q=a.contextType,N=ba,typeof q=="object"&&q!==null&&(N=Gt(q)),b=a.getDerivedStateFromProps,(q=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==J||F!==N)&&Dy(i,d,l,N),pr=!1,F=i.memoizedState,d.state=F,sl(i,l,d,h),rl();var G=i.memoizedState;E!==J||F!==G||pr||t!==null&&t.dependencies!==null&&Yu(t.dependencies)?(typeof b=="function"&&(nd(i,a,b,l),G=i.memoizedState),(X=pr||Ny(i,a,X,l,F,G,N)||t!==null&&t.dependencies!==null&&Yu(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=N,l=X):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,dc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Oa(i,t.child,null,h),i.child=Oa(i,null,a,h)):jt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Bi(t,i,h),t}function Ky(t,i,a,l){return Xo(),i.flags|=256,jt(t,i,a,l),i.child}var ad={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function od(t){return{baseLanes:t,cachePool:Mg()}}function ld(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Dn),t}function Qy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(He){if(h?_r(i):Er(),He){var b=ut,N;if(N=b){e:{for(N=b,b=ai;N.nodeType!==8;){if(!b){b=null;break e}if(N=Un(N.nextSibling),N===null){b=null;break e}}b=N}b!==null?(i.memoizedState={dehydrated:b,treeContext:Cs!==null?{id:Vi,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},N=fn(18,null,null,0),N.stateNode=b,N.return=i,i.child=N,en=i,ut=null,N=!0):N=!1}N||Os(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Gd(b)?i.lanes=32:i.lanes=536870912,null;zi(i)}return b=l.children,l=l.fallback,h?(Er(),h=i.mode,b=mc({mode:"hidden",children:b},h),l=Is(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,h=i.child,h.memoizedState=od(a),h.childLanes=ld(t,E,a),i.memoizedState=ad,l):(_r(i),ud(i,b))}if(N=t.memoizedState,N!==null&&(b=N.dehydrated,b!==null)){if(d)i.flags&256?(_r(i),i.flags&=-257,i=cd(t,i,a)):i.memoizedState!==null?(Er(),i.child=t.child,i.flags|=128,i=null):(Er(),h=l.fallback,b=i.mode,l=mc({mode:"visible",children:l.children},b),h=Is(h,b,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Oa(i,t.child,null,a),l=i.child,l.memoizedState=od(a),l.childLanes=ld(t,E,a),i.memoizedState=ad,i=h);else if(_r(i),Gd(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var q=E.dgst;E=q,l=Error(s(419)),l.stack="",l.digest=E,Wo({value:l,source:null,stack:null}),i=cd(t,i,a)}else if(Ot||Zo(t,i,a,!1),E=(a&t.childLanes)!==0,Ot||E){if(E=tt,E!==null&&(l=a&-a,l=(l&42)!==0?1:or(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,Ta(t,l),yn(E,t,l),jy;b.data==="$?"||Id(),i=cd(t,i,a)}else b.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,ut=Un(b.nextSibling),en=i,He=!0,Ds=null,ai=!1,t!==null&&(In[Cn++]=Vi,In[Cn++]=Pi,In[Cn++]=Cs,Vi=t.id,Pi=t.overflow,Cs=i),i=ud(i,l.children),i.flags|=4096);return i}return h?(Er(),h=l.fallback,b=i.mode,N=t.child,q=N.sibling,l=ki(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,q!==null?h=ki(q,h):(h=Is(h,b,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,b=t.child.memoizedState,b===null?b=od(a):(N=b.cachePool,N!==null?(q=At._currentValue,N=N.parent!==q?{parent:q,pool:q}:N):N=Mg(),b={baseLanes:b.baseLanes|a,cachePool:N}),h.memoizedState=b,h.childLanes=ld(t,E,a),i.memoizedState=ad,l):(_r(i),a=t.child,t=a.sibling,a=ki(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=a,i.memoizedState=null,a)}function ud(t,i){return i=mc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function mc(t,i){return t=fn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function cd(t,i,a){return Oa(i,t.child,null,a),t=ud(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Yy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),If(t.return,i,a)}function hd(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function $y(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(jt(t,i,l.children,a),l=St.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yy(t,a,i);else if(t.tag===19)Yy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(oe(St,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&cc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),hd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&cc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}hd(i,!0,a,null,d);break;case"together":hd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Bi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Sr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Zo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=ki(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ki(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function fd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Yu(t)))}function Cw(t,i,a){switch(i.tag){case 3:et(i,i.stateNode.containerInfo),mr(i,At,t.memoizedState.cache),Xo();break;case 27:case 5:ar(i);break;case 4:et(i,i.stateNode.containerInfo);break;case 10:mr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(_r(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Qy(t,i,a):(_r(i),t=Bi(t,i,a),t!==null?t.sibling:null);_r(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Zo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return $y(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(St,St.current),l)break;return null;case 22:case 23:return i.lanes=0,qy(t,i,a);case 24:mr(i,At,t.memoizedState.cache)}return Bi(t,i,a)}function Xy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ot=!0;else{if(!fd(t,a)&&(i.flags&128)===0)return Ot=!1,Cw(t,i,a);Ot=(t.flags&131072)!==0}else Ot=!1,He&&(i.flags&1048576)!==0&&xg(i,Qu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Tf(l)?(t=Ls(l,t),i.tag=1,i=Gy(null,i,l,t,a)):(i.tag=0,i=sd(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ie){i.tag=11,i=Uy(null,i,l,t,a);break e}else if(h===D){i.tag=14,i=zy(null,i,l,t,a);break e}}throw i=ve(l)||l,Error(s(306,i,""))}}return i;case 0:return sd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ls(l,i.pendingProps),Gy(t,i,l,h,a);case 3:e:{if(et(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Vf(t,i),sl(i,l,null,a);var E=i.memoizedState;if(l=E.cache,mr(i,At,l),l!==d.cache&&Cf(i,[At],a,!0),rl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Ky(t,i,l,a);break e}else if(l!==h){h=xn(Error(s(424)),i),Wo(h),i=Ky(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Un(t.firstChild),en=i,He=!0,Ds=null,ai=!0,a=Iy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Xo(),l===h){i=Bi(t,i,a);break e}jt(t,i,l,a)}i=i.child}return i;case 26:return dc(t,i),t===null?(a=e0(i.type,null,i.pendingProps,null))?i.memoizedState=a:He||(a=i.type,t=i.pendingProps,l=Ic(Ae.current).createElement(a),l[Tt]=i,l[pt]=t,zt(l,a,t),ht(l),i.stateNode=l):i.memoizedState=e0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ar(i),t===null&&He&&(l=i.stateNode=Wv(i.type,i.pendingProps,Ae.current),en=i,ai=!0,h=ut,Cr(i.type)?(Kd=h,ut=Un(l.firstChild)):ut=h),jt(t,i,i.pendingProps.children,a),dc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&He&&((h=l=ut)&&(l=i1(l,i.type,i.pendingProps,ai),l!==null?(i.stateNode=l,en=i,ut=Un(l.firstChild),ai=!1,h=!0):h=!1),h||Os(i)),ar(i),h=i.type,d=i.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,qd(h,d)?l=null:E!==null&&qd(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=Bf(t,i,Tw,null,null,a),Rl._currentValue=h),dc(t,i),jt(t,i,l,a),i.child;case 6:return t===null&&He&&((t=a=ut)&&(a=r1(a,i.pendingProps,ai),a!==null?(i.stateNode=a,en=i,ut=null,t=!0):t=!1),t||Os(i)),null;case 13:return Qy(t,i,a);case 4:return et(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Oa(i,null,l,a):jt(t,i,l,a),i.child;case 11:return Uy(t,i,i.type,i.pendingProps,a);case 7:return jt(t,i,i.pendingProps,a),i.child;case 8:return jt(t,i,i.pendingProps.children,a),i.child;case 12:return jt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,mr(i,i.type,l.value),jt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ks(i),h=Gt(h),l=l(h),i.flags|=1,jt(t,i,l,a),i.child;case 14:return zy(t,i,i.type,i.pendingProps,a);case 15:return By(t,i,i.type,i.pendingProps,a);case 19:return $y(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=mc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=ki(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return qy(t,i,a);case 24:return ks(i),l=Gt(At),t===null?(h=Of(),h===null&&(h=tt,d=Nf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},kf(i),mr(i,At,h)):((t.lanes&a)!==0&&(Vf(t,i),sl(i,null,null,a),rl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),mr(i,At,l)):(l=d.cache,mr(i,At,l),l!==h.cache&&Cf(i,[At],a,!0))),jt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function qi(t){t.flags|=4}function Wy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!s0(i)){if(i=Nn.current,i!==null&&((Ue&4194048)===Ue?oi!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||i!==oi))throw nl=Mf,kg;t.flags|=8192}}function pc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Co():536870912,t.lanes|=i,Pa|=i)}function fl(t,i){if(!He)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Nw(t,i,a){var l=i.pendingProps;switch(Sf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ji(At),Yn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&($o(i)?qi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Cg())),at(i),null;case 26:return a=i.memoizedState,t===null?(qi(i),a!==null?(at(i),Wy(i,a)):(at(i),i.flags&=-16777217)):a?a!==t.memoizedState?(qi(i),at(i),Wy(i,a)):(at(i),i.flags&=-16777217):(t.memoizedProps!==l&&qi(i),at(i),i.flags&=-16777217),null;case 27:Ti(i),a=Ae.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}t=ge.current,$o(i)?Rg(i):(t=Wv(h,l,a),i.stateNode=t,qi(i))}return at(i),null;case 5:if(Ti(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}if(t=ge.current,$o(i))Rg(i);else{switch(h=Ic(Ae.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Tt]=i,t[pt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(zt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&qi(i)}}return at(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&qi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ae.current,$o(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Fv(t.nodeValue,a)),t||Os(i)}else t=Ic(t).createTextNode(l),t[Tt]=i,i.stateNode=t}return at(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=$o(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Tt]=i}else Xo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),h=!1}else h=Cg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(zi(i),i):(zi(i),null)}if(zi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),pc(i,i.updateQueue),at(i),null;case 4:return Yn(),t===null&&Ld(i.stateNode.containerInfo),at(i),null;case 10:return ji(i.type),at(i),null;case 19:if(ue(St),h=i.memoizedState,h===null)return at(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)fl(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=cc(t),d!==null){for(i.flags|=128,fl(h,!1),t=d.updateQueue,i.updateQueue=t,pc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Sg(a,t),a=a.sibling;return oe(St,St.current&1|2),i.child}t=t.sibling}h.tail!==null&&En()>vc&&(i.flags|=128,l=!0,fl(h,!1),i.lanes=4194304)}else{if(!l)if(t=cc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,pc(i,t),fl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!He)return at(i),null}else 2*En()-h.renderingStartTime>vc&&a!==536870912&&(i.flags|=128,l=!0,fl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=En(),i.sibling=null,t=St.current,oe(St,l?t&1|2:t&1),i):(at(i),null);case 22:case 23:return zi(i),Uf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&pc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ue(Vs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ji(At),at(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Dw(t,i){switch(Sf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ji(At),Yn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ti(i),null;case 13:if(zi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Xo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ue(St),null;case 4:return Yn(),null;case 10:return ji(i.type),null;case 22:case 23:return zi(i),Uf(),t!==null&&ue(Vs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ji(At),null;case 25:return null;default:return null}}function Zy(t,i){switch(Sf(i),i.tag){case 3:ji(At),Yn();break;case 26:case 27:case 5:Ti(i);break;case 4:Yn();break;case 13:zi(i);break;case 19:ue(St);break;case 10:ji(i.type);break;case 22:case 23:zi(i),Uf(),t!==null&&ue(Vs);break;case 24:ji(At)}}function dl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(b){Je(i,i.return,b)}}function Tr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var E=l.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,h=i;var N=a,q=b;try{q()}catch(X){Je(h,N,X)}}}l=l.next}while(l!==d)}}catch(X){Je(i,i.return,X)}}function Jy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{zg(i,a)}catch(l){Je(t,t.return,l)}}}function ev(t,i,a){a.props=Ls(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,i,l)}}function ml(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Je(t,i,h)}}function li(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Je(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(t,i,h)}else a.current=null}function tv(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Je(t,t.return,h)}}function dd(t,i,a){try{var l=t.stateNode;Zw(l,t.type,a,i),l[pt]=i}catch(h){Je(t,t.return,h)}}function nv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Cr(t.type)||t.tag===4}function md(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Cr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Rc));else if(l!==4&&(l===27&&Cr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(pd(t,i,a),t=t.sibling;t!==null;)pd(t,i,a),t=t.sibling}function gc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Cr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(gc(t,i,a),t=t.sibling;t!==null;)gc(t,i,a),t=t.sibling}function iv(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);zt(i,l,a),i[Tt]=t,i[pt]=a}catch(d){Je(t,t.return,d)}}var Hi=!1,dt=!1,gd=!1,rv=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function Ow(t,i){if(t=t.containerInfo,zd=kc,t=pg(t),mf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,b=-1,N=-1,q=0,X=0,J=t,F=null;t:for(;;){for(var G;J!==a||h!==0&&J.nodeType!==3||(b=E+h),J!==d||l!==0&&J.nodeType!==3||(N=E+l),J.nodeType===3&&(E+=J.nodeValue.length),(G=J.firstChild)!==null;)F=J,J=G;for(;;){if(J===t)break t;if(F===a&&++q===h&&(b=E),F===d&&++X===l&&(N=E),(G=J.nextSibling)!==null)break;J=F,F=J.parentNode}J=G}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bd={focusedElem:t,selectionRange:a},kc=!1,Mt=i;Mt!==null;)if(i=Mt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Mt=t;else for(;Mt!==null;){switch(i=Mt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var we=Ls(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(we,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Je(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Fd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Fd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Mt=t;break}Mt=i.return}}function sv(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:br(t,a),l&4&&dl(5,a);break;case 1:if(br(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(E){Je(a,a.return,E)}else{var h=Ls(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Je(a,a.return,E)}}l&64&&Jy(a),l&512&&ml(a,a.return);break;case 3:if(br(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{zg(t,i)}catch(E){Je(a,a.return,E)}}break;case 27:i===null&&l&4&&iv(a);case 26:case 5:br(t,a),i===null&&l&4&&tv(a),l&512&&ml(a,a.return);break;case 12:br(t,a);break;case 13:br(t,a),l&4&&lv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Bw.bind(null,a),s1(t,a))));break;case 22:if(l=a.memoizedState!==null||Hi,!l){i=i!==null&&i.memoizedState!==null||dt,h=Hi;var d=dt;Hi=l,(dt=i)&&!d?wr(t,a,(a.subtreeFlags&8772)!==0):br(t,a),Hi=h,dt=d}break;case 30:break;default:br(t,a)}}function av(t){var i=t.alternate;i!==null&&(t.alternate=null,av(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&cr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rt=null,nn=!1;function Fi(t,i,a){for(a=a.child;a!==null;)ov(t,i,a),a=a.sibling}function ov(t,i,a){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(lt,a)}catch{}switch(a.tag){case 26:dt||li(a,i),Fi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:dt||li(a,i);var l=rt,h=nn;Cr(a.type)&&(rt=a.stateNode,nn=!1),Fi(t,i,a),wl(a.stateNode),rt=l,nn=h;break;case 5:dt||li(a,i);case 6:if(l=rt,h=nn,rt=null,Fi(t,i,a),rt=l,nn=h,rt!==null)if(nn)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(d){Je(a,i,d)}else try{rt.removeChild(a.stateNode)}catch(d){Je(a,i,d)}break;case 18:rt!==null&&(nn?(t=rt,$v(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Dl(t)):$v(rt,a.stateNode));break;case 4:l=rt,h=nn,rt=a.stateNode.containerInfo,nn=!0,Fi(t,i,a),rt=l,nn=h;break;case 0:case 11:case 14:case 15:dt||Tr(2,a,i),dt||Tr(4,a,i),Fi(t,i,a);break;case 1:dt||(li(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ev(a,i,l)),Fi(t,i,a);break;case 21:Fi(t,i,a);break;case 22:dt=(l=dt)||a.memoizedState!==null,Fi(t,i,a),dt=l;break;default:Fi(t,i,a)}}function lv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Dl(t)}catch(a){Je(i,i.return,a)}}function Mw(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new rv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new rv),i;default:throw Error(s(435,t.tag))}}function yd(t,i){var a=Mw(t);i.forEach(function(l){var h=qw.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function dn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,E=i,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(Cr(b.type)){rt=b.stateNode,nn=!1;break e}break;case 5:rt=b.stateNode,nn=!1;break e;case 3:case 4:rt=b.stateNode.containerInfo,nn=!0;break e}b=b.return}if(rt===null)throw Error(s(160));ov(d,E,h),rt=null,nn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)uv(i,t),i=i.sibling}var jn=null;function uv(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(i,t),mn(t),l&4&&(Tr(3,t,t.return),dl(3,t),Tr(5,t,t.return));break;case 1:dn(i,t),mn(t),l&512&&(dt||a===null||li(a,a.return)),l&64&&Hi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=jn;if(dn(i,t),mn(t),l&512&&(dt||a===null||li(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[fs]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),zt(d,l,a),d[Tt]=t,ht(d),l=d;break e;case"link":var E=i0("link","href",h).get(l+(a.href||""));if(E){for(var b=0;b<E.length;b++)if(d=E[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(b,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;case"meta":if(E=i0("meta","content",h).get(l+(a.content||""))){for(b=0;b<E.length;b++)if(d=E[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(b,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Tt]=t,ht(d),l=d}t.stateNode=l}else r0(h,t.type,t.stateNode);else t.stateNode=n0(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?r0(h,t.type,t.stateNode):n0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&dd(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(i,t),mn(t),l&512&&(dt||a===null||li(a,a.return)),a!==null&&l&4&&dd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,t),mn(t),l&512&&(dt||a===null||li(a,a.return)),t.flags&32){h=t.stateNode;try{bn(h,"")}catch(G){Je(t,t.return,G)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,dd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(gd=!0);break;case 6:if(dn(i,t),mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(G){Je(t,t.return,G)}}break;case 3:if(Dc=null,h=jn,jn=Cc(i.containerInfo),dn(i,t),jn=h,mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Dl(i.containerInfo)}catch(G){Je(t,t.return,G)}gd&&(gd=!1,cv(t));break;case 4:l=jn,jn=Cc(t.stateNode.containerInfo),dn(i,t),mn(t),jn=l;break;case 12:dn(i,t),mn(t);break;case 13:dn(i,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wd=En()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yd(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,q=Hi,X=dt;if(Hi=q||h,dt=X||N,dn(i,t),dt=X,Hi=q,mn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||Hi||dt||js(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=N.stateNode;var J=N.memoizedProps.style,F=J!=null&&J.hasOwnProperty("display")?J.display:null;b.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){Je(N,N.return,G)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(G){Je(N,N.return,G)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,yd(t,a))));break;case 19:dn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yd(t,l)));break;case 30:break;case 21:break;default:dn(i,t),mn(t)}}function mn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(nv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=md(t);gc(t,d,h);break;case 5:var E=a.stateNode;a.flags&32&&(bn(E,""),a.flags&=-33);var b=md(t);gc(t,b,E);break;case 3:case 4:var N=a.stateNode.containerInfo,q=md(t);pd(t,q,N);break;default:throw Error(s(161))}}catch(X){Je(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function cv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;cv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function br(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)sv(t,i.alternate,i),i=i.sibling}function js(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Tr(4,i,i.return),js(i);break;case 1:li(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ev(i,i.return,a),js(i);break;case 27:wl(i.stateNode);case 26:case 5:li(i,i.return),js(i);break;case 22:i.memoizedState===null&&js(i);break;case 30:js(i);break;default:js(i)}t=t.sibling}}function wr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:wr(h,d,a),dl(4,d);break;case 1:if(wr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){Je(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Ug(N[h],b)}catch(q){Je(l,l.return,q)}}a&&E&64&&Jy(d),ml(d,d.return);break;case 27:iv(d);case 26:case 5:wr(h,d,a),a&&l===null&&E&4&&tv(d),ml(d,d.return);break;case 12:wr(h,d,a);break;case 13:wr(h,d,a),a&&E&4&&lv(h,d);break;case 22:d.memoizedState===null&&wr(h,d,a),ml(d,d.return);break;case 30:break;default:wr(h,d,a)}i=i.sibling}}function vd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Jo(a))}function _d(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Jo(t))}function ui(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)hv(t,i,a,l),i=i.sibling}function hv(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ui(t,i,a,l),h&2048&&dl(9,i);break;case 1:ui(t,i,a,l);break;case 3:ui(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Jo(t)));break;case 12:if(h&2048){ui(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,E=d.id,b=d.onPostCommit;typeof b=="function"&&b(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Je(i,i.return,N)}}else ui(t,i,a,l);break;case 13:ui(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,E=i.alternate,i.memoizedState!==null?d._visibility&2?ui(t,i,a,l):pl(t,i):d._visibility&2?ui(t,i,a,l):(d._visibility|=2,Ma(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&vd(E,i);break;case 24:ui(t,i,a,l),h&2048&&_d(i.alternate,i);break;default:ui(t,i,a,l)}}function Ma(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,E=i,b=a,N=l,q=E.flags;switch(E.tag){case 0:case 11:case 15:Ma(d,E,b,N,h),dl(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&2?Ma(d,E,b,N,h):pl(d,E):(X._visibility|=2,Ma(d,E,b,N,h)),h&&q&2048&&vd(E.alternate,E);break;case 24:Ma(d,E,b,N,h),h&&q&2048&&_d(E.alternate,E);break;default:Ma(d,E,b,N,h)}i=i.sibling}}function pl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:pl(a,l),h&2048&&vd(l.alternate,l);break;case 24:pl(a,l),h&2048&&_d(l.alternate,l);break;default:pl(a,l)}i=i.sibling}}var gl=8192;function ka(t){if(t.subtreeFlags&gl)for(t=t.child;t!==null;)fv(t),t=t.sibling}function fv(t){switch(t.tag){case 26:ka(t),t.flags&gl&&t.memoizedState!==null&&v1(jn,t.memoizedState,t.memoizedProps);break;case 5:ka(t);break;case 3:case 4:var i=jn;jn=Cc(t.stateNode.containerInfo),ka(t),jn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=gl,gl=16777216,ka(t),gl=i):ka(t));break;default:ka(t)}}function dv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function yl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,pv(l,t)}dv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)mv(t),t=t.sibling}function mv(t){switch(t.tag){case 0:case 11:case 15:yl(t),t.flags&2048&&Tr(9,t,t.return);break;case 3:yl(t);break;case 12:yl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,yc(t)):yl(t);break;default:yl(t)}}function yc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,pv(l,t)}dv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Tr(8,i,i.return),yc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,yc(i));break;default:yc(i)}t=t.sibling}}function pv(t,i){for(;Mt!==null;){var a=Mt;switch(a.tag){case 0:case 11:case 15:Tr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Mt=l;else e:for(a=t;Mt!==null;){l=Mt;var h=l.sibling,d=l.return;if(av(l),l===a){Mt=null;break e}if(h!==null){h.return=d,Mt=h;break e}Mt=d}}}var kw={getCacheForType:function(t){var i=Gt(At),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},Vw=typeof WeakMap=="function"?WeakMap:Map,Qe=0,tt=null,Me=null,Ue=0,Ye=0,pn=null,Ar=!1,Va=!1,Ed=!1,Gi=0,ct=0,Sr=0,Us=0,Td=0,Dn=0,Pa=0,vl=null,rn=null,bd=!1,wd=0,vc=1/0,_c=null,xr=null,Ut=0,Rr=null,La=null,ja=0,Ad=0,Sd=null,gv=null,_l=0,xd=null;function gn(){if((Qe&2)!==0&&Ue!==0)return Ue&-Ue;if(Y.T!==null){var t=Sa;return t!==0?t:Md()}return lr()}function yv(){Dn===0&&(Dn=(Ue&536870912)===0||He?Io():536870912);var t=Nn.current;return t!==null&&(t.flags|=32),Dn}function yn(t,i,a){(t===tt&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Ua(t,0),Ir(t,Ue,Dn,!1)),wi(t,a),((Qe&2)===0||t!==tt)&&(t===tt&&((Qe&2)===0&&(Us|=a),ct===4&&Ir(t,Ue,Dn,!1)),ci(t))}function vv(t,i,a){if((Qe&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||hs(t,i),h=l?jw(t,i):Cd(t,i,!0),d=l;do{if(h===0){Va&&!l&&Ir(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Pw(a)){h=Cd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var b=t;h=vl;var N=b.current.memoizedState.isDehydrated;if(N&&(Ua(b,E).flags|=256),E=Cd(b,E,!1),E!==2){if(Ed&&!N){b.errorRecoveryDisabledLanes|=d,Us|=d,h=4;break e}d=rn,rn=h,d!==null&&(rn===null?rn=d:rn.push.apply(rn,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){Ua(t,0),Ir(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ir(l,i,Dn,!Ar);break e;case 2:rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=wd+300-En(),10<h)){if(Ir(l,i,Dn,!Ar),na(l,0,!0)!==0)break e;l.timeoutHandle=Qv(_v.bind(null,l,a,rn,_c,bd,i,Dn,Us,Pa,Ar,d,2,-0,0),h);break e}_v(l,a,rn,_c,bd,i,Dn,Us,Pa,Ar,d,0,-0,0)}}break}while(!0);ci(t)}function _v(t,i,a,l,h,d,E,b,N,q,X,J,F,G){if(t.timeoutHandle=-1,J=i.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(xl={stylesheets:null,count:0,unsuspend:y1},fv(i),J=_1(),J!==null)){t.cancelPendingCommit=J(xv.bind(null,t,i,d,a,l,h,E,b,N,X,1,F,G)),Ir(t,d,E,!q);return}xv(t,i,d,a,l,h,E,b,N)}function Pw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!hn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ir(t,i,a,l){i&=~Td,i&=~Us,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Ft(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&$n(t,a,i)}function Ec(){return(Qe&6)===0?(El(0),!1):!0}function Rd(){if(Me!==null){if(Ye===0)var t=Me.return;else t=Me,Li=Ms=null,Ff(t),Da=null,cl=0,t=Me;for(;t!==null;)Zy(t.alternate,t),t=t.return;Me=null}}function Ua(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,e1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Rd(),tt=t,Me=a=ki(t.current,null),Ue=i,Ye=0,pn=null,Ar=!1,Va=hs(t,i),Ed=!1,Pa=Dn=Td=Us=Sr=ct=0,rn=vl=null,bd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Ft(l),d=1<<h;i|=t[h],l&=~d}return Gi=i,qu(),a}function Ev(t,i){Ce=null,Y.H=oc,i===tl||i===Wu?(i=Lg(),Ye=3):i===kg?(i=Lg(),Ye=4):Ye=i===jy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,pn=i,Me===null&&(ct=1,fc(t,xn(i,t.current)))}function Tv(){var t=Y.H;return Y.H=oc,t===null?oc:t}function bv(){var t=Y.A;return Y.A=kw,t}function Id(){ct=4,Ar||(Ue&4194048)!==Ue&&Nn.current!==null||(Va=!0),(Sr&134217727)===0&&(Us&134217727)===0||tt===null||Ir(tt,Ue,Dn,!1)}function Cd(t,i,a){var l=Qe;Qe|=2;var h=Tv(),d=bv();(tt!==t||Ue!==i)&&(_c=null,Ua(t,i)),i=!1;var E=ct;e:do try{if(Ye!==0&&Me!==null){var b=Me,N=pn;switch(Ye){case 8:Rd(),E=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(i=!0);var q=Ye;if(Ye=0,pn=null,za(t,b,N,q),a&&Va){E=0;break e}break;default:q=Ye,Ye=0,pn=null,za(t,b,N,q)}}Lw(),E=ct;break}catch(X){Ev(t,X)}while(!0);return i&&t.shellSuspendCounter++,Li=Ms=null,Qe=l,Y.H=h,Y.A=d,Me===null&&(tt=null,Ue=0,qu()),E}function Lw(){for(;Me!==null;)wv(Me)}function jw(t,i){var a=Qe;Qe|=2;var l=Tv(),h=bv();tt!==t||Ue!==i?(_c=null,vc=En()+500,Ua(t,i)):Va=hs(t,i);e:do try{if(Ye!==0&&Me!==null){i=Me;var d=pn;t:switch(Ye){case 1:Ye=0,pn=null,za(t,i,d,1);break;case 2:case 9:if(Vg(d)){Ye=0,pn=null,Av(i);break}i=function(){Ye!==2&&Ye!==9||tt!==t||(Ye=7),ci(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Vg(d)?(Ye=0,pn=null,Av(i)):(Ye=0,pn=null,za(t,i,d,7));break;case 5:var E=null;switch(Me.tag){case 26:E=Me.memoizedState;case 5:case 27:var b=Me;if(!E||s0(E)){Ye=0,pn=null;var N=b.sibling;if(N!==null)Me=N;else{var q=b.return;q!==null?(Me=q,Tc(q)):Me=null}break t}}Ye=0,pn=null,za(t,i,d,5);break;case 6:Ye=0,pn=null,za(t,i,d,6);break;case 8:Rd(),ct=6;break e;default:throw Error(s(462))}}Uw();break}catch(X){Ev(t,X)}while(!0);return Li=Ms=null,Y.H=l,Y.A=h,Qe=a,Me!==null?0:(tt=null,Ue=0,qu(),ct)}function Uw(){for(;Me!==null&&!Ao();)wv(Me)}function wv(t){var i=Xy(t.alternate,t,Gi);t.memoizedProps=t.pendingProps,i===null?Tc(t):Me=i}function Av(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Fy(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=Fy(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:Ff(i);default:Zy(a,i),i=Me=Sg(i,Gi),i=Xy(a,i,Gi)}t.memoizedProps=t.pendingProps,i===null?Tc(t):Me=i}function za(t,i,a,l){Li=Ms=null,Ff(i),Da=null,cl=0;var h=i.return;try{if(Iw(t,h,i,a,Ue)){ct=1,fc(t,xn(a,t.current)),Me=null;return}}catch(d){if(h!==null)throw Me=h,d;ct=1,fc(t,xn(a,t.current)),Me=null;return}i.flags&32768?(He||l===1?t=!0:Va||(Ue&536870912)!==0?t=!1:(Ar=t=!0,(l===2||l===9||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Sv(i,t)):Tc(i)}function Tc(t){var i=t;do{if((i.flags&32768)!==0){Sv(i,Ar);return}t=i.return;var a=Nw(i.alternate,i,Gi);if(a!==null){Me=a;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=t}while(i!==null);ct===0&&(ct=5)}function Sv(t,i){do{var a=Dw(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);ct=6,Me=null}function xv(t,i,a,l,h,d,E,b,N){t.cancelPendingCommit=null;do bc();while(Ut!==0);if((Qe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=_f,No(t,a,d,E,b,N),t===tt&&(Me=tt=null,Ue=0),La=i,Rr=t,ja=a,Ad=d,Sd=h,gv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Hw(os,function(){return Dv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=re.p,re.p=2,E=Qe,Qe|=4;try{Ow(t,i,a)}finally{Qe=E,re.p=h,Y.T=l}}Ut=1,Rv(),Iv(),Cv()}}function Rv(){if(Ut===1){Ut=0;var t=Rr,i=La,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=re.p;re.p=2;var h=Qe;Qe|=4;try{uv(i,t);var d=Bd,E=pg(t.containerInfo),b=d.focusedElem,N=d.selectionRange;if(E!==b&&b&&b.ownerDocument&&mg(b.ownerDocument.documentElement,b)){if(N!==null&&mf(b)){var q=N.start,X=N.end;if(X===void 0&&(X=q),"selectionStart"in b)b.selectionStart=q,b.selectionEnd=Math.min(X,b.value.length);else{var J=b.ownerDocument||document,F=J&&J.defaultView||window;if(F.getSelection){var G=F.getSelection(),we=b.textContent.length,_e=Math.min(N.start,we),Ze=N.end===void 0?_e:Math.min(N.end,we);!G.extend&&_e>Ze&&(E=Ze,Ze=_e,_e=E);var j=dg(b,_e),V=dg(b,Ze);if(j&&V&&(G.rangeCount!==1||G.anchorNode!==j.node||G.anchorOffset!==j.offset||G.focusNode!==V.node||G.focusOffset!==V.offset)){var B=J.createRange();B.setStart(j.node,j.offset),G.removeAllRanges(),_e>Ze?(G.addRange(B),G.extend(V.node,V.offset)):(B.setEnd(V.node,V.offset),G.addRange(B))}}}}for(J=[],G=b;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<J.length;b++){var Z=J[b];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}kc=!!zd,Bd=zd=null}finally{Qe=h,re.p=l,Y.T=a}}t.current=i,Ut=2}}function Iv(){if(Ut===2){Ut=0;var t=Rr,i=La,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=re.p;re.p=2;var h=Qe;Qe|=4;try{sv(t,i.alternate,i)}finally{Qe=h,re.p=l,Y.T=a}}Ut=3}}function Cv(){if(Ut===4||Ut===3){Ut=0,yu();var t=Rr,i=La,a=ja,l=gv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ut=5:(Ut=0,La=Rr=null,Nv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(xr=null),ia(a),i=i.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(lt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=re.p,re.p=2,Y.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var b=l[E];d(b.value,{componentStack:b.stack})}}finally{Y.T=i,re.p=h}}(ja&3)!==0&&bc(),ci(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===xd?_l++:(_l=0,xd=t):_l=0,El(0)}}function Nv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Jo(i)))}function bc(t){return Rv(),Iv(),Cv(),Dv()}function Dv(){if(Ut!==5)return!1;var t=Rr,i=Ad;Ad=0;var a=ia(ja),l=Y.T,h=re.p;try{re.p=32>a?32:a,Y.T=null,a=Sd,Sd=null;var d=Rr,E=ja;if(Ut=0,La=Rr=null,ja=0,(Qe&6)!==0)throw Error(s(331));var b=Qe;if(Qe|=4,mv(d.current),hv(d,d.current,E,a),Qe=b,El(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(lt,d)}catch{}return!0}finally{re.p=h,Y.T=l,Nv(t,i)}}function Ov(t,i,a){i=xn(a,i),i=rd(t.stateNode,i,2),t=yr(t,i,2),t!==null&&(wi(t,2),ci(t))}function Je(t,i,a){if(t.tag===3)Ov(t,t,a);else for(;i!==null;){if(i.tag===3){Ov(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(xr===null||!xr.has(l))){t=xn(a,t),a=Py(2),l=yr(i,a,2),l!==null&&(Ly(a,l,i,t),wi(l,2),ci(l));break}}i=i.return}}function Nd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Vw;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Ed=!0,h.add(a),t=zw.bind(null,t,i,a),i.then(t,t))}function zw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Ue&a)===a&&(ct===4||ct===3&&(Ue&62914560)===Ue&&300>En()-wd?(Qe&2)===0&&Ua(t,0):Td|=a,Pa===Ue&&(Pa=0)),ci(t)}function Mv(t,i){i===0&&(i=Co()),t=Ta(t,i),t!==null&&(wi(t,i),ci(t))}function Bw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Mv(t,a)}function qw(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Mv(t,a)}function Hw(t,i){return ss(t,i)}var wc=null,Ba=null,Dd=!1,Ac=!1,Od=!1,zs=0;function ci(t){t!==Ba&&t.next===null&&(Ba===null?wc=Ba=t:Ba=Ba.next=t),Ac=!0,Dd||(Dd=!0,Gw())}function El(t,i){if(!Od&&Ac){Od=!0;do for(var a=!1,l=wc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Ft(42|t)+1)-1,d&=h&~(E&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Lv(l,d))}else d=Ue,d=na(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||hs(l,d)||(a=!0,Lv(l,d));l=l.next}while(a);Od=!1}}function Fw(){kv()}function kv(){Ac=Dd=!1;var t=0;zs!==0&&(Jw()&&(t=zs),zs=0);for(var i=En(),a=null,l=wc;l!==null;){var h=l.next,d=Vv(l,i);d===0?(l.next=null,a===null?wc=h:a.next=h,h===null&&(Ba=a)):(a=l,(t!==0||(d&3)!==0)&&(Ac=!0)),l=h}El(t)}function Vv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-Ft(d),b=1<<E,N=h[E];N===-1?((b&a)===0||(b&l)!==0)&&(h[E]=Ro(b,i)):N<=i&&(t.expiredLanes|=b),d&=~b}if(i=tt,a=Ue,a=na(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&as(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||hs(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&as(l),ia(a)){case 2:case 8:a=ea;break;case 32:a=os;break;case 268435456:a=ta;break;default:a=os}return l=Pv.bind(null,t),a=ss(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&as(l),t.callbackPriority=2,t.callbackNode=null,2}function Pv(t,i){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(bc()&&t.callbackNode!==a)return null;var l=Ue;return l=na(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(vv(t,l,i),Vv(t,En()),t.callbackNode!=null&&t.callbackNode===a?Pv.bind(null,t):null)}function Lv(t,i){if(bc())return null;vv(t,i,!0)}function Gw(){t1(function(){(Qe&6)!==0?ss(So,Fw):kv()})}function Md(){return zs===0&&(zs=Io()),zs}function jv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ua(""+t)}function Uv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Kw(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=jv((h[pt]||null).action),E=l.submitter;E&&(i=(i=E[pt]||null)?jv(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var b=new ca("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(zs!==0){var N=E?Uv(h,E):new FormData(h);Jf(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(b.preventDefault(),N=E?Uv(h,E):new FormData(h),Jf(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var kd=0;kd<vf.length;kd++){var Vd=vf[kd],Qw=Vd.toLowerCase(),Yw=Vd[0].toUpperCase()+Vd.slice(1);Ln(Qw,"on"+Yw)}Ln(vg,"onAnimationEnd"),Ln(_g,"onAnimationIteration"),Ln(Eg,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(hw,"onTransitionRun"),Ln(fw,"onTransitionStart"),Ln(dw,"onTransitionCancel"),Ln(Tg,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$w=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function zv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var b=l[E],N=b.instance,q=b.currentTarget;if(b=b.listener,N!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=q;try{d(h)}catch(X){hc(X)}h.currentTarget=null,d=N}else for(E=0;E<l.length;E++){if(b=l[E],N=b.instance,q=b.currentTarget,b=b.listener,N!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=q;try{d(h)}catch(X){hc(X)}h.currentTarget=null,d=N}}}}function ke(t,i){var a=i[Oo];a===void 0&&(a=i[Oo]=new Set);var l=t+"__bubble";a.has(l)||(Bv(i,t,2,!1),a.add(l))}function Pd(t,i,a){var l=0;i&&(l|=4),Bv(a,t,l,i)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function Ld(t){if(!t[Sc]){t[Sc]=!0,Mo.forEach(function(a){a!=="selectionchange"&&($w.has(a)||Pd(a,!1,t),Pd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Sc]||(i[Sc]=!0,Pd("selectionchange",!1,i))}}function Bv(t,i,a,l){switch(h0(i)){case 2:var h=b1;break;case 8:h=w1;break;default:h=Wd}a=h.bind(null,i,a,t),h=void 0,!An||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function jd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var b=l.stateNode.containerInfo;if(b===h)break;if(E===4)for(E=l.return;E!==null;){var N=E.tag;if((N===3||N===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;b!==null;){if(E=Ai(b),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){l=d=E;continue e}b=b.parentNode}}l=l.return}Ru(function(){var q=d,X=wn(a),J=[];e:{var F=bg.get(t);if(F!==void 0){var G=ca,we=t;switch(t){case"keypress":if(ti(a)===0)break e;case"keydown":case"keyup":G=ga;break;case"focusin":we="focus",G=da;break;case"focusout":we="blur",G=da;break;case"beforeblur":case"afterblur":G=da;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=cf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Vu;break;case vg:case _g:case Eg:G=ma;break;case Tg:G=Lu;break;case"scroll":case"scrollend":G=Iu;break;case"wheel":G=ya;break;case"copy":case"cut":case"paste":G=pa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Go;break;case"toggle":case"beforetoggle":G=Uu}var _e=(i&4)!==0,Ze=!_e&&(t==="scroll"||t==="scrollend"),j=_e?F!==null?F+"Capture":null:F;_e=[];for(var V=q,B;V!==null;){var Z=V;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||j===null||(Z=_s(V,j),Z!=null&&_e.push(bl(V,Z,B))),Ze)break;V=V.return}0<_e.length&&(F=new G(F,we,null,a,X),J.push({event:F,listeners:_e}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",F&&a!==Ii&&(we=a.relatedTarget||a.fromElement)&&(Ai(we)||we[Tn]))break e;if((G||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,G?(we=a.relatedTarget||a.toElement,G=q,we=we?Ai(we):null,we!==null&&(Ze=u(we),_e=we.tag,we!==Ze||_e!==5&&_e!==27&&_e!==6)&&(we=null)):(G=null,we=q),G!==we)){if(_e=Sn,Z="onMouseLeave",j="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Go,Z="onPointerLeave",j="onPointerEnter",V="pointer"),Ze=G==null?F:Wn(G),B=we==null?F:Wn(we),F=new _e(Z,V+"leave",G,a,X),F.target=Ze,F.relatedTarget=B,Z=null,Ai(X)===q&&(_e=new _e(j,V+"enter",we,a,X),_e.target=B,_e.relatedTarget=Ze,Z=_e),Ze=Z,G&&we)t:{for(_e=G,j=we,V=0,B=_e;B;B=qa(B))V++;for(B=0,Z=j;Z;Z=qa(Z))B++;for(;0<V-B;)_e=qa(_e),V--;for(;0<B-V;)j=qa(j),B--;for(;V--;){if(_e===j||j!==null&&_e===j.alternate)break t;_e=qa(_e),j=qa(j)}_e=null}else _e=null;G!==null&&qv(J,F,G,_e,!1),we!==null&&Ze!==null&&qv(J,Ze,we,_e,!0)}}e:{if(F=q?Wn(q):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var de=og;else if(wt(F))if(lg)de=lw;else{de=aw;var Oe=sw}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&jo(q.elementType)&&(de=og):de=ow;if(de&&(de=de(t,q))){Mi(J,de,a,X);break e}Oe&&Oe(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&fr(F,"number",F.value)}switch(Oe=q?Wn(q):window,t){case"focusin":(wt(Oe)||Oe.contentEditable==="true")&&(va=Oe,pf=q,Yo=null);break;case"focusout":Yo=pf=va=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,gg(J,a,X);break;case"selectionchange":if(cw)break;case"keydown":case"keyup":gg(J,a,X)}var pe;if(ri)e:{switch(t){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Le?K(t,a)&&(Ee="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(_&&a.locale!=="ko"&&(Le||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Le&&(pe=zo()):(ei=X,dr="value"in ei?ei.value:ei.textContent,Le=!0)),Oe=xc(q,Ee),0<Oe.length&&(Ee=new Ho(Ee,t,null,a,X),J.push({event:Ee,listeners:Oe}),pe?Ee.data=pe:(pe=le(a),pe!==null&&(Ee.data=pe)))),(pe=y?bt(t,a):je(t,a))&&(Ee=xc(q,"onBeforeInput"),0<Ee.length&&(Oe=new Ho("onBeforeInput","beforeinput",null,a,X),J.push({event:Oe,listeners:Ee}),Oe.data=pe)),Kw(J,t,q,a,X)}zv(J,i)})}function bl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function xc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=_s(t,a),h!=null&&l.unshift(bl(t,h,d)),h=_s(t,i),h!=null&&l.push(bl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function qa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function qv(t,i,a,l,h){for(var d=i._reactName,E=[];a!==null&&a!==l;){var b=a,N=b.alternate,q=b.stateNode;if(b=b.tag,N!==null&&N===l)break;b!==5&&b!==26&&b!==27||q===null||(N=q,h?(q=_s(a,d),q!=null&&E.unshift(bl(a,q,N))):h||(q=_s(a,d),q!=null&&E.push(bl(a,q,N)))),a=a.return}E.length!==0&&t.push({event:i,listeners:E})}var Xw=/\r\n?/g,Ww=/\u0000|\uFFFD/g;function Hv(t){return(typeof t=="string"?t:""+t).replace(Xw,`
`).replace(Ww,"")}function Fv(t,i){return i=Hv(i),Hv(t)===i}function Rc(){}function We(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||bn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&bn(t,""+l);break;case"className":Zn(t,"class",l);break;case"tabIndex":Zn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Zn(t,a,l);break;case"style":Lo(t,l,d);break;case"data":if(i!=="object"){Zn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ua(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ua(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Rc);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ua(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),hr(t,"popover",l);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":hr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=lf.get(a)||a,hr(t,a,l))}}function Ud(t,i,a,l,h,d){switch(a){case"style":Lo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?bn(t,l):(typeof l=="number"||typeof l=="bigint")&&bn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Rc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ra.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):hr(t,a,l)}}}function zt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,d,E,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":ke("invalid",t);var b=d=E=h=null,N=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":E=X;break;case"checked":N=X;break;case"defaultChecked":q=X;break;case"value":d=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:We(t,i,l,X,a,null)}}gs(t,d,b,N,q,E,h,!1),la(t);return;case"select":ke("invalid",t),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":E=b;break;case"multiple":l=b;default:We(t,i,h,b,a,null)}i=d,a=E,t.multiple=!!l,i!=null?Ri(t,!!l,i,!1):a!=null&&Ri(t,!!l,a,!0);return;case"textarea":ke("invalid",t),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(b=a[E],b!=null))switch(E){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:We(t,i,E,b,a,null)}ys(t,l,h,d),la(t);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,i,N,l,a,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)ke(Tl[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,q,l,a,null)}return;default:if(jo(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Ud(t,i,X,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&We(t,i,b,l,a,null))}function Zw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,b=null,N=null,q=null,X=null;for(G in a){var J=a[G];if(a.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":N=J;default:l.hasOwnProperty(G)||We(t,i,G,null,l,J)}}for(var F in l){var G=l[F];if(J=a[F],l.hasOwnProperty(F)&&(G!=null||J!=null))switch(F){case"type":d=G;break;case"name":h=G;break;case"checked":q=G;break;case"defaultChecked":X=G;break;case"value":E=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==J&&We(t,i,F,G,l,J)}}cn(t,E,b,N,q,X,d,h);return;case"select":G=E=b=F=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":G=N;default:l.hasOwnProperty(d)||We(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":F=d;break;case"defaultValue":b=d;break;case"multiple":E=d;default:d!==N&&We(t,i,h,d,l,N)}i=b,a=E,l=G,F!=null?Ri(t,!!a,F,!1):!!l!=!!a&&(i!=null?Ri(t,!!a,i,!0):Ri(t,!!a,a?[]:"",!1));return;case"textarea":G=F=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:We(t,i,b,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":F=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,i,E,h,l,d)}$e(t,F,G);return;case"option":for(var we in a)if(F=a[we],a.hasOwnProperty(we)&&F!=null&&!l.hasOwnProperty(we))switch(we){case"selected":t.selected=!1;break;default:We(t,i,we,null,l,F)}for(N in l)if(F=l[N],G=a[N],l.hasOwnProperty(N)&&F!==G&&(F!=null||G!=null))switch(N){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:We(t,i,N,F,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)F=a[_e],a.hasOwnProperty(_e)&&F!=null&&!l.hasOwnProperty(_e)&&We(t,i,_e,null,l,F);for(q in l)if(F=l[q],G=a[q],l.hasOwnProperty(q)&&F!==G&&(F!=null||G!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:We(t,i,q,F,l,G)}return;default:if(jo(i)){for(var Ze in a)F=a[Ze],a.hasOwnProperty(Ze)&&F!==void 0&&!l.hasOwnProperty(Ze)&&Ud(t,i,Ze,void 0,l,F);for(X in l)F=l[X],G=a[X],!l.hasOwnProperty(X)||F===G||F===void 0&&G===void 0||Ud(t,i,X,F,l,G);return}}for(var j in a)F=a[j],a.hasOwnProperty(j)&&F!=null&&!l.hasOwnProperty(j)&&We(t,i,j,null,l,F);for(J in l)F=l[J],G=a[J],!l.hasOwnProperty(J)||F===G||F==null&&G==null||We(t,i,J,F,l,G)}var zd=null,Bd=null;function Ic(t){return t.nodeType===9?t:t.ownerDocument}function Gv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function qd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Hd=null;function Jw(){var t=window.event;return t&&t.type==="popstate"?t===Hd?!1:(Hd=t,!0):(Hd=null,!1)}var Qv=typeof setTimeout=="function"?setTimeout:void 0,e1=typeof clearTimeout=="function"?clearTimeout:void 0,Yv=typeof Promise=="function"?Promise:void 0,t1=typeof queueMicrotask=="function"?queueMicrotask:typeof Yv<"u"?function(t){return Yv.resolve(null).then(t).catch(n1)}:Qv;function n1(t){setTimeout(function(){throw t})}function Cr(t){return t==="head"}function $v(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=t.ownerDocument;if(a&1&&wl(E.documentElement),a&2&&wl(E.body),a&4)for(a=E.head,wl(a),E=a.firstChild;E;){var b=E.nextSibling,N=E.nodeName;E[fs]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=b}}if(h===0){t.removeChild(d),Dl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Dl(i)}function Fd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Fd(a),cr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function i1(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[fs])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function r1(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function Gd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function s1(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Kd=null;function Xv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Wv(t,i,a){switch(i=Ic(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function wl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);cr(t)}var On=new Map,Zv=new Set;function Cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ki=re.d;re.d={f:a1,r:o1,D:l1,C:u1,L:c1,m:h1,X:d1,S:f1,M:m1};function a1(){var t=Ki.f(),i=Ec();return t||i}function o1(t){var i=Xn(t);i!==null&&i.tag===5&&i.type==="form"?vy(i):Ki.r(t)}var Ha=typeof document>"u"?null:document;function Jv(t,i,a){var l=Ha;if(l&&typeof i=="string"&&i){var h=gt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Zv.has(h)||(Zv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),zt(i,"link",t),ht(i),l.head.appendChild(i)))}}function l1(t){Ki.D(t),Jv("dns-prefetch",t,null)}function u1(t,i){Ki.C(t,i),Jv("preconnect",t,i)}function c1(t,i,a){Ki.L(t,i,a);var l=Ha;if(l&&t&&i){var h='link[rel="preload"][as="'+gt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+gt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+gt(a.imageSizes)+'"]')):h+='[href="'+gt(t)+'"]';var d=h;switch(i){case"style":d=Fa(t);break;case"script":d=Ga(t)}On.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),On.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Al(d))||i==="script"&&l.querySelector(Sl(d))||(i=l.createElement("link"),zt(i,"link",t),ht(i),l.head.appendChild(i)))}}function h1(t,i){Ki.m(t,i);var a=Ha;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+gt(l)+'"][href="'+gt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ga(t)}if(!On.has(d)&&(t=T({rel:"modulepreload",href:t},i),On.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Sl(d)))return}l=a.createElement("link"),zt(l,"link",t),ht(l),a.head.appendChild(l)}}}function f1(t,i,a){Ki.S(t,i,a);var l=Ha;if(l&&t){var h=Wt(l).hoistableStyles,d=Fa(t);i=i||"default";var E=h.get(d);if(!E){var b={loading:0,preload:null};if(E=l.querySelector(Al(d)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=On.get(d))&&Qd(t,a);var N=E=l.createElement("link");ht(N),zt(N,"link",t),N._p=new Promise(function(q,X){N.onload=q,N.onerror=X}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Nc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:b},h.set(d,E)}}}function d1(t,i){Ki.X(t,i);var a=Ha;if(a&&t){var l=Wt(a).hoistableScripts,h=Ga(t),d=l.get(h);d||(d=a.querySelector(Sl(h)),d||(t=T({src:t,async:!0},i),(i=On.get(h))&&Yd(t,i),d=a.createElement("script"),ht(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function m1(t,i){Ki.M(t,i);var a=Ha;if(a&&t){var l=Wt(a).hoistableScripts,h=Ga(t),d=l.get(h);d||(d=a.querySelector(Sl(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=On.get(h))&&Yd(t,i),d=a.createElement("script"),ht(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function e0(t,i,a,l){var h=(h=Ae.current)?Cc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Fa(a.href),a=Wt(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Fa(a.href);var d=Wt(h).hoistableStyles,E=d.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=h.querySelector(Al(t)))&&!d._p&&(E.instance=d,E.state.loading=5),On.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},On.set(t,a),d||p1(h,t,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ga(a),a=Wt(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Fa(t){return'href="'+gt(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function t0(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function p1(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),zt(i,"link",a),ht(i),t.head.appendChild(i))}function Ga(t){return'[src="'+gt(t)+'"]'}function Sl(t){return"script[async]"+t}function n0(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+gt(a.href)+'"]');if(l)return i.instance=l,ht(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ht(l),zt(l,"style",h),Nc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Fa(a.href);var d=t.querySelector(Al(h));if(d)return i.state.loading|=4,i.instance=d,ht(d),d;l=t0(a),(h=On.get(h))&&Qd(l,h),d=(t.ownerDocument||t).createElement("link"),ht(d);var E=d;return E._p=new Promise(function(b,N){E.onload=b,E.onerror=N}),zt(d,"link",l),i.state.loading|=4,Nc(d,a.precedence,t),i.instance=d;case"script":return d=Ga(a.src),(h=t.querySelector(Sl(d)))?(i.instance=h,ht(h),h):(l=a,(h=On.get(d))&&(l=T({},a),Yd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ht(h),zt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Nc(l,a.precedence,t));return i.instance}function Nc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var b=l[E];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Qd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Yd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Dc=null;function i0(t,i,a){if(Dc===null){var l=new Map,h=Dc=new Map;h.set(a,l)}else h=Dc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[fs]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=t+E;var b=l.get(E);b?b.push(d):l.set(E,[d])}}return l}function r0(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function g1(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function s0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var xl=null;function y1(){}function v1(t,i,a){if(xl===null)throw Error(s(475));var l=xl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Fa(a.href),d=t.querySelector(Al(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Oc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ht(d);return}d=t.ownerDocument||t,a=t0(a),(h=On.get(h))&&Qd(a,h),d=d.createElement("link"),ht(d);var E=d;E._p=new Promise(function(b,N){E.onload=b,E.onerror=N}),zt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Oc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function _1(){if(xl===null)throw Error(s(475));var t=xl;return t.stylesheets&&t.count===0&&$d(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&$d(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Oc(){if(this.count--,this.count===0){if(this.stylesheets)$d(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mc=null;function $d(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mc=new Map,i.forEach(E1,t),Mc=null,Oc.call(t))}function E1(t,i){if(!(i.state.loading&4)){var a=Mc.get(t);if(a)var l=a.get(null);else{a=new Map,Mc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=Oc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Rl={$$typeof:W,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function T1(t,i,a,l,h,d,E,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function a0(t,i,a,l,h,d,E,b,N,q,X,J){return t=new T1(t,i,a,E,b,N,q,J),i=1,d===!0&&(i|=24),d=fn(3,null,null,i),t.current=d,d.stateNode=t,i=Nf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},kf(d),t}function o0(t){return t?(t=ba,t):ba}function l0(t,i,a,l,h,d){h=o0(h),l.context===null?l.context=h:l.pendingContext=h,l=gr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=yr(t,l,i),a!==null&&(yn(a,t,i),il(a,t,i))}function u0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Xd(t,i){u0(t,i),(t=t.alternate)&&u0(t,i)}function c0(t){if(t.tag===13){var i=Ta(t,67108864);i!==null&&yn(i,t,67108864),Xd(t,67108864)}}var kc=!0;function b1(t,i,a,l){var h=Y.T;Y.T=null;var d=re.p;try{re.p=2,Wd(t,i,a,l)}finally{re.p=d,Y.T=h}}function w1(t,i,a,l){var h=Y.T;Y.T=null;var d=re.p;try{re.p=8,Wd(t,i,a,l)}finally{re.p=d,Y.T=h}}function Wd(t,i,a,l){if(kc){var h=Zd(l);if(h===null)jd(t,i,l,Vc,a),f0(t,l);else if(S1(h,t,i,a,l))l.stopPropagation();else if(f0(t,l),i&4&&-1<A1.indexOf(t)){for(;h!==null;){var d=Xn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=kn(d.pendingLanes);if(E!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var N=1<<31-Ft(E);b.entanglements[1]|=N,E&=~N}ci(d),(Qe&6)===0&&(vc=En()+500,El(0))}}break;case 13:b=Ta(d,2),b!==null&&yn(b,d,2),Ec(),Xd(d,2)}if(d=Zd(l),d===null&&jd(t,i,l,Vc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else jd(t,i,l,null,a)}}function Zd(t){return t=wn(t),Jd(t)}var Vc=null;function Jd(t){if(Vc=null,t=Ai(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Vc=t,null}function h0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tf()){case So:return 2;case ea:return 8;case os:case nf:return 32;case ta:return 268435456;default:return 32}default:return 32}}var em=!1,Nr=null,Dr=null,Or=null,Il=new Map,Cl=new Map,Mr=[],A1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f0(t,i){switch(t){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":Il.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(i.pointerId)}}function Nl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Xn(i),i!==null&&c0(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function S1(t,i,a,l,h){switch(i){case"focusin":return Nr=Nl(Nr,t,i,a,l,h),!0;case"dragenter":return Dr=Nl(Dr,t,i,a,l,h),!0;case"mouseover":return Or=Nl(Or,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Il.set(d,Nl(Il.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Cl.set(d,Nl(Cl.get(d)||null,t,i,a,l,h)),!0}return!1}function d0(t){var i=Ai(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Eu(t.priority,function(){if(a.tag===13){var l=gn();l=or(l);var h=Ta(a,l);h!==null&&yn(h,a,l),Xd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Zd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ii=l,a.target.dispatchEvent(l),Ii=null}else return i=Xn(a),i!==null&&c0(i),t.blockedOn=a,!1;i.shift()}return!0}function m0(t,i,a){Pc(t)&&a.delete(i)}function x1(){em=!1,Nr!==null&&Pc(Nr)&&(Nr=null),Dr!==null&&Pc(Dr)&&(Dr=null),Or!==null&&Pc(Or)&&(Or=null),Il.forEach(m0),Cl.forEach(m0)}function Lc(t,i){t.blockedOn===i&&(t.blockedOn=null,em||(em=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,x1)))}var jc=null;function p0(t){jc!==t&&(jc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){jc===t&&(jc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Jd(l||a)===null)continue;break}var d=Xn(a);d!==null&&(t.splice(i,3),i-=3,Jf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Dl(t){function i(N){return Lc(N,t)}Nr!==null&&Lc(Nr,t),Dr!==null&&Lc(Dr,t),Or!==null&&Lc(Or,t),Il.forEach(i),Cl.forEach(i);for(var a=0;a<Mr.length;a++){var l=Mr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Mr.length&&(a=Mr[0],a.blockedOn===null);)d0(a),a.blockedOn===null&&Mr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[pt]||null;if(typeof d=="function")E||p0(a);else if(E){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[pt]||null)b=E.formAction;else if(Jd(h)!==null)continue}else b=E.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),p0(a)}}}function tm(t){this._internalRoot=t}Uc.prototype.render=tm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=gn();l0(a,l,t,i,null,null)},Uc.prototype.unmount=tm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;l0(t.current,2,null,t,null,null),Ec(),i[Tn]=null}};function Uc(t){this._internalRoot=t}Uc.prototype.unstable_scheduleHydration=function(t){if(t){var i=lr();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Mr.length&&i!==0&&i<Mr[a].priority;a++);Mr.splice(a,0,t),a===0&&d0(t)}};var g0=e.version;if(g0!=="19.1.0")throw Error(s(527,g0,"19.1.0"));re.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var R1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{lt=zc.inject(R1),Ke=zc}catch{}}return Ml.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Oy,d=My,E=ky,b=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=a0(t,1,!1,null,null,a,l,h,d,E,b,null),t[Tn]=i.current,Ld(t),new tm(i)},Ml.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Oy,E=My,b=ky,N=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),i=a0(t,1,!0,i,a??null,l,h,d,E,b,N,q),i.context=o0(null),a=i.current,l=gn(),l=or(l),h=gr(l),h.callback=null,yr(a,h,l),a=l,i.current.lanes=a,wi(i,a),ci(i),t[Tn]=i.current,Ld(t),new Uc(i)},Ml.version="19.1.0",Ml}var x0;function L1(){if(x0)return rm.exports;x0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),rm.exports=P1(),rm.exports}var j1=L1(),kl={},R0;function U1(){if(R0)return kl;R0=1,Object.defineProperty(kl,"__esModule",{value:!0}),kl.parse=f,kl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function f(A,k){const L=new u,Q=A.length;if(Q<2)return L;const z=(k==null?void 0:k.decode)||T;let $=0;do{const se=A.indexOf("=",$);if(se===-1)break;const W=A.indexOf(";",$),ie=W===-1?Q:W;if(se>ie){$=A.lastIndexOf(";",se-1)+1;continue}const ae=m(A,$,se),he=p(A,se,ae),D=A.slice(ae,he);if(L[D]===void 0){let x=m(A,se+1,ie),I=p(A,ie,x);const O=z(A.slice(x,I));L[D]=O}$=ie+1}while($<Q);return L}function m(A,k,L){do{const Q=A.charCodeAt(k);if(Q!==32&&Q!==9)return k}while(++k<L);return L}function p(A,k,L){for(;k>L;){const Q=A.charCodeAt(--k);if(Q!==32&&Q!==9)return k+1}return L}function g(A,k,L){const Q=(L==null?void 0:L.encode)||encodeURIComponent;if(!r.test(A))throw new TypeError(`argument name is invalid: ${A}`);const z=Q(k);if(!e.test(z))throw new TypeError(`argument val is invalid: ${k}`);let $=A+"="+z;if(!L)return $;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);$+="; Max-Age="+L.maxAge}if(L.domain){if(!n.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);$+="; Domain="+L.domain}if(L.path){if(!s.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);$+="; Path="+L.path}if(L.expires){if(!w(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);$+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&($+="; HttpOnly"),L.secure&&($+="; Secure"),L.partitioned&&($+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return $}function T(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function w(A){return o.call(A)==="[object Date]"}return kl}U1();var I0="popstate";function z1(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Am("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:$l(o)}return q1(e,n,null,r)}function st(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Gn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function B1(){return Math.random().toString(36).substring(2,10)}function C0(r,e){return{usr:r.state,key:r.key,idx:e}}function Am(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?co(e):e,state:n,key:e&&e.key||s||B1()}}function $l({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function co(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function q1(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=T();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function T(){return(f.state||{idx:null}).idx}function w(){m="POP";let z=T(),$=z==null?null:z-g;g=z,p&&p({action:m,location:Q.location,delta:$})}function A(z,$){m="PUSH";let se=Am(Q.location,z,$);g=T()+1;let W=C0(se,g),ie=Q.createHref(se);try{f.pushState(W,"",ie)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(ie)}u&&p&&p({action:m,location:Q.location,delta:1})}function k(z,$){m="REPLACE";let se=Am(Q.location,z,$);g=T();let W=C0(se,g),ie=Q.createHref(se);f.replaceState(W,"",ie),u&&p&&p({action:m,location:Q.location,delta:0})}function L(z){return H1(z)}let Q={get action(){return m},get location(){return r(o,f)},listen(z){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(I0,w),p=z,()=>{o.removeEventListener(I0,w),p=null}},createHref(z){return e(o,z)},createURL:L,encodeLocation(z){let $=L(z);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:A,replace:k,go(z){return f.go(z)}};return Q}function H1(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),st(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:$l(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function gE(r,e,n="/"){return F1(r,e,n,!1)}function F1(r,e,n,s){let o=typeof e=="string"?co(e):e,u=Ji(o.pathname||"/",n);if(u==null)return null;let f=yE(r);G1(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=nA(u);m=eA(f[p],g,s)}return m}function yE(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(st(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Xi([s,p.relativePath]),T=n.concat(p);u.children&&u.children.length>0&&(st(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),yE(u.children,e,T,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:Z1(g,u.index),routesMeta:T})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of vE(u.path))o(u,f,p)}),e}function vE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=vE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function G1(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:J1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var K1=/^:[\w-]+$/,Q1=3,Y1=2,$1=1,X1=10,W1=-2,N0=r=>r==="*";function Z1(r,e){let n=r.split("/"),s=n.length;return n.some(N0)&&(s+=W1),e&&(s+=Y1),n.filter(o=>!N0(o)).reduce((o,u)=>o+(K1.test(u)?Q1:u===""?$1:X1),s)}function J1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function eA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",w=oh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},T),A=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=oh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Xi([u,w.pathname]),pathnameBase:aA(Xi([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=Xi([u,w.pathnameBase]))}return f}function oh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=tA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:T,isOptional:w},A)=>{if(T==="*"){let L=m[A]||"";f=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const k=m[A];return w&&!k?g[T]=void 0:g[T]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function tA(r,e=!1,n=!0){Gn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function nA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ji(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function iA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?co(r):r;return{pathname:n?n.startsWith("/")?n:rA(n,e):e,search:oA(s),hash:lA(o)}}function rA(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function lm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ep(r){let e=sA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function tp(r,e,n,s=!1){let o;typeof r=="string"?o=co(r):(o={...r},st(!o.pathname||!o.pathname.includes("?"),lm("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),lm("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),lm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}m=w>=0?e[w]:"/"}let p=iA(o,m),g=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||T)&&(p.pathname+="/"),p}var Xi=r=>r.join("/").replace(/\/\/+/g,"/"),aA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),oA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,lA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function uA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var _E=["POST","PUT","PATCH","DELETE"];new Set(_E);var cA=["GET",..._E];new Set(cA);var ho=H.createContext(null);ho.displayName="DataRouter";var Nh=H.createContext(null);Nh.displayName="DataRouterState";var EE=H.createContext({isTransitioning:!1});EE.displayName="ViewTransition";var hA=H.createContext(new Map);hA.displayName="Fetchers";var fA=H.createContext(null);fA.displayName="Await";var Qn=H.createContext(null);Qn.displayName="Navigation";var iu=H.createContext(null);iu.displayName="Location";var vi=H.createContext({outlet:null,matches:[],isDataRoute:!1});vi.displayName="Route";var np=H.createContext(null);np.displayName="RouteError";function dA(r,{relative:e}={}){st(fo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(Qn),{hash:o,pathname:u,search:f}=su(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Xi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function fo(){return H.useContext(iu)!=null}function Jr(){return st(fo(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(iu).location}var TE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bE(r){H.useContext(Qn).static||H.useLayoutEffect(r)}function ru(){let{isDataRoute:r}=H.useContext(vi);return r?xA():mA()}function mA(){st(fo(),"useNavigate() may be used only in the context of a <Router> component.");let r=H.useContext(ho),{basename:e,navigator:n}=H.useContext(Qn),{matches:s}=H.useContext(vi),{pathname:o}=Jr(),u=JSON.stringify(ep(s)),f=H.useRef(!1);return bE(()=>{f.current=!0}),H.useCallback((p,g={})=>{if(Gn(f.current,TE),!f.current)return;if(typeof p=="number"){n.go(p);return}let T=tp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Xi([e,T.pathname])),(g.replace?n.replace:n.push)(T,g.state,g)},[e,n,u,o,r])}H.createContext(null);function su(r,{relative:e}={}){let{matches:n}=H.useContext(vi),{pathname:s}=Jr(),o=JSON.stringify(ep(n));return H.useMemo(()=>tp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function pA(r,e){return wE(r,e)}function wE(r,e,n,s){var se;st(fo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=H.useContext(Qn),{matches:f}=H.useContext(vi),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",T=m?m.pathnameBase:"/",w=m&&m.route;{let W=w&&w.path||"";AE(g,!w||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let A=Jr(),k;if(e){let W=typeof e=="string"?co(e):e;st(T==="/"||((se=W.pathname)==null?void 0:se.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${W.pathname}" was given in the \`location\` prop.`),k=W}else k=A;let L=k.pathname||"/",Q=L;if(T!=="/"){let W=T.replace(/^\//,"").split("/");Q="/"+L.replace(/^\//,"").split("/").slice(W.length).join("/")}let z=!u&&n&&n.matches&&n.matches.length>0?n.matches:gE(r,{pathname:Q});Gn(w||z!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Gn(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=EA(z&&z.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:Xi([T,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?T:Xi([T,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),f,n,s);return e&&$?H.createElement(iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},$):$}function gA(){let r=SA(),e=uA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:o},n):null,f)}var yA=H.createElement(gA,null),vA=class extends H.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?H.createElement(vi.Provider,{value:this.props.routeContext},H.createElement(np.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _A({routeContext:r,match:e,children:n}){let s=H.useContext(ho);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(vi.Provider,{value:r},n)}function EA(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);st(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:T,errors:w}=n,A=g.route.loader&&!T.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||A){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,T)=>{let w,A=!1,k=null,L=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,k=g.route.errorElement||yA,f&&(m<0&&T===0?(AE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,L=null):m===T&&(A=!0,L=g.route.hydrateFallbackElement||null)));let Q=e.concat(o.slice(0,T+1)),z=()=>{let $;return w?$=k:A?$=L:g.route.Component?$=H.createElement(g.route.Component,null):g.route.element?$=g.route.element:$=p,H.createElement(_A,{match:g,routeContext:{outlet:p,matches:Q,isDataRoute:n!=null},children:$})};return n&&(g.route.ErrorBoundary||g.route.errorElement||T===0)?H.createElement(vA,{location:n.location,revalidation:n.revalidation,component:k,error:w,children:z(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):z()},null)}function ip(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TA(r){let e=H.useContext(ho);return st(e,ip(r)),e}function bA(r){let e=H.useContext(Nh);return st(e,ip(r)),e}function wA(r){let e=H.useContext(vi);return st(e,ip(r)),e}function rp(r){let e=wA(r),n=e.matches[e.matches.length-1];return st(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function AA(){return rp("useRouteId")}function SA(){var s;let r=H.useContext(np),e=bA("useRouteError"),n=rp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function xA(){let{router:r}=TA("useNavigate"),e=rp("useNavigate"),n=H.useRef(!1);return bE(()=>{n.current=!0}),H.useCallback(async(o,u={})=>{Gn(n.current,TE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var D0={};function AE(r,e,n){!e&&!D0[r]&&(D0[r]=!0,Gn(!1,n))}H.memo(RA);function RA({routes:r,future:e,state:n}){return wE(r,void 0,n,e)}function SE({to:r,replace:e,state:n,relative:s}){st(fo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=H.useContext(Qn);Gn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=H.useContext(vi),{pathname:f}=Jr(),m=ru(),p=tp(r,ep(u),f,s==="path"),g=JSON.stringify(p);return H.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Pr(r){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function IA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){st(!fo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=co(n));let{pathname:p="/",search:g="",hash:T="",state:w=null,key:A="default"}=n,k=H.useMemo(()=>{let L=Ji(p,f);return L==null?null:{location:{pathname:L,search:g,hash:T,state:w,key:A},navigationType:s}},[f,p,g,T,w,A,s]);return Gn(k!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:H.createElement(Qn.Provider,{value:m},H.createElement(iu.Provider,{children:e,value:k}))}function CA({children:r,location:e}){return pA(Sm(r),e)}function Sm(r,e=[]){let n=[];return H.Children.forEach(r,(s,o)=>{if(!H.isValidElement(s))return;let u=[...e,o];if(s.type===H.Fragment){n.push.apply(n,Sm(s.props.children,u));return}st(s.type===Pr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Sm(s.props.children,u)),n.push(f)}),n}var $c="get",Xc="application/x-www-form-urlencoded";function Dh(r){return r!=null&&typeof r.tagName=="string"}function NA(r){return Dh(r)&&r.tagName.toLowerCase()==="button"}function DA(r){return Dh(r)&&r.tagName.toLowerCase()==="form"}function OA(r){return Dh(r)&&r.tagName.toLowerCase()==="input"}function MA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function kA(r,e){return r.button===0&&(!e||e==="_self")&&!MA(r)}var Bc=null;function VA(){if(Bc===null)try{new FormData(document.createElement("form"),0),Bc=!1}catch{Bc=!0}return Bc}var PA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function um(r){return r!=null&&!PA.has(r)?(Gn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xc}"`),null):r}function LA(r,e){let n,s,o,u,f;if(DA(r)){let m=r.getAttribute("action");s=m?Ji(m,e):null,n=r.getAttribute("method")||$c,o=um(r.getAttribute("enctype"))||Xc,u=new FormData(r)}else if(NA(r)||OA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Ji(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||$c,o=um(r.getAttribute("formenctype"))||um(m.getAttribute("enctype"))||Xc,u=new FormData(m,r),!VA()){let{name:g,type:T,value:w}=r;if(T==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,w)}}else{if(Dh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$c,s=null,o=Xc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function sp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function jA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function zA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await jA(u,n);return f.links?f.links():[]}return[]}));return FA(s.flat(1).filter(UA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function O0(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var T;return n[g].pathname!==p.pathname||((T=n[g].route.path)==null?void 0:T.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function BA(r,e,{includeHydrateFallback:n}={}){return qA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function qA(r){return[...new Set(r)]}function HA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function FA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(HA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var GA=new Set([100,101,204,205]);function KA(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&Ji(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function xE(){let r=H.useContext(ho);return sp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function QA(){let r=H.useContext(Nh);return sp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ap=H.createContext(void 0);ap.displayName="FrameworkContext";function RE(){let r=H.useContext(ap);return sp(r,"You must render this element inside a <HydratedRouter> element"),r}function YA(r,e){let n=H.useContext(ap),[s,o]=H.useState(!1),[u,f]=H.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:T,onTouchStart:w}=e,A=H.useRef(null);H.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Q=$=>{$.forEach(se=>{f(se.isIntersecting)})},z=new IntersectionObserver(Q,{threshold:.5});return A.current&&z.observe(A.current),()=>{z.disconnect()}}},[r]),H.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let k=()=>{o(!0)},L=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Vl(m,k),onBlur:Vl(p,L),onMouseEnter:Vl(g,k),onMouseLeave:Vl(T,L),onTouchStart:Vl(w,k)}]:[!1,A,{}]}function Vl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function $A({page:r,...e}){let{router:n}=xE(),s=H.useMemo(()=>gE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?H.createElement(WA,{page:r,matches:s,...e}):null}function XA(r){let{manifest:e,routeModules:n}=RE(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return zA(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function WA({page:r,matches:e,...n}){let s=Jr(),{manifest:o,routeModules:u}=RE(),{basename:f}=xE(),{loaderData:m,matches:p}=QA(),g=H.useMemo(()=>O0(r,e,p,o,s,"data"),[r,e,p,o,s]),T=H.useMemo(()=>O0(r,e,p,o,s,"assets"),[r,e,p,o,s]),w=H.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let L=new Set,Q=!1;if(e.forEach($=>{var W;let se=o.routes[$.route.id];!se||!se.hasLoader||(!g.some(ie=>ie.route.id===$.route.id)&&$.route.id in m&&((W=u[$.route.id])!=null&&W.shouldRevalidate)||se.hasClientLoader?Q=!0:L.add($.route.id))}),L.size===0)return[];let z=KA(r,f);return Q&&L.size>0&&z.searchParams.set("_routes",e.filter($=>L.has($.route.id)).map($=>$.route.id).join(",")),[z.pathname+z.search]},[f,m,s,o,g,e,r,u]),A=H.useMemo(()=>BA(T,o),[T,o]),k=XA(T);return H.createElement(H.Fragment,null,w.map(L=>H.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),A.map(L=>H.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),k.map(({key:L,link:Q})=>H.createElement("link",{key:L,...Q})))}function ZA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var IE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{IE&&(window.__reactRouterVersion="7.6.0")}catch{}function JA({basename:r,children:e,window:n}){let s=H.useRef();s.current==null&&(s.current=z1({window:n,v5Compat:!0}));let o=s.current,[u,f]=H.useState({action:o.action,location:o.location}),m=H.useCallback(p=>{H.startTransition(()=>f(p))},[f]);return H.useLayoutEffect(()=>o.listen(m),[o,m]),H.createElement(IA,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var CE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zn=H.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:T,viewTransition:w,...A},k){let{basename:L}=H.useContext(Qn),Q=typeof g=="string"&&CE.test(g),z,$=!1;if(typeof g=="string"&&Q&&(z=g,IE))try{let I=new URL(window.location.href),O=g.startsWith("//")?new URL(I.protocol+g):new URL(g),P=Ji(O.pathname,L);O.origin===I.origin&&P!=null?g=P+O.search+O.hash:$=!0}catch{Gn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=dA(g,{relative:o}),[W,ie,ae]=YA(s,A),he=iS(g,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:w});function D(I){e&&e(I),I.defaultPrevented||he(I)}let x=H.createElement("a",{...A,...ae,href:z||se,onClick:$||u?e:D,ref:ZA(k,ie),target:p,"data-discover":!Q&&n==="render"?"true":void 0});return W&&!Q?H.createElement(H.Fragment,null,x,H.createElement($A,{page:se})):x});zn.displayName="Link";var eS=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},T){let w=su(f,{relative:g.relative}),A=Jr(),k=H.useContext(Nh),{navigator:L,basename:Q}=H.useContext(Qn),z=k!=null&&lS(w)&&m===!0,$=L.encodeLocation?L.encodeLocation(w).pathname:w.pathname,se=A.pathname,W=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(se=se.toLowerCase(),W=W?W.toLowerCase():null,$=$.toLowerCase()),W&&Q&&(W=Ji(W,Q)||W);const ie=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ae=se===$||!o&&se.startsWith($)&&se.charAt(ie)==="/",he=W!=null&&(W===$||!o&&W.startsWith($)&&W.charAt($.length)==="/"),D={isActive:ae,isPending:he,isTransitioning:z},x=ae?e:void 0,I;typeof s=="function"?I=s(D):I=[s,ae?"active":null,he?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(D):u;return H.createElement(zn,{...g,"aria-current":x,className:I,ref:T,style:O,to:f,viewTransition:m},typeof p=="function"?p(D):p)});eS.displayName="NavLink";var tS=H.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=$c,action:m,onSubmit:p,relative:g,preventScrollReset:T,viewTransition:w,...A},k)=>{let L=aS(),Q=oS(m,{relative:g}),z=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&CE.test(m),se=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let ie=W.nativeEvent.submitter,ae=(ie==null?void 0:ie.getAttribute("formmethod"))||f;L(ie||W.currentTarget,{fetcherKey:e,method:ae,navigate:n,replace:o,state:u,relative:g,preventScrollReset:T,viewTransition:w})};return H.createElement("form",{ref:k,method:z,action:Q,onSubmit:s?p:se,...A,"data-discover":!$&&r==="render"?"true":void 0})});tS.displayName="Form";function nS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NE(r){let e=H.useContext(ho);return st(e,nS(r)),e}function iS(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=ru(),p=Jr(),g=su(r,{relative:u});return H.useCallback(T=>{if(kA(T,e)){T.preventDefault();let w=n!==void 0?n:$l(p)===$l(g);m(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,r,o,u,f])}var rS=0,sS=()=>`__${String(++rS)}__`;function aS(){let{router:r}=NE("useSubmit"),{basename:e}=H.useContext(Qn),n=AA();return H.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=LA(s,e);if(o.navigate===!1){let T=o.fetcherKey||sS();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function oS(r,{relative:e}={}){let{basename:n}=H.useContext(Qn),s=H.useContext(vi);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...su(r||".",{relative:e})},f=Jr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Xi([n,u.pathname])),$l(u)}function lS(r,e={}){let n=H.useContext(EE);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=NE("useViewTransitionState"),o=su(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Ji(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Ji(n.nextLocation.pathname,s)||n.nextLocation.pathname;return oh(o.pathname,f)!=null||oh(o.pathname,u)!=null}[...GA];const uS=()=>{const r=["/images/Logo/Hero.jpg","/images/Logo/1.jpg","/images/Logo/2.jpg","/images/Logo/3.jpg"],[e,n]=H.useState(0),[s,o]=H.useState(!1);H.useEffect(()=>{const p=setInterval(()=>{o(!0),setTimeout(()=>{n(g=>(g+1)%r.length),o(!1)},400)},3500);return()=>clearInterval(p)},[r.length]);const u=()=>{s||(o(!0),setTimeout(()=>{n((e+1)%r.length),o(!1)},400))},f=()=>{s||(o(!0),setTimeout(()=>{n((e-1+r.length)%r.length),o(!1)},400))},m=p=>{s||e===p||(o(!0),setTimeout(()=>{n(p),o(!1)},400))};return v.jsx("div",{className:"relative bg-gradient-to-r from-slate-50 to-teal-100 py-10 md:py-12",children:v.jsxs("div",{className:"container mx-auto px-4 flex flex-col md:flex-row items-center",children:[v.jsxs("div",{className:"md:w-1/2 mb-6 md:mb-0 md:pr-8",children:[v.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-3 leading-tight",children:["Smarter ",v.jsx("span",{className:"text-teal-600",children:"Attendance"})," with AI"]}),v.jsx("p",{className:"text-base text-gray-600 mb-5 max-w-md",children:"Automate classroom attendance using facial recognition for a seamless experience."}),v.jsxs("div",{className:"flex flex-wrap gap-4 mb-5",children:[v.jsx(zn,{to:"/Login",className:"bg-teal-600 hover:bg-teal-700 text-white font-medium py-2.5 px-6 rounded-lg transition-all duration-300 shadow hover:shadow-md","aria-label":"Get started",children:"Get Started"}),v.jsx(zn,{to:"",className:"border border-teal-600 text-teal-600 hover:bg-teal-50 font-medium py-2.5 px-6 rounded-lg transition-all duration-300","aria-label":"Explore features",children:"Explore Features"})]}),v.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 text-sm",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-teal-500",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),v.jsx("span",{children:"Secure & contactless attendance"})]})]}),v.jsxs("div",{className:"md:w-1/2 relative w-full h-64 md:h-72 rounded-xl shadow-xl overflow-hidden group",children:[v.jsx("div",{className:"relative w-full h-full",children:r.map((p,g)=>v.jsx("img",{src:p,alt:`Feature ${g+1}`,className:`absolute top-0 left-0 w-full h-full object-cover transition-opacity duration-400 ${e===g?"opacity-100":"opacity-0"}`,loading:"lazy"},g))}),v.jsx("button",{onClick:f,className:"absolute top-1/2 left-3 transform -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 rounded-full p-1.5 shadow transition-all duration-300 opacity-0 group-hover:opacity-100 focus:opacity-100","aria-label":"Previous image",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),v.jsx("button",{onClick:u,className:"absolute top-1/2 right-3 transform -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 rounded-full p-1.5 shadow transition-all duration-300 opacity-0 group-hover:opacity-100 focus:opacity-100","aria-label":"Next image",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),v.jsx("div",{className:"absolute bottom-3 left-1/2 transform -translate-x-1/2 flex space-x-2 bg-white/30 backdrop-blur-sm px-3 py-1 rounded-full",children:r.map((p,g)=>v.jsx("button",{onClick:()=>m(g),className:`w-2.5 h-2.5 rounded-full transition-all duration-300 ${e===g?"bg-teal-600 w-5":"bg-gray-300 hover:bg-gray-400"}`,"aria-label":`Go to slide ${g+1}`},g))})]})]})})},cS=()=>{const r=[{icon:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-teal-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),title:"AI Accuracy",desc:"Facial recognition ensures 99.8% accurate attendance logging."},{icon:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-teal-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),title:"Real-Time Reports",desc:"Instant summaries and analytics at your fingertips."},{icon:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-teal-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),title:"Secure & Private",desc:"Data stays on-campus, protected by local storage only."}];return v.jsx("div",{className:"relative bg-gradient-to-r from-slate-50 to-teal-100 py-8 md:py-10",children:v.jsxs("div",{className:"container mx-auto px-4",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-2 relative inline-block",children:["Why Choose Smart Attendance?",v.jsx("span",{className:"absolute bottom-0 left-0 w-full h-1 bg-teal-200/50 transform translate-y-1"})]}),v.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:"Smarter solutions for modern classrooms"})]}),v.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:r.map((e,n)=>v.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1 border border-gray-100 group",children:[v.jsx("div",{className:"flex justify-center mb-4",children:v.jsx("div",{className:"p-2 bg-teal-100/30 rounded-full group-hover:bg-teal-100/50 transition-all duration-300",children:v.jsx("div",{className:"p-1.5 bg-white rounded-full shadow-sm",children:e.icon})})}),v.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2 text-center",children:e.title}),v.jsx("p",{className:"text-sm text-gray-600 text-center",children:e.desc}),v.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-teal-400 to-teal-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]},n))}),v.jsx("div",{className:"mt-8 text-center",children:v.jsx("button",{className:"bg-teal-600 hover:bg-teal-700 text-white px-6 py-2 rounded-lg font-medium text-sm transition-all duration-300 shadow hover:shadow-md transform hover:scale-105",children:"Get Started Today"})})]})})},hS=()=>{const r=[{quote:"This system has revolutionized attendance management. Quick, accurate, and saves hours each week.",author:"Dr. Ahsan Riaz",role:"Computer Science",avatar:""},{quote:"Facial recognition works perfectly, even in large lectures. No more manual roll calls!",author:"Prof. Sarah Khan",role:"Electrical Eng",avatar:""},{quote:"Intuitive system with 100% faculty adoption in just two weeks.",author:"Dr. Ali Hassan",role:"Academic Affairs",avatar:""}],[e,n]=H.useState(0);return H.useEffect(()=>{const s=setInterval(()=>{n(o=>(o+1)%r.length)},5e3);return()=>clearInterval(s)},[r.length]),v.jsx("section",{className:"relative bg-gradient-to-r from-slate-50 to-teal-100 py-8 md:py-10",children:v.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6",children:[v.jsxs("div",{className:"text-center mb-6",children:[v.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-1",children:"Faculty Feedback"}),v.jsx("p",{className:"text-gray-700 text-sm",children:"What educators say about our system"})]}),v.jsxs("div",{className:"relative",children:[v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md transition duration-500 ease-in-out transform hover:scale-[1.01] hover:shadow-lg backdrop-blur-md border border-white/60",style:{background:"rgba(255, 255, 255, 0.8)"},children:[v.jsx("div",{className:"text-3xl text-center mb-2",children:r[e].avatar}),v.jsxs("p",{className:"text-gray-700 italic text-sm mb-3 text-center transition-opacity duration-700",children:['"',r[e].quote,'"']}),v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"font-semibold text-teal-700 text-sm",children:r[e].author}),v.jsx("p",{className:"text-gray-600 text-xs",children:r[e].role})]})]}),v.jsx("div",{className:"flex justify-center mt-4 space-x-1",children:r.map((s,o)=>v.jsx("button",{onClick:()=>n(o),className:`w-2.5 h-2.5 rounded-full transition-all duration-300 ${o===e?"bg-teal-600 w-3":"bg-gray-300"}`},o))})]}),v.jsx("div",{className:"mt-8 grid grid-cols-2 sm:grid-cols-4 gap-3 text-center text-xs",children:[{value:"98%",label:"Accuracy"},{value:"500+",label:"Faculty"},{value:"30s",label:"Setup"},{value:"24/7",label:"Support"}].map((s,o)=>v.jsxs("div",{className:"bg-white rounded-xl py-3 px-2 shadow hover:shadow-md transition duration-300",children:[v.jsx("p",{className:"text-xl font-bold text-teal-600",children:s.value}),v.jsx("p",{className:"text-gray-600",children:s.label})]},o))})]})})},fS=()=>v.jsxs("section",{className:"relative py-10 bg-gradient-to-r from-teal-600 to-teal-500 text-white overflow-hidden",children:[v.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:[v.jsx("div",{className:"absolute top-20 left-10 w-24 h-24 rounded-full bg-white"}),v.jsx("div",{className:"absolute bottom-10 right-20 w-28 h-28 rounded-full bg-white"}),v.jsx("div",{className:"absolute top-1/3 right-1/4 w-12 h-12 rounded-full bg-white"})]}),v.jsxs("div",{className:"relative max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[v.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4 animate-pulse",children:"Ready to Transform Your Attendance System?"}),v.jsx("p",{className:"text-base md:text-lg mb-6 max-w-xl mx-auto leading-relaxed",children:"Join hundreds of institutions using our Smart Attendance Monitoring System for seamless, accurate class tracking."}),v.jsx("div",{className:"flex justify-center",children:v.jsxs(zn,{to:"/reports",className:`\r
              bg-white text-teal-600 font-semibold px-6 py-3 rounded-full \r
              hover:bg-gray-100 hover:scale-105 transition-all duration-300\r
              shadow-md hover:shadow-lg\r
              flex items-center\r
            `,children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),"Contact Admin"]})}),v.jsx("p",{className:"mt-4 text-teal-100 text-xs",children:"Get started in minutes  No credit card required  24/7 Support"})]}),v.jsx("style",{jsx:!0,children:`
        @keyframes pulse {
          0%, 100% { opacity: 1; }
          50% { opacity: 0.9; }
        }
        .animate-pulse {
          animation: pulse 2s infinite;
        }
      `})]});function dS({children:r}){return v.jsx("div",{className:"bg-white shadow-md rounded-xl p-6 my-6",children:r})}function cm({children:r}){return v.jsx("section",{className:"px-4 md:px-12 lg:px-20 py-6",children:r})}function mS(){return v.jsxs(v.Fragment,{children:[v.jsx(cm,{children:v.jsx(uS,{})}),v.jsx(cm,{children:v.jsx(cS,{})}),v.jsx(dS,{children:v.jsx(hS,{})}),v.jsx(cm,{children:v.jsx(fS,{})})]})}const pS=()=>{};var M0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},gS=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},OE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,T=u>>2,w=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,k=g&63;p||(k=64,f||(A=64)),s.push(n[T],n[w],n[A],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(DE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):gS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new yS;const A=u<<2|m>>4;if(s.push(A),g!==64){const k=m<<4&240|g>>2;if(s.push(k),w!==64){const L=g<<6&192|w;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class yS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vS=function(r){const e=DE(r);return OE.encodeByteArray(e,!0)},lh=function(r){return vS(r).replace(/\./g,"")},ME=function(r){try{return OE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=()=>_S().__FIREBASE_DEFAULTS__,TS=()=>{if(typeof process>"u"||typeof M0>"u")return;const r=M0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},bS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&ME(r[1]);return e&&JSON.parse(e)},Oh=()=>{try{return pS()||ES()||TS()||bS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},kE=r=>{var e,n;return(n=(e=Oh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},VE=r=>{const e=kE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},PE=()=>{var r;return(r=Oh())===null||r===void 0?void 0:r.config},LE=r=>{var e;return(e=Oh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(r){return r.endsWith(".cloudworkstations.dev")}async function op(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[lh(JSON.stringify(n)),lh(JSON.stringify(f)),""].join(".")}const ql={};function AS(){const r={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?r.emulator.push(e):r.prod.push(e);return r}function SS(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let k0=!1;function po(r,e){if(typeof window>"u"||typeof document>"u"||!mo(window.location.host)||ql[r]===e||ql[r]||k0)return;ql[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=AS().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,k){A.setAttribute("width","24"),A.setAttribute("id",k),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{k0=!0,f()},A}function T(A,k){A.setAttribute("id",k),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=SS(s),k=n("text"),L=document.getElementById(k)||document.createElement("span"),Q=n("learnmore"),z=document.getElementById(Q)||document.createElement("a"),$=n("preprendIcon"),se=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const W=A.element;m(W),T(z,Q);const ie=g();p(se,$),W.append(se,L,z,ie),document.body.appendChild(W)}u?(L.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function RS(){var r;const e=(r=Oh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function NS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DS(){const r=Xt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function OS(){return!RS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MS(){try{return typeof indexedDB=="object"}catch{return!1}}function kS(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="FirebaseError";class _i extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=VS,Object.setPrototypeOf(this,_i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,au.prototype.create)}}class au{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?PS(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new _i(o,m,s)}}function PS(r,e){return r.replace(LS,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const LS=/\{\$([^}]+)}/g;function jS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Gr(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(V0(u)&&V0(f)){if(!Gr(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function V0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Pl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ll(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function US(r,e){const n=new zS(r,e);return n.subscribe.bind(n)}class zS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");BS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=hm),o.error===void 0&&(o.error=hm),o.complete===void 0&&(o.complete=hm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BS(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function hm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(r){return r&&r._delegate?r._delegate:r}class Kr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new wS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FS(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:HS(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HS(r){return r===Bs?void 0:r}function FS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const KS={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},QS=Ve.INFO,YS={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},$S=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=YS[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lp{constructor(e){this.name=e,this._logLevel=QS,this._logHandler=$S,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const XS=(r,e)=>e.some(n=>r instanceof n);let P0,L0;function WS(){return P0||(P0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZS(){return L0||(L0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UE=new WeakMap,xm=new WeakMap,zE=new WeakMap,fm=new WeakMap,up=new WeakMap;function JS(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Br(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&UE.set(n,r)}).catch(()=>{}),up.set(e,r),e}function ex(r){if(xm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});xm.set(r,e)}let Rm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return xm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||zE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Br(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function tx(r){Rm=r(Rm)}function nx(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(dm(this),e,...n);return zE.set(s,e.sort?e.sort():[e]),Br(s)}:ZS().includes(r)?function(...e){return r.apply(dm(this),e),Br(UE.get(this))}:function(...e){return Br(r.apply(dm(this),e))}}function ix(r){return typeof r=="function"?nx(r):(r instanceof IDBTransaction&&ex(r),XS(r,WS())?new Proxy(r,Rm):r)}function Br(r){if(r instanceof IDBRequest)return JS(r);if(fm.has(r))return fm.get(r);const e=ix(r);return e!==r&&(fm.set(r,e),up.set(e,r)),e}const dm=r=>up.get(r);function rx(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Br(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Br(f.result),p.oldVersion,p.newVersion,Br(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const sx=["get","getKey","getAll","getAllKeys","count"],ax=["put","add","delete","clear"],mm=new Map;function j0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(mm.get(e))return mm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=ax.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||sx.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return mm.set(e,u),u}tx(r=>({...r,get:(e,n,s)=>j0(e,n)||r.get(e,n,s),has:(e,n)=>!!j0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lx(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function lx(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Im="@firebase/app",U0="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new lp("@firebase/app"),ux="@firebase/app-compat",cx="@firebase/analytics-compat",hx="@firebase/analytics",fx="@firebase/app-check-compat",dx="@firebase/app-check",mx="@firebase/auth",px="@firebase/auth-compat",gx="@firebase/database",yx="@firebase/data-connect",vx="@firebase/database-compat",_x="@firebase/functions",Ex="@firebase/functions-compat",Tx="@firebase/installations",bx="@firebase/installations-compat",wx="@firebase/messaging",Ax="@firebase/messaging-compat",Sx="@firebase/performance",xx="@firebase/performance-compat",Rx="@firebase/remote-config",Ix="@firebase/remote-config-compat",Cx="@firebase/storage",Nx="@firebase/storage-compat",Dx="@firebase/firestore",Ox="@firebase/ai",Mx="@firebase/firestore-compat",kx="firebase",Vx="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="[DEFAULT]",Px={[Im]:"fire-core",[ux]:"fire-core-compat",[hx]:"fire-analytics",[cx]:"fire-analytics-compat",[dx]:"fire-app-check",[fx]:"fire-app-check-compat",[mx]:"fire-auth",[px]:"fire-auth-compat",[gx]:"fire-rtdb",[yx]:"fire-data-connect",[vx]:"fire-rtdb-compat",[_x]:"fire-fn",[Ex]:"fire-fn-compat",[Tx]:"fire-iid",[bx]:"fire-iid-compat",[wx]:"fire-fcm",[Ax]:"fire-fcm-compat",[Sx]:"fire-perf",[xx]:"fire-perf-compat",[Rx]:"fire-rc",[Ix]:"fire-rc-compat",[Cx]:"fire-gcs",[Nx]:"fire-gcs-compat",[Dx]:"fire-fst",[Mx]:"fire-fst-compat",[Ox]:"fire-vertex","fire-js":"fire-js",[kx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new Map,Lx=new Map,Nm=new Map;function z0(r,e){try{r.container.addComponent(e)}catch(n){er.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ks(r){const e=r.name;if(Nm.has(e))return er.debug(`There were multiple attempts to register component ${e}.`),!1;Nm.set(e,r);for(const n of uh.values())z0(n,r);for(const n of Lx.values())z0(n,r);return!0}function Mh(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function an(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new au("app","Firebase",jx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=Vx;function BE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Cm,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw qr.create("bad-app-name",{appName:String(o)});if(n||(n=PE()),!n)throw qr.create("no-options");const u=uh.get(o);if(u){if(Gr(n,u.options)&&Gr(s,u.config))return u;throw qr.create("duplicate-app",{appName:o})}const f=new GS(o);for(const p of Nm.values())f.addComponent(p);const m=new Ux(n,s,f);return uh.set(o,m),m}function cp(r=Cm){const e=uh.get(r);if(!e&&r===Cm&&PE())return BE();if(!e)throw qr.create("no-app",{appName:r});return e}function fi(r,e,n){var s;let o=(s=Px[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),er.warn(m.join(" "));return}Ks(new Kr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="firebase-heartbeat-database",Bx=1,Xl="firebase-heartbeat-store";let pm=null;function qE(){return pm||(pm=rx(zx,Bx,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(r=>{throw qr.create("idb-open",{originalErrorMessage:r.message})})),pm}async function qx(r){try{const n=(await qE()).transaction(Xl),s=await n.objectStore(Xl).get(HE(r));return await n.done,s}catch(e){if(e instanceof _i)er.warn(e.message);else{const n=qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});er.warn(n.message)}}}async function B0(r,e){try{const s=(await qE()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(e,HE(r)),await s.done}catch(n){if(n instanceof _i)er.warn(n.message);else{const s=qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});er.warn(s.message)}}}function HE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=1024,Fx=30;class Gx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Qx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=q0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Fx){const f=Yx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){er.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=q0(),{heartbeatsToSend:s,unsentEntries:o}=Kx(this._heartbeatsCache.heartbeats),u=lh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return er.warn(n),""}}}function q0(){return new Date().toISOString().substring(0,10)}function Kx(r,e=Hx){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),H0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),H0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Qx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MS()?kS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return B0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return B0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function H0(r){return lh(JSON.stringify({version:2,heartbeats:r})).length}function Yx(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(r){Ks(new Kr("platform-logger",e=>new ox(e),"PRIVATE")),Ks(new Kr("heartbeat",e=>new Gx(e),"PRIVATE")),fi(Im,U0,r),fi(Im,U0,"esm2017"),fi("fire-js","")}$x("");var F0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hr,FE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,x){function I(){}I.prototype=x.prototype,D.D=x.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(O,P,C){for(var R=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)R[ve-2]=arguments[ve];return x.prototype[P].apply(O,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,x,I){I||(I=0);var O=Array(16);if(typeof x=="string")for(var P=0;16>P;++P)O[P]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(P=0;16>P;++P)O[P]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=D.g[0],I=D.g[1],P=D.g[2];var C=D.g[3],R=x+(C^I&(P^C))+O[0]+3614090360&4294967295;x=I+(R<<7&4294967295|R>>>25),R=C+(P^x&(I^P))+O[1]+3905402710&4294967295,C=x+(R<<12&4294967295|R>>>20),R=P+(I^C&(x^I))+O[2]+606105819&4294967295,P=C+(R<<17&4294967295|R>>>15),R=I+(x^P&(C^x))+O[3]+3250441966&4294967295,I=P+(R<<22&4294967295|R>>>10),R=x+(C^I&(P^C))+O[4]+4118548399&4294967295,x=I+(R<<7&4294967295|R>>>25),R=C+(P^x&(I^P))+O[5]+1200080426&4294967295,C=x+(R<<12&4294967295|R>>>20),R=P+(I^C&(x^I))+O[6]+2821735955&4294967295,P=C+(R<<17&4294967295|R>>>15),R=I+(x^P&(C^x))+O[7]+4249261313&4294967295,I=P+(R<<22&4294967295|R>>>10),R=x+(C^I&(P^C))+O[8]+1770035416&4294967295,x=I+(R<<7&4294967295|R>>>25),R=C+(P^x&(I^P))+O[9]+2336552879&4294967295,C=x+(R<<12&4294967295|R>>>20),R=P+(I^C&(x^I))+O[10]+4294925233&4294967295,P=C+(R<<17&4294967295|R>>>15),R=I+(x^P&(C^x))+O[11]+2304563134&4294967295,I=P+(R<<22&4294967295|R>>>10),R=x+(C^I&(P^C))+O[12]+1804603682&4294967295,x=I+(R<<7&4294967295|R>>>25),R=C+(P^x&(I^P))+O[13]+4254626195&4294967295,C=x+(R<<12&4294967295|R>>>20),R=P+(I^C&(x^I))+O[14]+2792965006&4294967295,P=C+(R<<17&4294967295|R>>>15),R=I+(x^P&(C^x))+O[15]+1236535329&4294967295,I=P+(R<<22&4294967295|R>>>10),R=x+(P^C&(I^P))+O[1]+4129170786&4294967295,x=I+(R<<5&4294967295|R>>>27),R=C+(I^P&(x^I))+O[6]+3225465664&4294967295,C=x+(R<<9&4294967295|R>>>23),R=P+(x^I&(C^x))+O[11]+643717713&4294967295,P=C+(R<<14&4294967295|R>>>18),R=I+(C^x&(P^C))+O[0]+3921069994&4294967295,I=P+(R<<20&4294967295|R>>>12),R=x+(P^C&(I^P))+O[5]+3593408605&4294967295,x=I+(R<<5&4294967295|R>>>27),R=C+(I^P&(x^I))+O[10]+38016083&4294967295,C=x+(R<<9&4294967295|R>>>23),R=P+(x^I&(C^x))+O[15]+3634488961&4294967295,P=C+(R<<14&4294967295|R>>>18),R=I+(C^x&(P^C))+O[4]+3889429448&4294967295,I=P+(R<<20&4294967295|R>>>12),R=x+(P^C&(I^P))+O[9]+568446438&4294967295,x=I+(R<<5&4294967295|R>>>27),R=C+(I^P&(x^I))+O[14]+3275163606&4294967295,C=x+(R<<9&4294967295|R>>>23),R=P+(x^I&(C^x))+O[3]+4107603335&4294967295,P=C+(R<<14&4294967295|R>>>18),R=I+(C^x&(P^C))+O[8]+1163531501&4294967295,I=P+(R<<20&4294967295|R>>>12),R=x+(P^C&(I^P))+O[13]+2850285829&4294967295,x=I+(R<<5&4294967295|R>>>27),R=C+(I^P&(x^I))+O[2]+4243563512&4294967295,C=x+(R<<9&4294967295|R>>>23),R=P+(x^I&(C^x))+O[7]+1735328473&4294967295,P=C+(R<<14&4294967295|R>>>18),R=I+(C^x&(P^C))+O[12]+2368359562&4294967295,I=P+(R<<20&4294967295|R>>>12),R=x+(I^P^C)+O[5]+4294588738&4294967295,x=I+(R<<4&4294967295|R>>>28),R=C+(x^I^P)+O[8]+2272392833&4294967295,C=x+(R<<11&4294967295|R>>>21),R=P+(C^x^I)+O[11]+1839030562&4294967295,P=C+(R<<16&4294967295|R>>>16),R=I+(P^C^x)+O[14]+4259657740&4294967295,I=P+(R<<23&4294967295|R>>>9),R=x+(I^P^C)+O[1]+2763975236&4294967295,x=I+(R<<4&4294967295|R>>>28),R=C+(x^I^P)+O[4]+1272893353&4294967295,C=x+(R<<11&4294967295|R>>>21),R=P+(C^x^I)+O[7]+4139469664&4294967295,P=C+(R<<16&4294967295|R>>>16),R=I+(P^C^x)+O[10]+3200236656&4294967295,I=P+(R<<23&4294967295|R>>>9),R=x+(I^P^C)+O[13]+681279174&4294967295,x=I+(R<<4&4294967295|R>>>28),R=C+(x^I^P)+O[0]+3936430074&4294967295,C=x+(R<<11&4294967295|R>>>21),R=P+(C^x^I)+O[3]+3572445317&4294967295,P=C+(R<<16&4294967295|R>>>16),R=I+(P^C^x)+O[6]+76029189&4294967295,I=P+(R<<23&4294967295|R>>>9),R=x+(I^P^C)+O[9]+3654602809&4294967295,x=I+(R<<4&4294967295|R>>>28),R=C+(x^I^P)+O[12]+3873151461&4294967295,C=x+(R<<11&4294967295|R>>>21),R=P+(C^x^I)+O[15]+530742520&4294967295,P=C+(R<<16&4294967295|R>>>16),R=I+(P^C^x)+O[2]+3299628645&4294967295,I=P+(R<<23&4294967295|R>>>9),R=x+(P^(I|~C))+O[0]+4096336452&4294967295,x=I+(R<<6&4294967295|R>>>26),R=C+(I^(x|~P))+O[7]+1126891415&4294967295,C=x+(R<<10&4294967295|R>>>22),R=P+(x^(C|~I))+O[14]+2878612391&4294967295,P=C+(R<<15&4294967295|R>>>17),R=I+(C^(P|~x))+O[5]+4237533241&4294967295,I=P+(R<<21&4294967295|R>>>11),R=x+(P^(I|~C))+O[12]+1700485571&4294967295,x=I+(R<<6&4294967295|R>>>26),R=C+(I^(x|~P))+O[3]+2399980690&4294967295,C=x+(R<<10&4294967295|R>>>22),R=P+(x^(C|~I))+O[10]+4293915773&4294967295,P=C+(R<<15&4294967295|R>>>17),R=I+(C^(P|~x))+O[1]+2240044497&4294967295,I=P+(R<<21&4294967295|R>>>11),R=x+(P^(I|~C))+O[8]+1873313359&4294967295,x=I+(R<<6&4294967295|R>>>26),R=C+(I^(x|~P))+O[15]+4264355552&4294967295,C=x+(R<<10&4294967295|R>>>22),R=P+(x^(C|~I))+O[6]+2734768916&4294967295,P=C+(R<<15&4294967295|R>>>17),R=I+(C^(P|~x))+O[13]+1309151649&4294967295,I=P+(R<<21&4294967295|R>>>11),R=x+(P^(I|~C))+O[4]+4149444226&4294967295,x=I+(R<<6&4294967295|R>>>26),R=C+(I^(x|~P))+O[11]+3174756917&4294967295,C=x+(R<<10&4294967295|R>>>22),R=P+(x^(C|~I))+O[2]+718787259&4294967295,P=C+(R<<15&4294967295|R>>>17),R=I+(C^(P|~x))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+x&4294967295,D.g[1]=D.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+C&4294967295}s.prototype.u=function(D,x){x===void 0&&(x=D.length);for(var I=x-this.blockSize,O=this.B,P=this.h,C=0;C<x;){if(P==0)for(;C<=I;)o(this,D,C),C+=this.blockSize;if(typeof D=="string"){for(;C<x;)if(O[P++]=D.charCodeAt(C++),P==this.blockSize){o(this,O),P=0;break}}else for(;C<x;)if(O[P++]=D[C++],P==this.blockSize){o(this,O),P=0;break}}this.h=P,this.o+=x},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var x=1;x<D.length-8;++x)D[x]=0;var I=8*this.o;for(x=D.length-8;x<D.length;++x)D[x]=I&255,I/=256;for(this.u(D),D=Array(16),x=I=0;4>x;++x)for(var O=0;32>O;O+=8)D[I++]=this.g[x]>>>O&255;return D};function u(D,x){var I=m;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=x(D)}function f(D,x){this.h=x;for(var I=[],O=!0,P=D.length-1;0<=P;P--){var C=D[P]|0;O&&C==x||(I[P]=C,O=!1)}this.g=I}var m={};function p(D){return-128<=D&&128>D?u(D,function(x){return new f([x|0],0>x?-1:0)}):new f([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return w;if(0>D)return z(g(-D));for(var x=[],I=1,O=0;D>=I;O++)x[O]=D/I|0,I*=4294967296;return new f(x,0)}function T(D,x){if(D.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(D.charAt(0)=="-")return z(T(D.substring(1),x));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(x,8)),O=w,P=0;P<D.length;P+=8){var C=Math.min(8,D.length-P),R=parseInt(D.substring(P,P+C),x);8>C?(C=g(Math.pow(x,C)),O=O.j(C).add(g(R))):(O=O.j(I),O=O.add(g(R)))}return O}var w=p(0),A=p(1),k=p(16777216);r=f.prototype,r.m=function(){if(Q(this))return-z(this).m();for(var D=0,x=1,I=0;I<this.g.length;I++){var O=this.i(I);D+=(0<=O?O:4294967296+O)*x,x*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(L(this))return"0";if(Q(this))return"-"+z(this).toString(D);for(var x=g(Math.pow(D,6)),I=this,O="";;){var P=ie(I,x).g;I=$(I,P.j(x));var C=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=P,L(I))return C+O;for(;6>C.length;)C="0"+C;O=C+O}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function L(D){if(D.h!=0)return!1;for(var x=0;x<D.g.length;x++)if(D.g[x]!=0)return!1;return!0}function Q(D){return D.h==-1}r.l=function(D){return D=$(this,D),Q(D)?-1:L(D)?0:1};function z(D){for(var x=D.g.length,I=[],O=0;O<x;O++)I[O]=~D.g[O];return new f(I,~D.h).add(A)}r.abs=function(){return Q(this)?z(this):this},r.add=function(D){for(var x=Math.max(this.g.length,D.g.length),I=[],O=0,P=0;P<=x;P++){var C=O+(this.i(P)&65535)+(D.i(P)&65535),R=(C>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);O=R>>>16,C&=65535,R&=65535,I[P]=R<<16|C}return new f(I,I[I.length-1]&-2147483648?-1:0)};function $(D,x){return D.add(z(x))}r.j=function(D){if(L(this)||L(D))return w;if(Q(this))return Q(D)?z(this).j(z(D)):z(z(this).j(D));if(Q(D))return z(this.j(z(D)));if(0>this.l(k)&&0>D.l(k))return g(this.m()*D.m());for(var x=this.g.length+D.g.length,I=[],O=0;O<2*x;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var P=0;P<D.g.length;P++){var C=this.i(O)>>>16,R=this.i(O)&65535,ve=D.i(P)>>>16,Re=D.i(P)&65535;I[2*O+2*P]+=R*Re,se(I,2*O+2*P),I[2*O+2*P+1]+=C*Re,se(I,2*O+2*P+1),I[2*O+2*P+1]+=R*ve,se(I,2*O+2*P+1),I[2*O+2*P+2]+=C*ve,se(I,2*O+2*P+2)}for(O=0;O<x;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=x;O<2*x;O++)I[O]=0;return new f(I,0)};function se(D,x){for(;(D[x]&65535)!=D[x];)D[x+1]+=D[x]>>>16,D[x]&=65535,x++}function W(D,x){this.g=D,this.h=x}function ie(D,x){if(L(x))throw Error("division by zero");if(L(D))return new W(w,w);if(Q(D))return x=ie(z(D),x),new W(z(x.g),z(x.h));if(Q(x))return x=ie(D,z(x)),new W(z(x.g),x.h);if(30<D.g.length){if(Q(D)||Q(x))throw Error("slowDivide_ only works with positive integers.");for(var I=A,O=x;0>=O.l(D);)I=ae(I),O=ae(O);var P=he(I,1),C=he(O,1);for(O=he(O,2),I=he(I,2);!L(O);){var R=C.add(O);0>=R.l(D)&&(P=P.add(I),C=R),O=he(O,1),I=he(I,1)}return x=$(D,P.j(x)),new W(P,x)}for(P=w;0<=D.l(x);){for(I=Math.max(1,Math.floor(D.m()/x.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),C=g(I),R=C.j(x);Q(R)||0<R.l(D);)I-=O,C=g(I),R=C.j(x);L(C)&&(C=A),P=P.add(C),D=$(D,R)}return new W(P,D)}r.A=function(D){return ie(this,D).h},r.and=function(D){for(var x=Math.max(this.g.length,D.g.length),I=[],O=0;O<x;O++)I[O]=this.i(O)&D.i(O);return new f(I,this.h&D.h)},r.or=function(D){for(var x=Math.max(this.g.length,D.g.length),I=[],O=0;O<x;O++)I[O]=this.i(O)|D.i(O);return new f(I,this.h|D.h)},r.xor=function(D){for(var x=Math.max(this.g.length,D.g.length),I=[],O=0;O<x;O++)I[O]=this.i(O)^D.i(O);return new f(I,this.h^D.h)};function ae(D){for(var x=D.g.length+1,I=[],O=0;O<x;O++)I[O]=D.i(O)<<1|D.i(O-1)>>>31;return new f(I,D.h)}function he(D,x){var I=x>>5;x%=32;for(var O=D.g.length-I,P=[],C=0;C<O;C++)P[C]=0<x?D.i(C+I)>>>x|D.i(C+I+1)<<32-x:D.i(C+I);return new f(P,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,FE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=T,Hr=f}).apply(typeof F0<"u"?F0:typeof self<"u"?self:typeof window<"u"?window:{});var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GE,jl,KE,Wc,Dm,QE,YE,$E;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qc=="object"&&qc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in _))break e;_=_[U]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,U={next:function(){if(!S&&_<c.length){var K=_++;return{value:y(K,c[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function T(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,S),c.apply(y,U)}}return function(){return c.apply(y,arguments)}}function A(c,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:w,A.apply(null,arguments)}function k(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function L(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,U,K){for(var le=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)le[Le-2]=arguments[Le];return y.prototype[U].apply(S,le)}}function Q(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function z(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const U=c.length||0,K=S.length||0;c.length=U+K;for(let le=0;le<K;le++)c[U+le]=S[le]}else c.push(S)}}class ${constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function se(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ie(c){return ie[" "](c),c}ie[" "]=function(){};var ae=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function he(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function D(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function x(c){const y={};for(const _ in c)y[_]=c[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let _,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(_ in S)c[_]=S[_];for(let K=0;K<I.length;K++)_=I[K],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function P(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function C(c){m.setTimeout(()=>{throw c},0)}function R(){var c=Be;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ve{constructor(){this.h=this.g=null}add(y,_){const S=Re.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Re=new $(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let re,me=!1,Be=new ve,M=()=>{const c=m.Promise.resolve(void 0);re=()=>{c.then(ee)}};var ee=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(_){C(_)}var y=Re;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function De(c,y){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ae){e:{try{ie(y.nodeName);var U=!0;break e}catch{}U=!1}U||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}L(De,oe);var Ae={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),et=0;function Yn(c,y,_,S,U){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=U,this.key=++et,this.da=this.fa=!1}function ar(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ti(c){this.src=c,this.g={},this.h=0}Ti.prototype.add=function(c,y,_,S,U){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var le=ss(c,y,S,U);return-1<le?(y=c[le],_||(y.fa=!1)):(y=new Yn(y,this.src,K,!!S,U),y.fa=_,c.push(y)),y};function rs(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],U=Array.prototype.indexOf.call(S,y,void 0),K;(K=0<=U)&&Array.prototype.splice.call(S,U,1),K&&(ar(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ss(c,y,_,S){for(var U=0;U<c.length;++U){var K=c[U];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==S)return U}return-1}var as="closure_lm_"+(1e6*Math.random()|0),Ao={};function yu(c,y,_,S,U){if(Array.isArray(y)){for(var K=0;K<y.length;K++)yu(c,y[K],_,S,U);return null}return _=vu(_),c&&c[Ct]?c.K(y,_,g(S)?!!S.capture:!1,U):En(c,y,_,!1,S,U)}function En(c,y,_,S,U,K){if(!y)throw Error("Invalid event type");var le=g(U)?!!U.capture:!!U,Le=ta(c);if(Le||(c[as]=Le=new Ti(c)),_=Le.add(y,_,S,le,K),_.proxy)return _;if(S=tf(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)ge||(U=le),U===void 0&&(U=!1),c.addEventListener(y.toString(),S,U);else if(c.attachEvent)c.attachEvent(os(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function tf(){function c(_){return y.call(c.src,c.listener,_)}const y=nf;return c}function So(c,y,_,S,U){if(Array.isArray(y))for(var K=0;K<y.length;K++)So(c,y[K],_,S,U);else S=g(S)?!!S.capture:!!S,_=vu(_),c&&c[Ct]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],_=ss(K,_,S,U),-1<_&&(ar(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=ta(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ss(y,_,S,U)),(_=-1<c?y[c]:null)&&ea(_))}function ea(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ct])rs(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(os(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=ta(y))?(rs(_,c),_.h==0&&(_.src=null,y[as]=null)):ar(c)}}}function os(c){return c in Ao?Ao[c]:Ao[c]="on"+c}function nf(c,y){if(c.da)c=!0;else{y=new De(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&ea(c),c=_.call(S,y)}return c}function ta(c){return c=c[as],c instanceof Ti?c:null}var xo="__closure_events_fn_"+(1e9*Math.random()>>>0);function vu(c){return typeof c=="function"?c:(c[xo]||(c[xo]=function(y){return c.handleEvent(y)}),c[xo])}function lt(){ue.call(this),this.i=new Ti(this),this.M=this,this.F=null}L(lt,ue),lt.prototype[Ct]=!0,lt.prototype.removeEventListener=function(c,y,_,S){So(this,c,y,_,S)};function Ke(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new oe(y,c);else if(y instanceof oe)y.target=y.target||c;else{var U=y;y=new oe(S,c),O(y,U)}if(U=!0,_)for(var K=_.length-1;0<=K;K--){var le=y.g=_[K];U=un(le,S,!0,y)&&U}if(le=y.g=c,U=un(le,S,!0,y)&&U,U=un(le,S,!1,y)&&U,_)for(K=0;K<_.length;K++)le=y.g=_[K],U=un(le,S,!1,y)&&U}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)ar(_[S]);delete c.g[y],c.h--}}this.F=null},lt.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},lt.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function un(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var U=!0,K=0;K<y.length;++K){var le=y[K];if(le&&!le.da&&le.capture==_){var Le=le.listener,bt=le.ha||le.src;le.fa&&rs(c.i,le),U=Le.call(bt,S)!==!1&&U}}return U&&!S.defaultPrevented}function Ft(c,y,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function _u(c){c.g=Ft(()=>{c.g=null,c.i&&(c.i=!1,_u(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class rf extends ue{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:_u(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ls(c){ue.call(this),this.h=c,this.g={}}L(ls,ue);var us=[];function cs(c){he(c.g,function(y,_){this.g.hasOwnProperty(_)&&ea(y)},c),c.g={}}ls.prototype.N=function(){ls.aa.N.call(this),cs(this)},ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kn=m.JSON.stringify,na=m.JSON.parse,hs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ro(){}Ro.prototype.h=null;function Io(c){return c.h||(c.h=c.i())}function Co(){}var bi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wi(){oe.call(this,"d")}L(wi,oe);function No(){oe.call(this,"c")}L(No,oe);var $n={},Do=null;function or(){return Do=Do||new lt}$n.La="serverreachability";function ia(c){oe.call(this,$n.La,c)}L(ia,oe);function lr(c){const y=or();Ke(y,new ia(y))}$n.STAT_EVENT="statevent";function Eu(c,y){oe.call(this,$n.STAT_EVENT,c),this.stat=y}L(Eu,oe);function it(c){const y=or();Ke(y,new Eu(y,c))}$n.Ma="timingevent";function Tt(c,y){oe.call(this,$n.Ma,c),this.size=y}L(Tt,oe);function pt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Tn(){this.g=!0}Tn.prototype.xa=function(){this.g=!1};function Oo(c,y,_,S,U,K){c.info(function(){if(c.g)if(K)for(var le="",Le=K.split("&"),bt=0;bt<Le.length;bt++){var je=Le[bt].split("=");if(1<je.length){var Dt=je[0];je=je[1];var wt=Dt.split("_");le=2<=wt.length&&wt[1]=="type"?le+(Dt+"="+je+"&"):le+(Dt+"=redacted&")}}else le=null;else le=K;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+y+`
`+_+`
`+le})}function sf(c,y,_,S,U,K,le){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+y+`
`+_+`
`+K+" "+le})}function ur(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+fs(c,_)+(S?" "+S:"")})}function Tu(c,y){c.info(function(){return"TIMEOUT: "+y})}Tn.prototype.info=function(){};function fs(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var U=S[1];if(Array.isArray(U)&&!(1>U.length)){var K=U[0];if(K!="noop"&&K!="stop"&&K!="close")for(var le=1;le<U.length;le++)U[le]=""}}}}return kn(_)}catch{return y}}var cr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xn;function Wn(){}L(Wn,Ro),Wn.prototype.g=function(){return new XMLHttpRequest},Wn.prototype.i=function(){return{}},Xn=new Wn;function Wt(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new ls(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ht}function ht(){this.i=null,this.g="",this.h=!1}var Mo={},ra={};function Vn(c,y,_){c.L=1,c.v=ys(cn(y)),c.m=_,c.P=!0,Si(c,null)}function Si(c,y){c.F=Date.now(),ds(c),c.A=cn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Uo(_.i,"t",S),c.C=0,_=c.j.J,c.h=new ht,c.g=Lu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new rf(A(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(us[0]=U.toString()),U=us);for(var K=0;K<U.length;K++){var le=yu(_,U[K],S||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),lr(),Oo(c.i,c.u,c.A,c.l,c.R,c.m)}Wt.prototype.ca=function(c){c=c.target;const y=this.M;y&&Sn(c)==3?y.j():this.Y(c)},Wt.prototype.Y=function(c){try{if(c==this.g)e:{const wt=Sn(this.g);var y=this.g.Ba();const Mi=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Cu(this.g)))){this.J||wt!=4||y==7||(y==8||0>=Mi?lr(3):lr(2)),hr(this);var _=this.g.Z();this.X=_;t:if(bu(this)){var S=Cu(this.g);c="";var U=S.length,K=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pt(this),Zn(this);var le="";break t}this.h.i=new m.TextDecoder}for(y=0;y<U;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(K&&y==U-1)});S.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=_==200,sf(this.i,this.u,this.A,this.l,this.R,wt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,bt=this.g;if((Le=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(Le)){var je=Le;break t}}je=null}if(_=je)ur(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ms(this,_);else{this.o=!1,this.s=3,it(12),Pt(this),Zn(this);break e}}if(this.P){_=!0;let Lt;for(;!this.J&&this.C<le.length;)if(Lt=wu(this,le),Lt==ra){wt==4&&(this.s=4,it(14),_=!1),ur(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==Mo){this.s=4,it(15),ur(this.i,this.l,le,"[Invalid Chunk]"),_=!1;break}else ur(this.i,this.l,Lt,null),ms(this,Lt);if(bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||le.length!=0||this.h.h||(this.s=1,it(16),_=!1),this.o=this.o&&_,!_)ur(this.i,this.l,le,"[Invalid Chunked Response]"),Pt(this),Zn(this);else if(0<le.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Ss(Dt),Dt.M=!0,it(11))}}else ur(this.i,this.l,le,null),ms(this,le);wt==4&&Pt(this),this.o&&!this.J&&(wt==4?ku(this.j,this):(this.o=!1,ds(this)))}else cf(this.g),_==400&&0<le.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),Pt(this),Zn(this)}}}catch{}finally{}};function bu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function wu(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?ra:(_=Number(y.substring(_,S)),isNaN(_)?Mo:(S+=1,S+_>y.length?ra:(y=y.slice(S,S+_),c.C=S+_,y)))}Wt.prototype.cancel=function(){this.J=!0,Pt(this)};function ds(c){c.S=Date.now()+c.I,Au(c,c.I)}function Au(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pt(A(c.ba,c),y)}function hr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Wt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Tu(this.i,this.A),this.L!=2&&(lr(),it(17)),Pt(this),this.s=2,Zn(this)):Au(this,this.S-c)};function Zn(c){c.j.G==0||c.J||ku(c.j,c)}function Pt(c){hr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,cs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ms(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||ko(_.h,c))){if(!c.K&&ko(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ga(_),ma(_);else break e;Fo(_),it(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=pt(A(_.Za,_),6e3));if(1>=aa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Oi(_,11)}else if((c.K||_.g==c)&&ga(_),!se(y))for(U=_.Da.g.parse(y),y=0;y<U.length;y++){let je=U[y];if(_.T=je[0],je=je[1],_.G==2)if(je[0]=="c"){_.K=je[1],_.ia=je[2];const Dt=je[3];Dt!=null&&(_.la=Dt,_.j.info("VER="+_.la));const wt=je[4];wt!=null&&(_.Aa=wt,_.j.info("SVER="+_.Aa));const Mi=je[5];Mi!=null&&typeof Mi=="number"&&0<Mi&&(S=1.5*Mi,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Lt=c.g;if(Lt){const si=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(si){var K=S.h;K.g||si.indexOf("spdy")==-1&&si.indexOf("quic")==-1&&si.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(oa(K,K.h),K.h=null))}if(S.D){const Ko=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ko&&(S.ya=Ko,$e(S.I,S.D,Ko))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var le=c;if(S.qa=Pu(S,S.J?S.ia:null,S.W),le.K){Zt(S.h,le);var Le=le,bt=S.L;bt&&(Le.I=bt),Le.B&&(hr(Le),ds(Le)),S.g=le}else Ou(S);0<_.i.length&&pa(_)}else je[0]!="stop"&&je[0]!="close"||Oi(_,7);else _.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Oi(_,7):qo(_):je[0]!="noop"&&_.l&&_.l.ta(je),_.v=0)}}lr(4)}catch{}}var Su=class{constructor(c,y){this.g=c,this.map=y}};function xi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function aa(c){return c.h?1:c.g?c.g.size:0}function ko(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function oa(c,y){c.g?c.g.add(y):c.h=y}function Zt(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}xi.prototype.cancel=function(){if(this.i=Vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Vo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return Q(c.i)}function af(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function la(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function Po(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=la(c),S=af(c),U=S.length,K=0;K<U;K++)y.call(void 0,S[K],_&&_[K],c)}var ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function of(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),U=null;if(0<=S){var K=c[_].substring(0,S);U=c[_].substring(S+1)}else K=c[_];y(K,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function gt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof gt){this.h=c.h,gs(this,c.j),this.o=c.o,this.g=c.g,fr(this,c.s),this.l=c.l;var y=c.i,_=new Ii;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ri(this,_),this.m=c.m}else c&&(y=String(c).match(ps))?(this.h=!1,gs(this,y[1]||"",!0),this.o=bn(y[2]||""),this.g=bn(y[3]||"",!0),fr(this,y[4]),this.l=bn(y[5]||"",!0),Ri(this,y[6]||"",!0),this.m=bn(y[7]||"")):(this.h=!1,this.i=new Ii(null,this.h))}gt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(vs(y,Lo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(vs(y,Lo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(vs(_,_.charAt(0)=="/"?lf:jo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",vs(_,ua)),c.join("")};function cn(c){return new gt(c)}function gs(c,y,_){c.j=_?bn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function fr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ri(c,y,_){y instanceof Ii?(c.i=y,Ru(c.i,c.h)):(_||(y=vs(y,uf)),c.i=new Ii(y,c.h))}function $e(c,y,_){c.i.set(y,_)}function ys(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function bn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vs(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,xu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function xu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Lo=/[#\/\?@]/g,jo=/[#\?:]/g,lf=/[#\?]/g,uf=/[#\?@]/g,ua=/#/g;function Ii(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function wn(c){c.g||(c.g=new Map,c.h=0,c.i&&of(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Ii.prototype,r.add=function(c,y){wn(this),this.i=null,c=Jn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ci(c,y){wn(c),y=Jn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ni(c,y){return wn(c),y=Jn(c,y),c.g.has(y)}r.forEach=function(c,y){wn(this),this.g.forEach(function(_,S){_.forEach(function(U){c.call(y,U,S,this)},this)},this)},r.na=function(){wn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const U=c[S];for(let K=0;K<U.length;K++)_.push(y[S])}return _},r.V=function(c){wn(this);let y=[];if(typeof c=="string")Ni(this,c)&&(y=y.concat(this.g.get(Jn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return wn(this),this.i=null,c=Jn(this,c),Ni(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Uo(c,y,_){Ci(c,y),0<_.length&&(c.i=null,c.g.set(Jn(c,y),Q(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const K=encodeURIComponent(String(S)),le=this.V(S);for(S=0;S<le.length;S++){var U=K;le[S]!==""&&(U+="="+encodeURIComponent(String(le[S]))),c.push(U)}}return this.i=c.join("&")};function Jn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ru(c,y){y&&!c.j&&(wn(c),c.i=null,c.g.forEach(function(_,S){var U=S.toLowerCase();S!=U&&(Ci(this,S),Uo(this,U,_))},c)),c.j=y}function _s(c,y){const _=new Tn;if(m.Image){const S=new Image;S.onload=k(An,_,"TestLoadImage: loaded",!0,y,S),S.onerror=k(An,_,"TestLoadImage: error",!1,y,S),S.onabort=k(An,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=k(An,_,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Pn(c,y){const _=new Tn,S=new AbortController,U=setTimeout(()=>{S.abort(),An(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(U),K.ok?An(_,"TestPingServer: ok",!0,y):An(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),An(_,"TestPingServer: error",!1,y)})}function An(c,y,_,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(_)}catch{}}function Es(){this.g=new hs}function ei(c,y,_){const S=_||"";try{Po(c,function(U,K){let le=U;g(U)&&(le=kn(U)),y.push(S+K+"="+encodeURIComponent(le))})}catch(U){throw y.push(S+"type="+encodeURIComponent("_badmap")),U}}function dr(c){this.l=c.Ub||null,this.j=c.eb||!1}L(dr,Ro),dr.prototype.g=function(){return new Di(this.l,this.j)},dr.prototype.i=function(c){return function(){return c}}({});function Di(c,y){lt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Di,lt),r=Di.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ni(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ti(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function zo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ti(this):ni(this),this.readyState==3&&zo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ti(this))},r.Qa=function(c){this.g&&(this.response=c,ti(this))},r.ga=function(){this.g&&ti(this)};function ti(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ni(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ni(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Bo(c){let y="";return he(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Nt(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Bo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):$e(c,y,_))}function Fe(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Fe,lt);var ca=/^https?$/i,Ts=["POST","PUT"];r=Fe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xn.g(),this.v=this.o?Io(this.o):Io(Xn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Iu(this,K);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)_.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())_.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ts,y,void 0))||S||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,le]of _)this.g.setRequestHeader(K,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bs(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Iu(this,K)}};function Iu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ha(c),ii(c)}function ha(c){c.A||(c.A=!0,Ke(c,"complete"),Ke(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ke(this,"complete"),Ke(this,"abort"),ii(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ii(this,!0)),Fe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?fa(this):this.bb())},r.bb=function(){fa(this)};function fa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Sn(c)!=4||c.Z()!=2)){if(c.u&&Sn(c)==4)Ft(c.Ea,0,c);else if(Ke(c,"readystatechange"),Sn(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=le===0){var U=String(c.D).match(ps)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),S=!ca.test(U?U.toLowerCase():"")}_=S}if(_)Ke(c,"complete"),Ke(c,"success");else{c.m=6;try{var K=2<Sn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",ha(c)}}finally{ii(c)}}}}function ii(c,y){if(c.g){bs(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ke(c,"ready");try{_.onreadystatechange=S}catch{}}}function bs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Sn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),na(y)}};function Cu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function cf(c){const y={};c=(c.g&&2<=Sn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(se(c[S]))continue;var _=P(c[S]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[U]||[];y[U]=K,K.push(_)}D(y,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ws(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function da(c){this.Aa=0,this.i=[],this.j=new Tn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ws("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ws("baseRetryDelayMs",5e3,c),this.cb=ws("retryDelaySeedMs",1e4,c),this.Wa=ws("forwardChannelMaxRetries",2,c),this.wa=ws("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new xi(c&&c.concurrentRequestLimit),this.Da=new Es,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=da.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,S){it(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Pu(this,null,this.W),pa(this)};function qo(c){if(Nu(c),c.G==3){var y=c.U++,_=cn(c.I);if($e(_,"SID",c.K),$e(_,"RID",y),$e(_,"TYPE","terminate"),As(c,_),y=new Wt(c,c.j,y),y.L=2,y.v=ys(cn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Lu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ds(y)}Vu(c)}function ma(c){c.g&&(Ss(c),c.g.cancel(),c.g=null)}function Nu(c){ma(c),c.u&&(m.clearTimeout(c.u),c.u=null),ga(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function pa(c){if(!sa(c.h)&&!c.s){c.s=!0;var y=c.Ga;re||M(),me||(re(),me=!0),Be.add(y,c),c.B=0}}function hf(c,y){return aa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pt(A(c.Ga,c,y),Go(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new Wt(this,this.j,c);let K=this.o;if(this.S&&(K?(K=x(K),O(K,this.S)):K=this.S),this.m!==null||this.O||(U.H=K,K=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Du(this,U,y),_=cn(this.I),$e(_,"RID",c),$e(_,"CVER",22),this.D&&$e(_,"X-HTTP-Session-Id",this.D),As(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(Bo(K)))+"&"+y:this.m&&Nt(_,this.m,K)),oa(this.h,U),this.Ua&&$e(_,"TYPE","init"),this.P?($e(_,"$req",y),$e(_,"SID","null"),U.T=!0,Vn(U,_,null)):Vn(U,_,y),this.G=2}}else this.G==3&&(c?Ho(this,c):this.i.length==0||sa(this.h)||Ho(this))};function Ho(c,y){var _;y?_=y.l:_=c.U++;const S=cn(c.I);$e(S,"SID",c.K),$e(S,"RID",_),$e(S,"AID",c.T),As(c,S),c.m&&c.o&&Nt(S,c.m,c.o),_=new Wt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Du(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),oa(c.h,_),Vn(_,S,y)}function As(c,y){c.H&&he(c.H,function(_,S){$e(y,S,_)}),c.l&&Po({},function(_,S){$e(y,S,_)})}function Du(c,y,_){_=Math.min(c.i.length,_);var S=c.l?A(c.l.Na,c.l,c):null;e:{var U=c.i;let K=-1;for(;;){const le=["count="+_];K==-1?0<_?(K=U[0].g,le.push("ofs="+K)):K=0:le.push("ofs="+K);let Le=!0;for(let bt=0;bt<_;bt++){let je=U[bt].g;const Dt=U[bt].map;if(je-=K,0>je)K=Math.max(0,U[bt].g-100),Le=!1;else try{ei(Dt,le,"req"+je+"_")}catch{S&&S(Dt)}}if(Le){S=le.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,S}function Ou(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;re||M(),me||(re(),me=!0),Be.add(y,c),c.v=0}}function Fo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pt(A(c.Fa,c),Go(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pt(A(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),ma(this),Mu(this))};function Ss(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Mu(c){c.g=new Wt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=cn(c.qa);$e(y,"RID","rpc"),$e(y,"SID",c.K),$e(y,"AID",c.T),$e(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(y,"TO",c.ja),$e(y,"TYPE","xmlhttp"),As(c,y),c.m&&c.o&&Nt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ys(cn(y)),_.m=null,_.P=!0,Si(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ma(this),Fo(this),it(19))};function ga(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function ku(c,y){var _=null;if(c.g==y){ga(c),Ss(c),c.g=null;var S=2}else if(ko(c.h,y))_=y.D,Zt(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var U=c.B;S=or(),Ke(S,new Tt(S,_)),pa(c)}else Ou(c);else if(U=y.s,U==3||U==0&&0<y.X||!(S==1&&hf(c,y)||S==2&&Fo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),U){case 1:Oi(c,5);break;case 4:Oi(c,10);break;case 3:Oi(c,6);break;default:Oi(c,2)}}}function Go(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Oi(c,y){if(c.j.info("Error code "+y),y==2){var _=A(c.fb,c),S=c.Xa;const U=!S;S=new gt(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||gs(S,"https"),ys(S),U?_s(S.toString(),_):Pn(S.toString(),_)}else it(2);c.G=0,c.l&&c.l.sa(y),Vu(c),Nu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Vu(c){if(c.G=0,c.ka=[],c.l){const y=Vo(c.h);(y.length!=0||c.i.length!=0)&&(z(c.ka,y),z(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function Pu(c,y,_){var S=_ instanceof gt?cn(_):new gt(_);if(S.g!="")y&&(S.g=y+"."+S.g),fr(S,S.s);else{var U=m.location;S=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;var K=new gt(null);S&&gs(K,S),y&&(K.g=y),U&&fr(K,U),_&&(K.l=_),S=K}return _=c.D,y=c.ya,_&&y&&$e(S,_,y),$e(S,"VER",c.la),As(c,S),S}function Lu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Fe(new dr({eb:_})):new Fe(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}r=ju.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ya(){}ya.prototype.g=function(c,y){return new Jt(c,y)};function Jt(c,y){lt.call(this),this.g=new da(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!se(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!se(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ri(this)}L(Jt,lt),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){qo(this.g)},Jt.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=kn(c),c=_);y.i.push(new Su(y.Ya++,c)),y.G==3&&pa(y)},Jt.prototype.N=function(){this.g.l=null,delete this.j,qo(this.g),delete this.g,Jt.aa.N.call(this)};function Uu(c){wi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}L(Uu,wi);function zu(){No.call(this),this.status=1}L(zu,No);function ri(c){this.g=c}L(ri,ju),ri.prototype.ua=function(){Ke(this.g,"a")},ri.prototype.ta=function(c){Ke(this.g,new Uu(c))},ri.prototype.sa=function(c){Ke(this.g,new zu)},ri.prototype.ra=function(){Ke(this.g,"b")},ya.prototype.createWebChannel=ya.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,$E=function(){return new ya},YE=function(){return or()},QE=$n,Dm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cr.NO_ERROR=0,cr.TIMEOUT=8,cr.HTTP_ERROR=6,Wc=cr,Ai.COMPLETE="complete",KE=Ai,Co.EventType=bi,bi.OPEN="a",bi.CLOSE="b",bi.ERROR="c",bi.MESSAGE="d",lt.prototype.listen=lt.prototype.K,jl=Co,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,GE=Fe}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});const G0="@firebase/firestore",K0="4.7.15";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go="11.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new lp("@firebase/firestore");function Ka(){return Qs.logLevel}function ce(r,...e){if(Qs.logLevel<=Ve.DEBUG){const n=e.map(hp);Qs.debug(`Firestore (${go}): ${r}`,...n)}}function tr(r,...e){if(Qs.logLevel<=Ve.ERROR){const n=e.map(hp);Qs.error(`Firestore (${go}): ${r}`,...n)}}function eo(r,...e){if(Qs.logLevel<=Ve.WARN){const n=e.map(hp);Qs.warn(`Firestore (${go}): ${r}`,...n)}}function hp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,XE(r,s,n)}function XE(r,e,n){let s=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw tr(s),new Error(s)}function Ge(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||XE(e,o,s)}function xe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends _i{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class Wx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Zx{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Wi,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Wi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new WE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Yt(e)}}class Jx{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eR{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Jx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Q0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,an(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Q0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Q0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=nR(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ne(r,e){return r<e?-1:r>e?1:0}function Om(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ne(s,o);{const u=ZE(),f=iR(u.encode(Y0(r,n)),u.encode(Y0(e,n)));return f!==0?f:Ne(s,o)}}n+=s>65535?2:1}return Ne(r.length,e.length)}function Y0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function iR(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ne(r[n],e[n]);return Ne(r.length,e.length)}function to(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=-62135596800,X0=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*X0);return new xt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$0)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/X0}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-$0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new xt(0,0))}static max(){return new Se(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="__name__";class hi{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return hi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=hi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ne(e.length,n.length)}static compareSegments(e,n){const s=hi.isNumericId(e),o=hi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?hi.extractNumericId(e).compare(hi.extractNumericId(n)):Om(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hr.fromString(e.substring(4,e.length-2))}}class nt extends hi{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const rR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends hi{construct(e,n,s){return new qt(e,n,s)}static isValidIdentifier(e){return rR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===W0}static keyField(){return new qt([W0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new fe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(nt.fromString(e))}static fromName(e){return new ye(nt.fromString(e).popFirst(5))}static empty(){return new ye(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=-1;function sR(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new xt(n+1,0):new xt(n,s));return new Qr(o,ye.empty(),e)}function aR(r){return new Qr(r.readTime,r.key,Wl)}class Qr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Qr(Se.min(),ye.empty(),Wl)}static max(){return new Qr(Se.max(),ye.empty(),Wl)}}function oR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Ne(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==lR)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,s)=>{n(e)})}static reject(e){return new te((n,s)=>{s(e)})}static waitFor(e){return new te((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next(o=>o?te.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new te((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(T=>{f[g]=T,++m,m===u&&s(f)},T=>o(T))}})}static doWhile(e,n){return new te((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function cR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}kh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp=-1;function Vh(r){return r==null}function ch(r){return r===0&&1/r==-1/0}function hR(r){return typeof r=="number"&&Number.isInteger(r)&&!ch(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="";function fR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Z0(e)),e=dR(r.get(n),e);return Z0(e)}function dR(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case eT:n+="";break;default:n+=u}}return n}function Z0(r){return r+eT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function es(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function tT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Bt.RED,this.left=o??Bt.EMPTY,this.right=u??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Bt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Bt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new e_(this.data.getIterator())}getIteratorFrom(e){return new e_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class e_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new _n([])}unionWith(e){let n=new Rt(qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new nT("Invalid base64 string: "+u):u}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const mR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(r){if(Ge(!!r,39018),typeof r=="string"){let e=0;const n=mR.exec(r);if(Ge(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:mt(r.seconds),nanos:mt(r.nanos)}}function mt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function $r(r){return typeof r=="string"?Ht.fromBase64String(r):Ht.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="server_timestamp",rT="__type__",sT="__previous_value__",aT="__local_write_time__";function dp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[rT])===null||n===void 0?void 0:n.stringValue)===iT}function Ph(r){const e=r.mapValue.fields[sT];return dp(e)?Ph(e):e}function Zl(r){const e=Yr(r.mapValue.fields[aT].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,n,s,o,u,f,m,p,g,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=T}}const hh="(default)";class Jl{constructor(e,n){this.projectId=e,this.database=n||hh}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===hh}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="__type__",gR="__max__",Fc={mapValue:{}},lT="__vector__",fh="value";function Xr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?dp(r)?4:vR(r)?9007199254740991:yR(r)?10:11:be(28295,{value:r})}function gi(r,e){if(r===e)return!0;const n=Xr(r);if(n!==Xr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Zl(r).isEqual(Zl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Yr(o.timestampValue),m=Yr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return $r(o.bytesValue).isEqual($r(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return mt(o.geoPointValue.latitude)===mt(u.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return mt(o.integerValue)===mt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=mt(o.doubleValue),m=mt(u.doubleValue);return f===m?ch(f)===ch(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return to(r.arrayValue.values||[],e.arrayValue.values||[],gi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(J0(f)!==J0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!gi(f[p],m[p])))return!1;return!0}(r,e);default:return be(52216,{left:r})}}function eu(r,e){return(r.values||[]).find(n=>gi(n,e))!==void 0}function no(r,e){if(r===e)return 0;const n=Xr(r),s=Xr(e);if(n!==s)return Ne(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=mt(u.integerValue||u.doubleValue),p=mt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return t_(r.timestampValue,e.timestampValue);case 4:return t_(Zl(r),Zl(e));case 5:return Om(r.stringValue,e.stringValue);case 6:return function(u,f){const m=$r(u),p=$r(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const T=Ne(m[g],p[g]);if(T!==0)return T}return Ne(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ne(mt(u.latitude),mt(f.latitude));return m!==0?m:Ne(mt(u.longitude),mt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return n_(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,T;const w=u.fields||{},A=f.fields||{},k=(m=w[fh])===null||m===void 0?void 0:m.arrayValue,L=(p=A[fh])===null||p===void 0?void 0:p.arrayValue,Q=Ne(((g=k==null?void 0:k.values)===null||g===void 0?void 0:g.length)||0,((T=L==null?void 0:L.values)===null||T===void 0?void 0:T.length)||0);return Q!==0?Q:n_(k,L)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Fc.mapValue&&f===Fc.mapValue)return 0;if(u===Fc.mapValue)return 1;if(f===Fc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let w=0;w<p.length&&w<T.length;++w){const A=Om(p[w],T[w]);if(A!==0)return A;const k=no(m[p[w]],g[T[w]]);if(k!==0)return k}return Ne(p.length,T.length)}(r.mapValue,e.mapValue);default:throw be(23264,{Pe:n})}}function t_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ne(r,e);const n=Yr(r),s=Yr(e),o=Ne(n.seconds,s.seconds);return o!==0?o:Ne(n.nanos,s.nanos)}function n_(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=no(n[o],s[o]);if(u)return u}return Ne(n.length,s.length)}function io(r){return Mm(r)}function Mm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Yr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return $r(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ye.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Mm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Mm(n.fields[f])}`;return o+"}"}(r.mapValue):be(61005,{value:r})}function Zc(r){switch(Xr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ph(r);return e?16+Zc(e):16;case 5:return 2*r.stringValue.length;case 6:return $r(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Zc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return es(s.fields,(u,f)=>{o+=u.length+Zc(f)}),o}(r.mapValue);default:throw be(13486,{value:r})}}function i_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function km(r){return!!r&&"integerValue"in r}function mp(r){return!!r&&"arrayValue"in r}function r_(r){return!!r&&"nullValue"in r}function s_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Jc(r){return!!r&&"mapValue"in r}function yR(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[oT])===null||n===void 0?void 0:n.stringValue)===lT}function Hl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return es(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Hl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function vR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===gR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Jc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(n)}setAll(e){let n=qt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Hl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){es(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new on(Hl(this.value))}}function uT(r){const e=[];return es(r.fields,(n,s)=>{const o=new qt([n]);if(Jc(s)){const u=uT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new $t(e,0,Se.min(),Se.min(),Se.min(),on.empty(),0)}static newFoundDocument(e,n,s,o){return new $t(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new $t(e,2,n,Se.min(),Se.min(),on.empty(),0)}static newUnknownDocument(e,n){return new $t(e,3,n,Se.min(),Se.min(),on.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n){this.position=e,this.inclusive=n}}function a_(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=no(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function o_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!gi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n="asc"){this.field=e,this.dir=n}}function _R(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{}class Et extends cT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new TR(e,n,s):n==="array-contains"?new AR(e,s):n==="in"?new SR(e,s):n==="not-in"?new xR(e,s):n==="array-contains-any"?new RR(e,s):new Et(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new bR(e,s):new wR(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(no(n,this.value)):n!==null&&Xr(this.value)===Xr(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends cT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Kn(e,n)}matches(e){return hT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function hT(r){return r.op==="and"}function fT(r){return ER(r)&&hT(r)}function ER(r){for(const e of r.filters)if(e instanceof Kn)return!1;return!0}function Vm(r){if(r instanceof Et)return r.field.canonicalString()+r.op.toString()+io(r.value);if(fT(r))return r.filters.map(e=>Vm(e)).join(",");{const e=r.filters.map(n=>Vm(n)).join(",");return`${r.op}(${e})`}}function dT(r,e){return r instanceof Et?function(s,o){return o instanceof Et&&s.op===o.op&&s.field.isEqual(o.field)&&gi(s.value,o.value)}(r,e):r instanceof Kn?function(s,o){return o instanceof Kn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&dT(f,o.filters[m]),!0):!1}(r,e):void be(19439)}function mT(r){return r instanceof Et?function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`}(r):r instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(mT).join(" ,")+"}"}(r):"Filter"}class TR extends Et{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class bR extends Et{constructor(e,n){super(e,"in",n),this.keys=pT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class wR extends Et{constructor(e,n){super(e,"not-in",n),this.keys=pT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function pT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class AR extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mp(n)&&eu(n.arrayValue,this.value)}}class SR extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eu(this.value.arrayValue,n)}}class xR extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!eu(this.value.arrayValue,n)}}class RR extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>eu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function l_(r,e=null,n=[],s=[],o=null,u=null,f=null){return new IR(r,e,n,s,o,u,f)}function pp(r){const e=xe(r);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Vm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>io(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>io(s)).join(",")),e.Ie=n}return e.Ie}function gp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!_R(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!dT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!o_(r.startAt,e.startAt)&&o_(r.endAt,e.endAt)}function Pm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function CR(r,e,n,s,o,u,f,m){return new lu(r,e,n,s,o,u,f,m)}function yp(r){return new lu(r)}function u_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function gT(r){return r.collectionGroup!==null}function Fl(r){const e=xe(r);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Rt(qt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new mh(u,s))}),n.has(qt.keyField().canonicalString())||e.Ee.push(new mh(qt.keyField(),s))}return e.Ee}function di(r){const e=xe(r);return e.de||(e.de=NR(e,Fl(r))),e.de}function NR(r,e){if(r.limitType==="F")return l_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new mh(o.field,u)});const n=r.endAt?new dh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new dh(r.startAt.position,r.startAt.inclusive):null;return l_(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Lm(r,e){const n=r.filters.concat([e]);return new lu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function jm(r,e,n){return new lu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Lh(r,e){return gp(di(r),di(e))&&r.limitType===e.limitType}function yT(r){return`${pp(di(r))}|lt:${r.limitType}`}function Qa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>mT(o)).join(", ")}]`),Vh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>io(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>io(o)).join(",")),`Target(${s})`}(di(r))}; limitType=${r.limitType})`}function jh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Fl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=a_(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Fl(s),o)||s.endAt&&!function(f,m,p){const g=a_(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Fl(s),o))}(r,e)}function DR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function vT(r){return(e,n)=>{let s=!1;for(const o of Fl(r)){const u=OR(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function OR(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?no(p,g):be(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){es(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return tT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=new ot(ye.comparator);function nr(){return MR}const _T=new ot(ye.comparator);function Ul(...r){let e=_T;for(const n of r)e=e.insert(n.key,n);return e}function ET(r){let e=_T;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function qs(){return Gl()}function TT(){return Gl()}function Gl(){return new Zs(r=>r.toString(),(r,e)=>r.isEqual(e))}const kR=new ot(ye.comparator),VR=new Rt(ye.comparator);function Pe(...r){let e=VR;for(const n of r)e=e.add(n);return e}const PR=new Rt(Ne);function LR(){return PR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function bT(r){return{integerValue:""+r}}function jR(r,e){return hR(e)?bT(e):vp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this._=void 0}}function UR(r,e,n){return r instanceof ph?function(o,u){const f={fields:{[rT]:{stringValue:iT},[aT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&dp(u)&&(u=Ph(u)),u&&(f.fields[sT]=u),{mapValue:f}}(n,e):r instanceof ro?AT(r,e):r instanceof tu?ST(r,e):function(o,u){const f=wT(o,u),m=c_(f)+c_(o.Re);return km(f)&&km(o.Re)?bT(m):vp(o.serializer,m)}(r,e)}function zR(r,e,n){return r instanceof ro?AT(r,e):r instanceof tu?ST(r,e):n}function wT(r,e){return r instanceof gh?function(s){return km(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class ph extends Uh{}class ro extends Uh{constructor(e){super(),this.elements=e}}function AT(r,e){const n=xT(e);for(const s of r.elements)n.some(o=>gi(o,s))||n.push(s);return{arrayValue:{values:n}}}class tu extends Uh{constructor(e){super(),this.elements=e}}function ST(r,e){let n=xT(e);for(const s of r.elements)n=n.filter(o=>!gi(o,s));return{arrayValue:{values:n}}}class gh extends Uh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function c_(r){return mt(r.integerValue||r.doubleValue)}function xT(r){return mp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n){this.field=e,this.transform=n}}function qR(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof ro&&o instanceof ro||s instanceof tu&&o instanceof tu?to(s.elements,o.elements,gi):s instanceof gh&&o instanceof gh?gi(s.Re,o.Re):s instanceof ph&&o instanceof ph}(r.transform,e.transform)}class HR{constructor(e,n){this.version=e,this.transformResults=n}}class Hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class zh{}function RT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new _p(r.key,Hn.none()):new uu(r.key,r.data,Hn.none());{const n=r.data,s=on.empty();let o=new Rt(qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ts(r.key,s,new _n(o.toArray()),Hn.none())}}function FR(r,e,n){r instanceof uu?function(o,u,f){const m=o.value.clone(),p=f_(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof ts?function(o,u,f){if(!eh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=f_(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(IT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Kl(r,e,n,s){return r instanceof uu?function(u,f,m,p){if(!eh(u.precondition,f))return m;const g=u.value.clone(),T=d_(u.fieldTransforms,p,f);return g.setAll(T),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof ts?function(u,f,m,p){if(!eh(u.precondition,f))return m;const g=d_(u.fieldTransforms,p,f),T=f.data;return T.setAll(IT(u)),T.setAll(g),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,e,n,s):function(u,f,m){return eh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function GR(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=wT(s.transform,o||null);u!=null&&(n===null&&(n=on.empty()),n.set(s.field,u))}return n||null}function h_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&to(s,o,(u,f)=>qR(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class uu extends zh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ts extends zh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function IT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function f_(r,e,n){const s=new Map;Ge(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,zR(f,m,n[o]))}return s}function d_(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,UR(u,f,e))}return s}class _p extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KR extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&FR(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Kl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Kl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=TT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=RT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,(n,s)=>h_(n,s))&&to(this.baseMutations,e.baseMutations,(n,s)=>h_(n,s))}}class Ep{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return kR}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Ep(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,ze;function XR(r){switch(r){case ne.OK:return be(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return be(15467,{code:r})}}function CT(r){if(r===void 0)return tr("GRPC error has no .code"),ne.UNKNOWN;switch(r){case _t.OK:return ne.OK;case _t.CANCELLED:return ne.CANCELLED;case _t.UNKNOWN:return ne.UNKNOWN;case _t.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case _t.INTERNAL:return ne.INTERNAL;case _t.UNAVAILABLE:return ne.UNAVAILABLE;case _t.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case _t.NOT_FOUND:return ne.NOT_FOUND;case _t.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case _t.ABORTED:return ne.ABORTED;case _t.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case _t.DATA_LOSS:return ne.DATA_LOSS;default:return be(39323,{code:r})}}(ze=_t||(_t={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=new Hr([4294967295,4294967295],0);function m_(r){const e=ZE().encode(r),n=new FE;return n.update(e),new Uint8Array(n.digest())}function p_(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Hr([n,s],0),new Hr([o,u],0)]}class Tp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new zl(`Invalid padding: ${n}`);if(s<0)throw new zl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new zl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Hr.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(Hr.fromNumber(s)));return o.compare(WR)===1&&(o=new Hr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=m_(e),[s,o]=p_(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.Se(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Tp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const n=m_(e),[s,o]=p_(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Bh(Se.min(),o,new ot(Ne),nr(),Pe())}}class cu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new cu(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class NT{constructor(e,n){this.targetId=e,this.Ce=n}}class DT{constructor(e,n,s=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class g_{constructor(){this.Fe=0,this.Me=y_(),this.xe=Ht.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Pe(),n=Pe(),s=Pe();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be(38017,{changeType:u})}}),new cu(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=y_()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ge(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class ZR{constructor(e){this.ze=e,this.je=new Map,this.He=nr(),this.Je=Gc(),this.Ye=Gc(),this.Ze=new ot(Ne)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:be(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(Pm(u))if(s===0){const f=new ye(u.path);this.tt(n,f,$t.newNoDocument(f,Se.min()))}else Ge(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(e),p=m?this.lt(m,e,f):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=$r(s).toUint8Array()}catch(p){if(p instanceof nT)return eo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Tp(f,o,u)}catch(p){return eo(p instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&Pm(m.target)){const p=new ye(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,$t.newNoDocument(p,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=Pe();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new Bh(e,n,this.Ze,this.He,s);return this.He=nr(),this.Je=Gc(),this.Ye=Gc(),this.Ze=new ot(Ne),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new g_,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Rt(Ne),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Rt(Ne),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new g_),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Gc(){return new ot(ye.comparator)}function y_(){return new ot(ye.comparator)}const JR={asc:"ASCENDING",desc:"DESCENDING"},e2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},t2={and:"AND",or:"OR"};class n2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Um(r,e){return r.useProto3Json||Vh(e)?e:{value:e}}function yh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function i2(r,e){return yh(r,e.toTimestamp())}function mi(r){return Ge(!!r,49232),Se.fromTimestamp(function(n){const s=Yr(n);return new xt(s.seconds,s.nanos)}(r))}function bp(r,e){return zm(r,e).canonicalString()}function zm(r,e){const n=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function MT(r){const e=nt.fromString(r);return Ge(jT(e),10190,{key:e.toString()}),e}function Bm(r,e){return bp(r.databaseId,e.path)}function gm(r,e){const n=MT(e);if(n.get(1)!==r.databaseId.projectId)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(VT(n))}function kT(r,e){return bp(r.databaseId,e)}function r2(r){const e=MT(r);return e.length===4?nt.emptyPath():VT(e)}function qm(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function VT(r){return Ge(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function v_(r,e,n){return{name:Bm(r,e),fields:n.value.mapValue.fields}}function s2(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,T){return g.useProto3Json?(Ge(T===void 0||typeof T=="string",58123),Ht.fromBase64String(T||"")):(Ge(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ht.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const T=g.code===void 0?ne.UNKNOWN:CT(g.code);return new fe(T,g.message||"")}(f);n=new DT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=gm(r,s.document.name),u=mi(s.document.updateTime),f=s.document.createTime?mi(s.document.createTime):Se.min(),m=new on({mapValue:{fields:s.document.fields}}),p=$t.newFoundDocument(o,u,f,m),g=s.targetIds||[],T=s.removedTargetIds||[];n=new th(g,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=gm(r,s.document),u=s.readTime?mi(s.readTime):Se.min(),f=$t.newNoDocument(o,u),m=s.removedTargetIds||[];n=new th([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=gm(r,s.document),u=s.removedTargetIds||[];n=new th([],u,o,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new $R(o,u),m=s.targetId;n=new NT(m,f)}}return n}function a2(r,e){let n;if(e instanceof uu)n={update:v_(r,e.key,e.value)};else if(e instanceof _p)n={delete:Bm(r,e.key)};else if(e instanceof ts)n={update:v_(r,e.key,e.data),updateMask:p2(e.fieldMask)};else{if(!(e instanceof KR))return be(16599,{ft:e.type});n={verify:Bm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof ph)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ro)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof tu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof gh)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw be(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:i2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be(27497)}(r,e.precondition)),n}function o2(r,e){return r&&r.length>0?(Ge(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?mi(o.updateTime):mi(u);return f.isEqual(Se.min())&&(f=mi(u)),new HR(f,o.transformResults||[])}(n,e))):[]}function l2(r,e){return{documents:[kT(r,e.path)]}}function u2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=kT(r,o);const u=function(g){if(g.length!==0)return LT(Kn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(T=>function(A){return{field:Ya(A.field),direction:f2(A.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Um(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function c2(r){let e=r2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=function(w){const A=PT(w);return A instanceof Kn&&fT(A)?A.getFilters():[A]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(A=>function(L){return new mh($a(L.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(w){let A;return A=typeof w=="object"?w.value:w,Vh(A)?null:A}(n.limit));let p=null;n.startAt&&(p=function(w){const A=!!w.before,k=w.values||[];return new dh(k,A)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const A=!w.before,k=w.values||[];return new dh(k,A)}(n.endAt)),CR(e,o,f,u,m,"F",p,g)}function h2(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=$a(n.unaryFilter.field);return Et.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=$a(n.unaryFilter.field);return Et.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=$a(n.unaryFilter.field);return Et.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=$a(n.unaryFilter.field);return Et.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}}(r):r.fieldFilter!==void 0?function(n){return Et.create($a(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(s=>PT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}}(n.compositeFilter.op))}(r):be(30097,{filter:r})}function f2(r){return JR[r]}function d2(r){return e2[r]}function m2(r){return t2[r]}function Ya(r){return{fieldPath:r.canonicalString()}}function $a(r){return qt.fromServerFormat(r.fieldPath)}function LT(r){return r instanceof Et?function(n){if(n.op==="=="){if(s_(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NAN"}};if(r_(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(s_(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NAN"}};if(r_(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(n.field),op:d2(n.op),value:n.value}}}(r):r instanceof Kn?function(n){const s=n.getFilters().map(o=>LT(o));return s.length===1?s[0]:{compositeFilter:{op:m2(n.op),filters:s}}}(r):be(54877,{filter:r})}function p2(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=Ht.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.wt=e}}function y2(r){const e=c2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?jm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this.Cn=new _2}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Qr.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Qr.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class _2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Rt(nt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Rt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UT=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(UT,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new so(0)}static lr(){return new so(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="LruGarbageCollector",E2=1048576;function T_([r,e],[n,s]){const o=Ne(r,n);return o===0?Ne(e,s):o}class T2{constructor(e){this.Er=e,this.buffer=new Rt(T_),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();T_(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class b2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ce(E_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vo(n)?ce(E_,"Ignoring IndexedDB error during garbage collection: ",n):await yo(n)}await this.mr(3e5)})}}class w2{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return te.resolve(kh.le);const s=new T2(n);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(__)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),__):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,o,u,f,m,p,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),Ka()<=Ve.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function A2(r,e){return new w2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(){this.changes=new Zs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Kl(s.mutation,o,_n.empty(),xt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Pe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Pe()){const o=qs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Ul();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=qs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Pe()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=nr();const f=Gl(),m=function(){return Gl()}();return n.forEach((p,g)=>{const T=s.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof ts)?u=u.insert(g.key,g):T!==void 0?(f.set(g.key,T.mutation.getFieldMask()),Kl(T.mutation,g,T.mutation.getFieldMask(),xt.now())):f.set(g.key,_n.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,T)=>f.set(g,T)),n.forEach((g,T)=>{var w;return m.set(g,new x2(T,(w=f.get(g))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Gl();let o=new ot((f,m)=>f-m),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let T=s.get(p)||_n.empty();T=m.applyToLocalView(g,T),s.set(p,T);const w=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,T=p.value,w=TT();T.forEach(A=>{if(!u.has(A)){const k=RT(n.get(A),s.get(A));k!==null&&w.set(A,k),u=u.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return te.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(qs());let m=Wl,p=u;return f.next(g=>te.forEach(g,(T,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(T)?te.resolve():this.remoteDocumentCache.getEntry(e,T).next(A=>{p=p.insert(T,A)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Pe())).next(T=>({batchId:m,changes:ET(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let o=Ul();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ul();return this.indexManager.getCollectionParents(e,u).next(m=>te.forEach(m,p=>{const g=function(w,A){return new lu(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(T=>{T.forEach((w,A)=>{f=f.insert(w,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const T=g.getKey();f.get(T)===null&&(f=f.insert(T,$t.newInvalidDocument(T)))});let m=Ul();return f.forEach((p,g)=>{const T=u.get(p);T!==void 0&&Kl(T.mutation,g,_n.empty(),xt.now()),jh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return te.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:mi(o.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:y2(o.bundledQuery),readTime:mi(o.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this.overlays=new ot(ye.comparator),this.Qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=qs();return te.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.bt(e,n,u)}),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=qs(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ot((g,T)=>g-T);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let T=u.get(g.largestBatchId);T===null&&(T=qs(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=qs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,T)=>m.set(g,T)),!(m.size()>=o)););return te.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new YR(n,s));let u=this.Qr.get(n);u===void 0&&(u=Pe(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(){this.$r=new Rt(Vt.Ur),this.Kr=new Rt(Vt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new Vt(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new Vt(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new ye(new nt([])),s=new Vt(n,e),o=new Vt(n,e+1),u=[];return this.Kr.forEachInRange([s,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ye(new nt([])),s=new Vt(n,e),o=new Vt(n,e+1);let u=Pe();return this.Kr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Vt(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Vt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ye.comparator(e.key,n.key)||Ne(e.Zr,n.Zr)}static Wr(e,n){return Ne(e.Zr,n.Zr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Rt(Vt.Ur)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new QR(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Xr=this.Xr.add(new Vt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?fp:this.nr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Vt(n,0),o=new Vt(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],f=>{const m=this.ei(f.Zr);u.push(m)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Rt(Ne);return n.forEach(o=>{const u=new Vt(o,0),f=new Vt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],m=>{s=s.add(m.Zr)})}),te.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new Vt(new ye(u),0);let m=new Rt(Ne);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Zr)),!0)},f),te.resolve(this.ni(m))}ni(e){const n=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ge(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return te.forEach(n.mutations,o=>{const u=new Vt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new Vt(n,0),o=this.Xr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.ii=e,this.docs=function(){return new ot(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let s=nr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():$t.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=nr();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||oR(aR(T),s)<=0||(o.has(T.key)||jh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be(9500)}si(e,n){return te.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new M2(this)}getSize(e){return te.resolve(this.size)}}class M2 extends S2{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),te.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.persistence=e,this.oi=new Zs(n=>pp(n),gp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this._i=0,this.ai=new wp,this.targetCount=0,this.ui=so.cr()}forEachTarget(e,n){return this.oi.forEach((s,o)=>n(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),te.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new so(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Tr(n),te.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.oi.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n){this.ci={},this.overlays={},this.li=new kh(0),this.hi=!1,this.hi=!0,this.Pi=new N2,this.referenceDelegate=e(this),this.Ti=new k2(this),this.indexManager=new v2,this.remoteDocumentCache=function(o){return new O2(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new g2(n),this.Ei=new I2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new C2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new D2(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new V2(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return te.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class V2 extends uR{constructor(e){super(),this.currentSequenceNumber=e}}class Ap{constructor(e){this.persistence=e,this.Vi=new wp,this.mi=null}static fi(e){return new Ap(e)}get gi(){if(this.mi)return this.mi;throw be(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.gi,s=>{const o=ye.fromPath(s);return this.pi(e,o).next(u=>{u||n.removeEntry(o,Se.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return te.or([()=>te.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class vh{constructor(e,n){this.persistence=e,this.yi=new Zs(s=>fR(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=A2(this,n)}static fi(e,n){return new vh(e,n)}di(){}Ai(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}Sr(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return te.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(u=>u?te.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,f=>this.Dr(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),te.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zc(e.data.value)),n}Dr(e,n,s){return te.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ds=s,this.As=o}static Rs(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Sp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return OS()?8:cR(Xt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ws(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new P2;return this.bs(e,n,f).next(m=>{if(u.result=m,this.fs)return this.Ds(e,n,f,m.size)})}).next(()=>u.result)}Ds(e,n,s,o){return s.documentReadCount<this.gs?(Ka()<=Ve.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),te.resolve()):(Ka()<=Ve.DEBUG&&ce("QueryEngine","Query:",Qa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(Ka()<=Ve.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,di(n))):te.resolve())}ws(e,n){if(u_(n))return te.resolve(null);let s=di(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=jm(n,null,"F"),s=di(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Pe(...u);return this.ys.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.vs(n,m);return this.Cs(n,g,f,p.readTime)?this.ws(e,jm(n,null,"F")):this.Fs(e,g,n,p)}))})))}Ss(e,n,s,o){return u_(n)||o.isEqual(Se.min())?te.resolve(null):this.ys.getDocuments(e,s).next(u=>{const f=this.vs(n,u);return this.Cs(n,f,s,o)?te.resolve(null):(Ka()<=Ve.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qa(n)),this.Fs(e,f,n,sR(o,Wl)).next(m=>m))})}vs(e,n){let s=new Rt(vT(e));return n.forEach((o,u)=>{jh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}bs(e,n,s){return Ka()<=Ve.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.ys.getDocumentsMatchingQuery(e,n,Qr.min(),s)}Fs(e,n,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="LocalStore",j2=3e8;class U2{constructor(e,n,s,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new ot(Ne),this.Os=new Zs(u=>pp(u),gp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new R2(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function z2(r,e,n,s){return new U2(r,e,n,s)}async function BT(r,e){const n=xe(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Pe();for(const g of o){f.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of u){m.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(g=>({ks:g,removedBatchIds:f,addedBatchIds:m}))})})}function B2(r,e){const n=xe(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,T){const w=g.batch,A=w.keys();let k=te.resolve();return A.forEach(L=>{k=k.next(()=>T.getEntry(p,L)).next(Q=>{const z=g.docVersions.get(L);Ge(z!==null,48541),Q.version.compareTo(z)<0&&(w.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),T.addEntry(Q)))})}),k.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Pe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function qT(r){const e=xe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function q2(r,e){const n=xe(r),s=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];e.targetChanges.forEach((T,w)=>{const A=o.get(w);if(!A)return;m.push(n.Ti.removeMatchingKeys(u,T.removedDocuments,w).next(()=>n.Ti.addMatchingKeys(u,T.addedDocuments,w)));let k=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?k=k.withResumeToken(Ht.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):T.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(T.resumeToken,s)),o=o.insert(w,k),function(Q,z,$){return Q.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=j2?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(A,k,T)&&m.push(n.Ti.updateTargetData(u,k))});let p=nr(),g=Pe();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(H2(u,f,e.documentUpdates).next(T=>{p=T.qs,g=T.Qs})),!s.isEqual(Se.min())){const T=n.Ti.getLastRemoteSnapshotVersion(u).next(w=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return te.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.xs=o,u))}function H2(r,e,n){let s=Pe(),o=Pe();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=nr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ce(xp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{qs:f,Qs:o}})}function F2(r,e){const n=xe(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=fp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function G2(r,e){const n=xe(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):n.Ti.allocateTargetId(s).next(f=>(o=new zr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function Hm(r,e,n){const s=xe(r),o=s.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!vo(f))throw f;ce(xp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function b_(r,e,n){const s=xe(r);let o=Se.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,T){const w=xe(p),A=w.Os.get(T);return A!==void 0?te.resolve(w.xs.get(A)):w.Ti.getTargetData(g,T)}(s,f,di(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:Pe())).next(m=>(K2(s,DR(e),m),{documents:m,$s:u})))}function K2(r,e,n){let s=r.Ns.get(e)||Se.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Ns.set(e,s)}class w_{constructor(){this.activeTargetIds=LR()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Q2{constructor(){this.xo=new w_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new w_,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="ConnectivityMonitor";class S_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ce(A_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ce(A_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc=null;function Fm(){return Kc===null?Kc=function(){return 268435456+Math.round(2147483648*Math.random())}():Kc++,"0x"+Kc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="RestConnection",$2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class X2{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===hh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,n,s,o,u){const f=Fm(),m=this.jo(e,n.toUriEncodedString());ce(ym,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:g}=new URL(m),T=mo(g);return this.Jo(e,m,p,s,T).then(w=>(ce(ym,`Received RPC '${e}' ${f}: `,w),w),w=>{throw eo(ym,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",s),w})}Yo(e,n,s,o,u,f){return this.zo(e,n,s,o,u)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+go}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const s=$2[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class Z2 extends X2{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Fm();return new Promise((m,p)=>{const g=new GE;g.setWithCredentials(!0),g.listenOnce(KE.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Wc.NO_ERROR:const w=g.getResponseJson();ce(Qt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case Wc.TIMEOUT:ce(Qt,`RPC '${e}' ${f} timed out`),p(new fe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const A=g.getStatus();if(ce(Qt,`RPC '${e}' ${f} failed with status:`,A,"response text:",g.getResponseText()),A>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const L=k==null?void 0:k.error;if(L&&L.status&&L.message){const Q=function($){const se=$.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(se)>=0?se:ne.UNKNOWN}(L.status);p(new fe(Q,L.message))}else p(new fe(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new fe(ne.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ce(Qt,`RPC '${e}' ${f} completed.`)}});const T=JSON.stringify(o);ce(Qt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",T,s,15)})}T_(e,n,s){const o=Fm(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=$E(),m=YE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");ce(Qt,`Creating RPC '${e}' stream ${o}: ${T}`,p);const w=f.createWebChannel(T,p);let A=!1,k=!1;const L=new W2({Zo:z=>{k?ce(Qt,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(A||(ce(Qt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),ce(Qt,`RPC '${e}' stream ${o} sending:`,z),w.send(z))},Xo:()=>w.close()}),Q=(z,$,se)=>{z.listen($,W=>{try{se(W)}catch(ie){setTimeout(()=>{throw ie},0)}})};return Q(w,jl.EventType.OPEN,()=>{k||(ce(Qt,`RPC '${e}' stream ${o} transport opened.`),L.__())}),Q(w,jl.EventType.CLOSE,()=>{k||(k=!0,ce(Qt,`RPC '${e}' stream ${o} transport closed`),L.u_())}),Q(w,jl.EventType.ERROR,z=>{k||(k=!0,eo(Qt,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),L.u_(new fe(ne.UNAVAILABLE,"The operation could not be completed")))}),Q(w,jl.EventType.MESSAGE,z=>{var $;if(!k){const se=z.data[0];Ge(!!se,16349);const W=se,ie=(W==null?void 0:W.error)||(($=W[0])===null||$===void 0?void 0:$.error);if(ie){ce(Qt,`RPC '${e}' stream ${o} received error:`,ie);const ae=ie.status;let he=function(I){const O=_t[I];if(O!==void 0)return CT(O)}(ae),D=ie.message;he===void 0&&(he=ne.INTERNAL,D="Unknown error status: "+ae+" with message "+ie.message),k=!0,L.u_(new fe(he,D)),w.close()}else ce(Qt,`RPC '${e}' stream ${o} received:`,se),L.c_(se)}}),Q(m,QE.STAT_EVENT,z=>{z.stat===Dm.PROXY?ce(Qt,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===Dm.NOPROXY&&ce(Qt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.a_()},0),L}}function vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(r){return new n2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.I_=s,this.E_=o,this.d_=u,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="PersistentStream";class FT{constructor(e,n,s,o,u,f,m,p){this.xi=e,this.y_=s,this.w_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new HT(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(tr(n.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.S_===n&&this.K_(s,o)},s=>{e(()=>{const o=new fe(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(o)})})}K_(e,n){const s=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.W_(o))}),this.stream.onMessage(o=>{s(()=>++this.v_==1?this.z_(o):this.onNext(o))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return ce(x_,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(ce(x_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class J2 extends FT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=s2(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?mi(f.readTime):Se.min()}(e);return this.listener.j_(n,s)}H_(e){const n={};n.database=qm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Pm(p)?{documents:l2(u,p)}:{query:u2(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=OT(u,f.resumeToken);const g=Um(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=yh(u,f.snapshotVersion.toTimestamp());const g=Um(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=h2(this.serializer,e);s&&(n.labels=s),this.L_(n)}J_(e){const n={};n.database=qm(this.serializer),n.removeTarget=e,this.L_(n)}}class eI extends FT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=o2(e.writeResults,e.commitTime),s=mi(e.commitTime);return this.listener.ea(s,n)}ta(){const e={};e.database=qm(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>a2(this.serializer,s))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{}class nI extends tI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.na=!1}ra(){if(this.na)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(e,zm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ne.UNKNOWN,u.toString())})}Yo(e,n,s,o,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Yo(e,zm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(ne.UNKNOWN,f.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class iI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(tr(n),this.oa=!1):ce("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="RemoteStore";class rI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=u,this.Ea.No(f=>{s.enqueueAndForget(async()=>{Js(this)&&(ce(Ys,"Restarting streams for network reachability change."),await async function(p){const g=xe(p);g.Ta.add(4),await hu(g),g.da.set("Unknown"),g.Ta.delete(4),await Hh(g)}(this))})}),this.da=new iI(s,o)}}async function Hh(r){if(Js(r))for(const e of r.Ia)await e(!0)}async function hu(r){for(const e of r.Ia)await e(!1)}function GT(r,e){const n=xe(r);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),Np(n)?Cp(n):_o(n).M_()&&Ip(n,e))}function Rp(r,e){const n=xe(r),s=_o(n);n.Pa.delete(e),s.M_()&&KT(n,e),n.Pa.size===0&&(s.M_()?s.N_():Js(n)&&n.da.set("Unknown"))}function Ip(r,e){if(r.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_o(r).H_(e)}function KT(r,e){r.Aa.Ke(e),_o(r).J_(e)}function Cp(r){r.Aa=new ZR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Pa.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),_o(r).start(),r.da._a()}function Np(r){return Js(r)&&!_o(r).F_()&&r.Pa.size>0}function Js(r){return xe(r).Ta.size===0}function QT(r){r.Aa=void 0}async function sI(r){r.da.set("Online")}async function aI(r){r.Pa.forEach((e,n)=>{Ip(r,e)})}async function oI(r,e){QT(r),Np(r)?(r.da.ca(e),Cp(r)):r.da.set("Unknown")}async function lI(r,e,n){if(r.da.set("Online"),e instanceof DT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Pa.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Pa.delete(m),o.Aa.removeTarget(m))}(r,e)}catch(s){ce(Ys,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await _h(r,s)}else if(e instanceof th?r.Aa.Xe(e):e instanceof NT?r.Aa.ot(e):r.Aa.nt(e),!n.isEqual(Se.min()))try{const s=await qT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Aa.It(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Pa.get(g);T&&u.Pa.set(g,T.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const T=u.Pa.get(p);if(!T)return;u.Pa.set(p,T.withResumeToken(Ht.EMPTY_BYTE_STRING,T.snapshotVersion)),KT(u,p);const w=new zr(T.target,p,g,T.sequenceNumber);Ip(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ce(Ys,"Failed to raise snapshot:",s),await _h(r,s)}}async function _h(r,e,n){if(!vo(e))throw e;r.Ta.add(1),await hu(r),r.da.set("Offline"),n||(n=()=>qT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ce(Ys,"Retrying IndexedDB access"),await n(),r.Ta.delete(1),await Hh(r)})}function YT(r,e){return e().catch(n=>_h(r,n,e))}async function Fh(r){const e=xe(r),n=Wr(e);let s=e.ha.length>0?e.ha[e.ha.length-1].batchId:fp;for(;uI(e);)try{const o=await F2(e.localStore,s);if(o===null){e.ha.length===0&&n.N_();break}s=o.batchId,cI(e,o)}catch(o){await _h(e,o)}$T(e)&&XT(e)}function uI(r){return Js(r)&&r.ha.length<10}function cI(r,e){r.ha.push(e);const n=Wr(r);n.M_()&&n.Y_&&n.Z_(e.mutations)}function $T(r){return Js(r)&&!Wr(r).F_()&&r.ha.length>0}function XT(r){Wr(r).start()}async function hI(r){Wr(r).ta()}async function fI(r){const e=Wr(r);for(const n of r.ha)e.Z_(n.mutations)}async function dI(r,e,n){const s=r.ha.shift(),o=Ep.from(s,e,n);await YT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Fh(r)}async function mI(r,e){e&&Wr(r).Y_&&await async function(s,o){if(function(f){return XR(f)&&f!==ne.ABORTED}(o.code)){const u=s.ha.shift();Wr(s).O_(),await YT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Fh(s)}}(r,e),$T(r)&&XT(r)}async function R_(r,e){const n=xe(r);n.asyncQueue.verifyOperationInProgress(),ce(Ys,"RemoteStore received new credentials");const s=Js(n);n.Ta.add(3),await hu(n),s&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await Hh(n)}async function pI(r,e){const n=xe(r);e?(n.Ta.delete(2),await Hh(n)):e||(n.Ta.add(2),await hu(n),n.da.set("Unknown"))}function _o(r){return r.Ra||(r.Ra=function(n,s,o){const u=xe(n);return u.ra(),new J2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:sI.bind(null,r),n_:aI.bind(null,r),i_:oI.bind(null,r),j_:lI.bind(null,r)}),r.Ia.push(async e=>{e?(r.Ra.O_(),Np(r)?Cp(r):r.da.set("Unknown")):(await r.Ra.stop(),QT(r))})),r.Ra}function Wr(r){return r.Va||(r.Va=function(n,s,o){const u=xe(n);return u.ra(),new eI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:hI.bind(null,r),i_:mI.bind(null,r),X_:fI.bind(null,r),ea:dI.bind(null,r)}),r.Ia.push(async e=>{e?(r.Va.O_(),await Fh(r)):(await r.Va.stop(),r.ha.length>0&&(ce(Ys,`Stopping write stream with ${r.ha.length} pending writes`),r.ha=[]))})),r.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Dp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Op(r,e){if(tr("AsyncQueue",`${e}: ${r}`),vo(r))return new fe(ne.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{static emptySet(e){return new Xa(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Ul(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Xa;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(){this.ma=new ot(ye.comparator)}track(e){const n=e.doc.key,s=this.ma.get(n);s?e.type!==0&&s.type===3?this.ma=this.ma.insert(n,e):e.type===3&&s.type!==1?this.ma=this.ma.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ma=this.ma.remove(n):e.type===1&&s.type===2?this.ma=this.ma.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):be(63341,{Vt:e,fa:s}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,s)=>{e.push(s)}),e}}class ao{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new ao(e,n,Xa.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class yI{constructor(){this.queries=C_(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,s){const o=xe(n),u=o.queries;o.queries=C_(),u.forEach((f,m)=>{for(const p of m.ya)p.onError(s)})})(this,new fe(ne.ABORTED,"Firestore shutting down"))}}function C_(){return new Zs(r=>yT(r),Lh)}async function WT(r,e){const n=xe(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.wa()&&e.Sa()&&(s=2):(u=new gI,s=e.Sa()?0:1);try{switch(s){case 0:u.pa=await n.onListen(o,!0);break;case 1:u.pa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Op(f,`Initialization of query '${Qa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ya.push(e),e.Da(n.onlineState),u.pa&&e.va(u.pa)&&Mp(n)}async function ZT(r,e){const n=xe(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ya.indexOf(e);f>=0&&(u.ya.splice(f,1),u.ya.length===0?o=e.Sa()?0:1:!u.wa()&&e.Sa()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function vI(r,e){const n=xe(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ya)m.va(o)&&(s=!0);f.pa=o}}s&&Mp(n)}function _I(r,e,n){const s=xe(r),o=s.queries.get(e);if(o)for(const u of o.ya)u.onError(n);s.queries.delete(e)}function Mp(r){r.ba.forEach(e=>{e.next()})}var Gm,N_;(N_=Gm||(Gm={})).Ca="default",N_.Cache="cache";class JT{constructor(e,n,s){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const s=n!=="Offline";return(!this.options.La||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Gm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e){this.key=e}}class tb{constructor(e){this.key=e}}class EI{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Pe(),this.mutatedKeys=Pe(),this.Ha=vT(e),this.Ja=new Xa(this.Ha)}get Ya(){return this.Ga}Za(e,n){const s=n?n.Xa:new I_,o=n?n.Ja:this.Ja;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,w)=>{const A=o.get(T),k=jh(this.query,w)?w:null,L=!!A&&this.mutatedKeys.has(A.key),Q=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let z=!1;A&&k?A.data.isEqual(k.data)?L!==Q&&(s.track({type:3,doc:k}),z=!0):this.eu(A,k)||(s.track({type:2,doc:k}),z=!0,(p&&this.Ha(k,p)>0||g&&this.Ha(k,g)<0)&&(m=!0)):!A&&k?(s.track({type:0,doc:k}),z=!0):A&&!k&&(s.track({type:1,doc:A}),z=!0,(p||g)&&(m=!0)),z&&(k?(f=f.add(k),u=Q?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{Ja:f,Xa:s,Cs:m,mutatedKeys:u}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const f=e.Xa.ga();f.sort((T,w)=>function(k,L){const Q=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:z})}};return Q(k)-Q(L)}(T.type,w.type)||this.Ha(T.doc,w.doc)),this.tu(s),o=o!=null&&o;const m=n&&!o?this.nu():[],p=this.ja.size===0&&this.current&&!o?1:0,g=p!==this.za;return this.za=p,f.length!==0||g?{snapshot:new ao(this.query,e.Ja,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:m}:{ru:m}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new I_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Pe(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const n=[];return e.forEach(s=>{this.ja.has(s)||n.push(new tb(s))}),this.ja.forEach(s=>{e.has(s)||n.push(new eb(s))}),n}su(e){this.Ga=e.$s,this.ja=Pe();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return ao.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const kp="SyncEngine";class TI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class bI{constructor(e){this.key=e,this._u=!1}}class wI{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.au={},this.uu=new Zs(m=>yT(m),Lh),this.cu=new Map,this.lu=new Set,this.hu=new ot(ye.comparator),this.Pu=new Map,this.Tu=new wp,this.Iu={},this.Eu=new Map,this.du=so.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function AI(r,e,n=!0){const s=ob(r);let o;const u=s.uu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.ou()):o=await nb(s,e,n,!0),o}async function SI(r,e){const n=ob(r);await nb(n,e,!0,!1)}async function nb(r,e,n,s){const o=await G2(r.localStore,di(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await xI(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&GT(r.remoteStore,o),m}async function xI(r,e,n,s,o){r.Ru=(w,A,k)=>async function(Q,z,$,se){let W=z.view.Za($);W.Cs&&(W=await b_(Q.localStore,z.query,!1).then(({documents:D})=>z.view.Za(D,W)));const ie=se&&se.targetChanges.get(z.targetId),ae=se&&se.targetMismatches.get(z.targetId)!=null,he=z.view.applyChanges(W,Q.isPrimaryClient,ie,ae);return O_(Q,z.targetId,he.ru),he.snapshot}(r,w,A,k);const u=await b_(r.localStore,e,!0),f=new EI(e,u.$s),m=f.Za(u.documents),p=cu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);O_(r,n,g.ru);const T=new TI(e,n,f);return r.uu.set(e,T),r.cu.has(n)?r.cu.get(n).push(e):r.cu.set(n,[e]),g.snapshot}async function RI(r,e,n){const s=xe(r),o=s.uu.get(e),u=s.cu.get(o.targetId);if(u.length>1)return s.cu.set(o.targetId,u.filter(f=>!Lh(f,e))),void s.uu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Hm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Rp(s.remoteStore,o.targetId),Km(s,o.targetId)}).catch(yo)):(Km(s,o.targetId),await Hm(s.localStore,o.targetId,!0))}async function II(r,e){const n=xe(r),s=n.uu.get(e),o=n.cu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Rp(n.remoteStore,s.targetId))}async function CI(r,e,n){const s=PI(r);try{const o=await function(f,m){const p=xe(f),g=xt.now(),T=m.reduce((k,L)=>k.add(L.key),Pe());let w,A;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let L=nr(),Q=Pe();return p.Bs.getEntries(k,T).next(z=>{L=z,L.forEach(($,se)=>{se.isValidDocument()||(Q=Q.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,L)).next(z=>{w=z;const $=[];for(const se of m){const W=GR(se,w.get(se.key).overlayedDocument);W!=null&&$.push(new ts(se.key,W,uT(W.value.mapValue),Hn.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,$,m)}).next(z=>{A=z;const $=z.applyToLocalDocumentSet(w,Q);return p.documentOverlayCache.saveOverlays(k,z.batchId,$)})}).then(()=>({batchId:A.batchId,changes:ET(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Iu[f.currentUser.toKey()];g||(g=new ot(Ne)),g=g.insert(m,p),f.Iu[f.currentUser.toKey()]=g}(s,o.batchId,n),await fu(s,o.changes),await Fh(s.remoteStore)}catch(o){const u=Op(o,"Failed to persist write");n.reject(u)}}async function ib(r,e){const n=xe(r);try{const s=await q2(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Pu.get(u);f&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f._u=!0:o.modifiedDocuments.size>0?Ge(f._u,14607):o.removedDocuments.size>0&&(Ge(f._u,42227),f._u=!1))}),await fu(n,s,e)}catch(s){await yo(s)}}function D_(r,e,n){const s=xe(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.uu.forEach((u,f)=>{const m=f.view.Da(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=xe(f);p.onlineState=m;let g=!1;p.queries.forEach((T,w)=>{for(const A of w.ya)A.Da(m)&&(g=!0)}),g&&Mp(p)}(s.eventManager,e),o.length&&s.au.j_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function NI(r,e,n){const s=xe(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Pu.get(e),u=o&&o.key;if(u){let f=new ot(ye.comparator);f=f.insert(u,$t.newNoDocument(u,Se.min()));const m=Pe().add(u),p=new Bh(Se.min(),new Map,new ot(Ne),f,m);await ib(s,p),s.hu=s.hu.remove(u),s.Pu.delete(e),Vp(s)}else await Hm(s.localStore,e,!1).then(()=>Km(s,e,n)).catch(yo)}async function DI(r,e){const n=xe(r),s=e.batch.batchId;try{const o=await B2(n.localStore,e);sb(n,s,null),rb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await fu(n,o)}catch(o){await yo(o)}}async function OI(r,e,n){const s=xe(r);try{const o=await function(f,m){const p=xe(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let T;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>(Ge(w!==null,37113),T=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T)).next(()=>p.localDocuments.getDocuments(g,T))})}(s.localStore,e);sb(s,e,n),rb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await fu(s,o)}catch(o){await yo(o)}}function rb(r,e){(r.Eu.get(e)||[]).forEach(n=>{n.resolve()}),r.Eu.delete(e)}function sb(r,e,n){const s=xe(r);let o=s.Iu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Iu[s.currentUser.toKey()]=o}}function Km(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.cu.get(e))r.uu.delete(s),n&&r.au.Vu(s,n);r.cu.delete(e),r.isPrimaryClient&&r.Tu.Hr(e).forEach(s=>{r.Tu.containsKey(s)||ab(r,s)})}function ab(r,e){r.lu.delete(e.path.canonicalString());const n=r.hu.get(e);n!==null&&(Rp(r.remoteStore,n),r.hu=r.hu.remove(e),r.Pu.delete(n),Vp(r))}function O_(r,e,n){for(const s of n)s instanceof eb?(r.Tu.addReference(s.key,e),MI(r,s)):s instanceof tb?(ce(kp,"Document no longer in limbo: "+s.key),r.Tu.removeReference(s.key,e),r.Tu.containsKey(s.key)||ab(r,s.key)):be(19791,{mu:s})}function MI(r,e){const n=e.key,s=n.path.canonicalString();r.hu.get(n)||r.lu.has(s)||(ce(kp,"New document in limbo: "+n),r.lu.add(s),Vp(r))}function Vp(r){for(;r.lu.size>0&&r.hu.size<r.maxConcurrentLimboResolutions;){const e=r.lu.values().next().value;r.lu.delete(e);const n=new ye(nt.fromString(e)),s=r.du.next();r.Pu.set(s,new bI(n)),r.hu=r.hu.insert(n,s),GT(r.remoteStore,new zr(di(yp(n.path)),s,"TargetPurposeLimboResolution",kh.le))}}async function fu(r,e,n){const s=xe(r),o=[],u=[],f=[];s.uu.isEmpty()||(s.uu.forEach((m,p)=>{f.push(s.Ru(p,e,n).then(g=>{var T;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Sp.Rs(p.targetId,g);u.push(w)}}))}),await Promise.all(f),s.au.j_(o),await async function(p,g){const T=xe(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>te.forEach(g,A=>te.forEach(A.ds,k=>T.persistence.referenceDelegate.addReference(w,A.targetId,k)).next(()=>te.forEach(A.As,k=>T.persistence.referenceDelegate.removeReference(w,A.targetId,k)))))}catch(w){if(!vo(w))throw w;ce(xp,"Failed to update sequence numbers: "+w)}for(const w of g){const A=w.targetId;if(!w.fromCache){const k=T.xs.get(A),L=k.snapshotVersion,Q=k.withLastLimboFreeSnapshotVersion(L);T.xs=T.xs.insert(A,Q)}}}(s.localStore,u))}async function kI(r,e){const n=xe(r);if(!n.currentUser.isEqual(e)){ce(kp,"User change. New user:",e.toKey());const s=await BT(n.localStore,e);n.currentUser=e,function(u,f){u.Eu.forEach(m=>{m.forEach(p=>{p.reject(new fe(ne.CANCELLED,f))})}),u.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await fu(n,s.ks)}}function VI(r,e){const n=xe(r),s=n.Pu.get(e);if(s&&s._u)return Pe().add(s.key);{let o=Pe();const u=n.cu.get(e);if(!u)return o;for(const f of u){const m=n.uu.get(f);o=o.unionWith(m.view.Ya)}return o}}function ob(r){const e=xe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ib.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NI.bind(null,e),e.au.j_=vI.bind(null,e.eventManager),e.au.Vu=_I.bind(null,e.eventManager),e}function PI(r){const e=xe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OI.bind(null,e),e}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qh(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return z2(this.persistence,new L2,e.initialUser,this.serializer)}yu(e){return new zT(Ap.fi,this.serializer)}pu(e){return new Q2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class LI extends Eh{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){Ge(this.persistence.referenceDelegate instanceof vh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new b2(s,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new zT(s=>vh.fi(s,n),this.serializer)}}class Qm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>D_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=kI.bind(null,this.syncEngine),await pI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yI}()}createDatastore(e){const n=qh(e.databaseInfo.databaseId),s=function(u){return new Z2(u)}(e.databaseInfo);return function(u,f,m,p){return new nI(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new rI(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>D_(this.syncEngine,n,0),function(){return S_.C()?new S_:new Y2}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,T){const w=new wI(o,u,f,m,p,g);return T&&(w.Au=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=xe(o);ce(Ys,"RemoteStore shutting down."),u.Ta.add(5),await hu(u),u.Ea.shutdown(),u.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Qm.provider={build:()=>new Qm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="FirestoreClient";class jI{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Yt.UNAUTHENTICATED,this.clientId=JE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ce(Zr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ce(Zr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Op(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function _m(r,e){r.asyncQueue.verifyOperationInProgress(),ce(Zr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await BT(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function M_(r,e){r.asyncQueue.verifyOperationInProgress();const n=await UI(r);ce(Zr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>R_(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>R_(e.remoteStore,o)),r._onlineComponents=e}async function UI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(Zr,"Using user provided OfflineComponentProvider");try{await _m(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;eo("Error using user provided cache. Falling back to memory cache: "+n),await _m(r,new Eh)}}else ce(Zr,"Using default OfflineComponentProvider"),await _m(r,new LI(void 0));return r._offlineComponents}async function ub(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(Zr,"Using user provided OnlineComponentProvider"),await M_(r,r._uninitializedComponentsProvider._online)):(ce(Zr,"Using default OnlineComponentProvider"),await M_(r,new Qm))),r._onlineComponents}function zI(r){return ub(r).then(e=>e.syncEngine)}async function cb(r){const e=await ub(r),n=e.eventManager;return n.onListen=AI.bind(null,e.syncEngine),n.onUnlisten=RI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=II.bind(null,e.syncEngine),n}function BI(r,e,n={}){const s=new Wi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const T=new lb({next:A=>{T.Cu(),f.enqueueAndForget(()=>ZT(u,w));const k=A.docs.has(m);!k&&A.fromCache?g.reject(new fe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&A.fromCache&&p&&p.source==="server"?g.reject(new fe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),w=new JT(yp(m.path),T,{includeMetadataChanges:!0,La:!0});return WT(u,w)}(await cb(r),r.asyncQueue,e,n,s)),s.promise}function qI(r,e,n={}){const s=new Wi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const T=new lb({next:A=>{T.Cu(),f.enqueueAndForget(()=>ZT(u,w)),A.fromCache&&p.source==="server"?g.reject(new fe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),w=new JT(m,T,{includeMetadataChanges:!0,La:!0});return WT(u,w)}(await cb(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(r,e,n){if(!n)throw new fe(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function HI(r,e,n,s){if(e===!0&&s===!0)throw new fe(ne.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function V_(r){if(!ye.isDocumentKey(r))throw new fe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function P_(r){if(ye.isDocumentKey(r))throw new fe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Gh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":be(12329,{type:typeof r})}function ir(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new fe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gh(r);throw new fe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="firestore.googleapis.com",L_=!0;class j_{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=db,this.ssl=L_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:L_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=UT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<E2)throw new fe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Xx;switch(s.type){case"firstParty":return new eR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,po("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=k_.get(n);s&&(ce("ComponentProvider","Removing Datastore"),k_.delete(n),s.terminate())}(this),Promise.resolve()}}function FI(r,e,n,s={}){var o;r=ir(r,Kh);const u=mo(e),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;f.host!==db&&f.host!==p&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!Gr(g,m)&&(r._setSettings(g),u&&(op(`https://${p}`),po("Firestore",!0)),s.mockUserToken)){let T,w;if(typeof s.mockUserToken=="string")T=s.mockUserToken,w=Yt.MOCK_USER;else{T=jE(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new fe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Yt(A)}r._authCredentials=new Wx(new WE(T,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Eo(this.firestore,e,this._query)}}class ln{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}}class Fr extends Eo{constructor(e,n,s){super(e,n,yp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new ye(e))}withConverter(e){return new Fr(this.firestore,e,this._path)}}function Hs(r,e,...n){if(r=It(r),fb("collection","path",e),r instanceof Kh){const s=nt.fromString(e,...n);return P_(s),new Fr(r,null,s)}{if(!(r instanceof ln||r instanceof Fr))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return P_(s),new Fr(r.firestore,null,s)}}function Fs(r,e,...n){if(r=It(r),arguments.length===1&&(e=JE.newId()),fb("doc","path",e),r instanceof Kh){const s=nt.fromString(e,...n);return V_(s),new ln(r,null,new ye(s))}{if(!(r instanceof ln||r instanceof Fr))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return V_(s),new ln(r.firestore,r instanceof Fr?r.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="AsyncQueue";class z_{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new HT(this,"async_queue_retry"),this.ec=()=>{const s=vm();s&&ce(U_,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=e;const n=vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new Wi;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!vo(e))throw e;ce(U_,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(s=>{throw this.Ju=s,this.Yu=!1,tr("INTERNAL UNHANDLED ERROR: ",B_(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=n,n}enqueueAfterDelay(e,n,s){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const o=Dp.createAndSchedule(this,e,n,s,u=>this.oc(u));return this.Hu.push(o),o}nc(){this.Ju&&be(47125,{_c:B_(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function B_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class To extends Kh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new z_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z_(e),this._firestoreClient=void 0,await e}}}function GI(r,e){const n=typeof r=="object"?r:cp(),s=typeof r=="string"?r:hh,o=Mh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=VE("firestore");u&&FI(o,...u)}return o}function Pp(r){if(r._terminated)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||KI(r),r._firestoreClient}function KI(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,g,T){return new pR(m,p,g,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,hb(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new jI(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oo(Ht.fromBase64String(e))}catch(n){throw new fe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oo(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=/^__.*__$/;class YI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ts(e,this.data,this.fieldMask,n,this.fieldTransforms):new uu(e,this.data,n,this.fieldTransforms)}}class mb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ts(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function pb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{hc:r})}}class $h{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Pc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new $h(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Tc({path:s,Ec:!1});return o.dc(e),o}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Tc({path:s,Ec:!1});return o.Pc(),o}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Th(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(pb(this.hc)&&QI.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class $I{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||qh(e)}gc(e,n,s,o=!1){return new $h({hc:e,methodName:n,fc:s,path:qt.emptyPath(),Ec:!1,mc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Up(r){const e=r._freezeSettings(),n=qh(r._databaseId);return new $I(r._databaseId,!!e.ignoreUndefinedProperties,n)}function XI(r,e,n,s,o,u={}){const f=r.gc(u.merge||u.mergeFields?2:0,e,n,o);Bp("Data must be an object, but it was:",f,s);const m=gb(s,f);let p,g;if(u.merge)p=new _n(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const w of u.mergeFields){const A=Ym(e,w,n);if(!f.contains(A))throw new fe(ne.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);vb(T,A)||T.push(A)}p=new _n(T),g=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=f.fieldTransforms;return new YI(new on(m),p,g)}class Xh extends Yh{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xh}}function WI(r,e,n){return new $h({hc:3,fc:e.settings.fc,methodName:r._methodName,Ec:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class zp extends Yh{constructor(e,n){super(e),this.yc=n}_toFieldTransform(e){const n=WI(this,e,!0),s=this.yc.map(u=>bo(u,n)),o=new ro(s);return new BR(e.path,o)}isEqual(e){return e instanceof zp&&Gr(this.yc,e.yc)}}function ZI(r,e,n,s){const o=r.gc(1,e,n);Bp("Data must be an object, but it was:",o,s);const u=[],f=on.empty();es(s,(p,g)=>{const T=qp(e,p,n);g=It(g);const w=o.Ac(T);if(g instanceof Xh)u.push(T);else{const A=bo(g,w);A!=null&&(u.push(T),f.set(T,A))}});const m=new _n(u);return new mb(f,m,o.fieldTransforms)}function JI(r,e,n,s,o,u){const f=r.gc(1,e,n),m=[Ym(e,s,n)],p=[o];if(u.length%2!=0)throw new fe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(Ym(e,u[A])),p.push(u[A+1]);const g=[],T=on.empty();for(let A=m.length-1;A>=0;--A)if(!vb(g,m[A])){const k=m[A];let L=p[A];L=It(L);const Q=f.Ac(k);if(L instanceof Xh)g.push(k);else{const z=bo(L,Q);z!=null&&(g.push(k),T.set(k,z))}}const w=new _n(g);return new mb(T,w,f.fieldTransforms)}function eC(r,e,n,s=!1){return bo(n,r.gc(s?4:3,e))}function bo(r,e){if(yb(r=It(r)))return Bp("Unsupported field value:",e,r),gb(r,e);if(r instanceof Yh)return function(s,o){if(!pb(o.hc))throw o.Vc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Vc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=bo(m,o.Rc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=It(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return jR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=xt.fromDate(s);return{timestampValue:yh(o.serializer,u)}}if(s instanceof xt){const u=new xt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:yh(o.serializer,u)}}if(s instanceof Lp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof oo)return{bytesValue:OT(o.serializer,s._byteString)};if(s instanceof ln){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Vc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:bp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof jp)return function(f,m){return{mapValue:{fields:{[oT]:{stringValue:lT},[fh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Vc("VectorValues must only contain numeric values.");return vp(m.serializer,g)})}}}}}}(s,o);throw o.Vc(`Unsupported field value: ${Gh(s)}`)}(r,e)}function gb(r,e){const n={};return tT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):es(r,(s,o)=>{const u=bo(o,e.Ic(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function yb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof xt||r instanceof Lp||r instanceof oo||r instanceof ln||r instanceof Yh||r instanceof jp)}function Bp(r,e,n){if(!yb(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Gh(n);throw s==="an object"?e.Vc(r+" a custom object"):e.Vc(r+" "+s)}}function Ym(r,e,n){if((e=It(e))instanceof Qh)return e._internalPath;if(typeof e=="string")return qp(r,e);throw Th("Field path arguments must be of type string or ",r,!1,void 0,n)}const tC=new RegExp("[~\\*/\\[\\]]");function qp(r,e,n){if(e.search(tC)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Qh(...e.split("."))._internalPath}catch{throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Th(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new fe(ne.INVALID_ARGUMENT,m+r+p)}function vb(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nC extends _b{data(){return super.data()}}function Hp(r,e){return typeof e=="string"?qp(r,e):e instanceof Qh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new fe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fp{}class rC extends Fp{}function sC(r,e,...n){let s=[];e instanceof Fp&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof Gp).length,m=u.filter(p=>p instanceof Wh).length;if(f>1||f>0&&m>0)throw new fe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Wh extends rC{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Wh(e,n,s)}_apply(e){const n=this._parse(e);return Eb(e._query,n),new Eo(e.firestore,e.converter,Lm(e._query,n))}_parse(e){const n=Up(e.firestore);return function(u,f,m,p,g,T,w){let A;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){H_(w,T);const L=[];for(const Q of w)L.push(q_(p,u,Q));A={arrayValue:{values:L}}}else A=q_(p,u,w)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||H_(w,T),A=eC(m,f,w,T==="in"||T==="not-in");return Et.create(g,T,A)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function aC(r,e,n){const s=e,o=Hp("where",r);return Wh._create(o,s,n)}class Gp extends Fp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Gp(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Eb(f,p),f=Lm(f,p)}(e._query,n),new Eo(e.firestore,e.converter,Lm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function q_(r,e,n){if(typeof(n=It(n))=="string"){if(n==="")throw new fe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gT(e)&&n.indexOf("/")!==-1)throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(nt.fromString(n));if(!ye.isDocumentKey(s))throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return i_(r,new ye(s))}if(n instanceof ln)return i_(r,n._key);throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gh(n)}.`)}function H_(r,e){if(!Array.isArray(r)||r.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Eb(r,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class oC{convertValue(e,n="none"){switch(Xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return es(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[fh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>mt(f.doubleValue));return new jp(u)}convertGeoPoint(e){return new Lp(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ph(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const n=Yr(e);return new xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Ge(jT(s),9688,{name:e});const o=new Jl(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||tr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tb extends _b{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Hp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class nh extends Tb{data(e={}){return super.data(e)}}class uC{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Bl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new nh(this._firestore,this._userDataWriter,s.key,s,new Bl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:cC(m.type),doc:p,oldIndex:g,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function cC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(r){r=ir(r,ln);const e=ir(r.firestore,To);return BI(Pp(e),r._key).then(n=>hC(e,r,n))}class bb extends oC{constructor(e){super(),this.firestore=e}convertBytes(e){return new oo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function Ql(r){r=ir(r,Eo);const e=ir(r.firestore,To),n=Pp(e),s=new bb(e);return iC(r._query),qI(n,r._query).then(o=>new uC(e,s,r,o))}function G_(r,e,n,...s){r=ir(r,ln);const o=ir(r.firestore,To),u=Up(o);let f;return f=typeof(e=It(e))=="string"||e instanceof Qh?JI(u,"updateDoc",r._key,e,n,s):ZI(u,"updateDoc",r._key,e),Yp(o,[f.toMutation(r._key,Hn.exists(!0))])}function Kp(r){return Yp(ir(r.firestore,To),[new _p(r._key,Hn.none())])}function Qp(r,e){const n=ir(r.firestore,To),s=Fs(r),o=lC(r.converter,e);return Yp(n,[XI(Up(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Hn.exists(!1))]).then(()=>s)}function Yp(r,e){return function(s,o){const u=new Wi;return s.asyncQueue.enqueueAndForget(async()=>CI(await zI(s),o,u)),u.promise}(Pp(r),e)}function hC(r,e,n){const s=n.docs.get(e._key),o=new bb(r);return new Tb(r,o,e._key,s,new Bl(n.hasPendingWrites,n.fromCache),e.converter)}function fC(...r){return new zp("arrayUnion",r)}(function(e,n=!0){(function(o){go=o})(Ws),Ks(new Kr("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new To(new Zx(s.getProvider("auth-internal")),new tR(f,s.getProvider("app-check-internal")),function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(g.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),fi(G0,K0,e),fi(G0,K0,"esm2017")})();var dC="firebase",mC="11.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fi(dC,mC,"app");function $p(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function wb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pC=wb,Ab=new au("auth","Firebase",wb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new lp("@firebase/auth");function gC(r,...e){bh.logLevel<=Ve.WARN&&bh.warn(`Auth (${Ws}): ${r}`,...e)}function ih(r,...e){bh.logLevel<=Ve.ERROR&&bh.error(`Auth (${Ws}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(r,...e){throw Wp(r,...e)}function Fn(r,...e){return Wp(r,...e)}function Xp(r,e,n){const s=Object.assign(Object.assign({},pC()),{[e]:n});return new au("auth","Firebase",s).create(e,{appName:r.name})}function Zi(r){return Xp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yC(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Mn(r,"argument-error"),Xp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Ab.create(r,...e)}function Te(r,e,...n){if(!r)throw Wp(e,...n)}function Yi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ih(e),new Error(e)}function rr(r,e){r||Yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function vC(){return K_()==="http:"||K_()==="https:"}function K_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vC()||CS()||"connection"in navigator)?navigator.onLine:!0}function EC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n){this.shortDelay=e,this.longDelay=n,rr(n>e,"Short delay should be less than long delay!"),this.isMobile=xS()||NS()}get(){return _C()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(r,e){rr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wC=new du(3e4,6e4);function ns(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function sr(r,e,n,s,o={}){return xb(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=ou(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return IS()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&mo(r.emulatorConfig.host)&&(g.credentials="include"),Sb.fetch()(await Rb(r,r.config.apiHost,n,m),g)})}async function xb(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},TC),e);try{const o=new SC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Qc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Qc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Qc(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Xp(r,T,g);Mn(r,T)}}catch(o){if(o instanceof _i)throw o;Mn(r,"network-request-failed",{message:String(o)})}}async function mu(r,e,n,s,o={}){const u=await sr(r,e,n,s,o);return"mfaPendingCredential"in u&&Mn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Rb(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Zp(r.config,o):`${r.config.apiScheme}://${o}`;return bC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function AC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class SC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Fn(this.auth,"network-request-failed")),wC.get())})}}function Qc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Fn(r,e,s);return o.customData._tokenResponse=n,o}function Q_(r){return r!==void 0&&r.enterprise!==void 0}class xC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return AC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function RC(r,e){return sr(r,"GET","/v2/recaptchaConfig",ns(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(r,e){return sr(r,"POST","/v1/accounts:delete",e)}async function wh(r,e){return sr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CC(r,e=!1){const n=It(r),s=await n.getIdToken(e),o=Jp(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Yl(Em(o.auth_time)),issuedAtTime:Yl(Em(o.iat)),expirationTime:Yl(Em(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Em(r){return Number(r)*1e3}function Jp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const o=ME(n);return o?JSON.parse(o):(ih("Failed to decode base64 JWT payload"),null)}catch(o){return ih("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Y_(r){const e=Jp(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof _i&&NC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function NC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(r){var e;const n=r.auth,s=await r.getIdToken(),o=await lo(r,wh(n,{idToken:s}));Te(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?Ib(u.providerUserInfo):[],m=MC(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Xm(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,w)}async function OC(r){const e=It(r);await Ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Ib(r){return r.map(e=>{var{providerId:n}=e,s=$p(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(r,e){const n=await xb(r,{},async()=>{const s=ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await Rb(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",Sb.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function VC(r,e){return sr(r,"POST","/v2/accounts:revokeToken",ns(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Y_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=Y_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await kC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Wa;return s&&(Te(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Bn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=$p(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Xm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await lo(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return CC(this,e)}reload(){return OC(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ah(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(an(this.auth.app))return Promise.reject(Zi(this.auth));const e=await this.getIdToken();return await lo(this,IC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,T;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,A=(o=n.email)!==null&&o!==void 0?o:void 0,k=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,L=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Q=(m=n.tenantId)!==null&&m!==void 0?m:void 0,z=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,$=(g=n.createdAt)!==null&&g!==void 0?g:void 0,se=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:W,emailVerified:ie,isAnonymous:ae,providerData:he,stsTokenManager:D}=n;Te(W&&D,e,"internal-error");const x=Wa.fromJSON(this.name,D);Te(typeof W=="string",e,"internal-error"),Vr(w,e.name),Vr(A,e.name),Te(typeof ie=="boolean",e,"internal-error"),Te(typeof ae=="boolean",e,"internal-error"),Vr(k,e.name),Vr(L,e.name),Vr(Q,e.name),Vr(z,e.name),Vr($,e.name),Vr(se,e.name);const I=new Bn({uid:W,auth:e,email:A,emailVerified:ie,displayName:w,isAnonymous:ae,photoURL:L,phoneNumber:k,tenantId:Q,stsTokenManager:x,createdAt:$,lastLoginAt:se});return he&&Array.isArray(he)&&(I.providerData=he.map(O=>Object.assign({},O))),z&&(I._redirectEventId=z),I}static async _fromIdTokenResponse(e,n,s=!1){const o=new Wa;o.updateFromServerResponse(n);const u=new Bn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ah(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Ib(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Wa;m.updateFromIdToken(s);const p=new Bn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Xm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=new Map;function $i(r){rr(r instanceof Function,"Expected a class definition");let e=$_.get(r);return e?(rr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,$_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Cb.type="NONE";const X_=Cb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(r,e,n){return`firebase:${r}:${e}:${n}`}class Za{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=rh(this.userKey,o.apiKey,u),this.fullPersistenceKey=rh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await wh(this.auth,{idToken:e}).catch(()=>{});return n?Bn._fromGetAccountInfoResponse(this.auth,n,e):null}return Bn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Za($i(X_),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||$i(X_);const f=rh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const T=await g._get(f);if(T){let w;if(typeof T=="string"){const A=await wh(e,{idToken:T}).catch(()=>{});if(!A)break;w=await Bn._fromGetAccountInfoResponse(e,A,T)}else w=Bn._fromJSON(e,T);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Za(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Za(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Mb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Nb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Vb(e))return"Blackberry";if(Pb(e))return"Webos";if(Db(e))return"Safari";if((e.includes("chrome/")||Ob(e))&&!e.includes("edge/"))return"Chrome";if(kb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Nb(r=Xt()){return/firefox\//i.test(r)}function Db(r=Xt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ob(r=Xt()){return/crios\//i.test(r)}function Mb(r=Xt()){return/iemobile/i.test(r)}function kb(r=Xt()){return/android/i.test(r)}function Vb(r=Xt()){return/blackberry/i.test(r)}function Pb(r=Xt()){return/webos/i.test(r)}function eg(r=Xt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function PC(r=Xt()){var e;return eg(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function LC(){return DS()&&document.documentMode===10}function Lb(r=Xt()){return eg(r)||kb(r)||Pb(r)||Vb(r)||/windows phone/i.test(r)||Mb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(r,e=[]){let n;switch(r){case"Browser":n=W_(Xt());break;case"Worker":n=`${W_(Xt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ws}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(r,e={}){return sr(r,"GET","/v2/passwordPolicy",ns(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=6;class BC{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:zC,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Z_(this),this.idTokenSubscription=new Z_(this),this.beforeStateQueue=new jC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ab,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$i(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Za.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wh(this,{idToken:e}),s=await Bn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(an(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ah(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(an(this.app))return Promise.reject(Zi(this));const n=e?It(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return an(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return an(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UC(this),n=new BC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new au("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await VC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$i(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[$i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(an(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&gC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function is(r){return It(r)}class Z_{constructor(e){this.auth=e,this.observer=null,this.addObserver=US(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HC(r){Zh=r}function Ub(r){return Zh.loadJS(r)}function FC(){return Zh.recaptchaEnterpriseScript}function GC(){return Zh.gapiScript}function KC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class QC{constructor(){this.enterprise=new YC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class YC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const $C="recaptcha-enterprise",zb="NO_RECAPTCHA";class XC{constructor(e){this.type=$C,this.auth=is(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{RC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new xC(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Q_(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(zb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new QC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Q_(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=FC();p.length!==0&&(p+=m),Ub(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function J_(r,e,n,s=!1,o=!1){const u=new XC(r);let f;if(o)f=zb;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Wm(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await J_(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await J_(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(r,e){const n=Mh(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Gr(u,e??{}))return o;Mn(o,"already-initialized")}return n.initialize({options:e})}function ZC(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map($i);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function JC(r,e,n){const s=is(r);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Bb(e),{host:f,port:m}=eN(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(Gr(g,s.config.emulator)&&Gr(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,mo(f)?(po("Auth",!0),op(`${u}//${f}${p}`)):tN()}function Bb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function eN(r){const e=Bb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:eE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:eE(f)}}}function eE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function tN(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yi("not implemented")}_getIdTokenResponse(e){return Yi("not implemented")}_linkToIdToken(e,n){return Yi("not implemented")}_getReauthenticationResolver(e){return Yi("not implemented")}}async function nN(r,e){return sr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(r,e){return mu(r,"POST","/v1/accounts:signInWithPassword",ns(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(r,e){return mu(r,"POST","/v1/accounts:signInWithEmailLink",ns(r,e))}async function sN(r,e){return mu(r,"POST","/v1/accounts:signInWithEmailLink",ns(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends tg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new nu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new nu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wm(e,n,"signInWithPassword",iN);case"emailLink":return rN(e,{email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wm(e,s,"signUpPassword",nN);case"emailLink":return sN(e,{idToken:n,email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(r,e){return mu(r,"POST","/v1/accounts:signInWithIdp",ns(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="http://localhost";class $s extends tg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=$p(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new $s(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ja(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ja(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ja(e,n)}buildRequest(){const e={requestUri:aN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ou(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lN(r){const e=Pl(Ll(r)).link,n=e?Pl(Ll(e)).deep_link_id:null,s=Pl(Ll(r)).deep_link_id;return(s?Pl(Ll(s)).link:null)||s||n||e||r}class ng{constructor(e){var n,s,o,u,f,m;const p=Pl(Ll(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,w=oN((o=p.mode)!==null&&o!==void 0?o:null);Te(g&&T&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=lN(e);try{return new ng(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.providerId=wo.PROVIDER_ID}static credential(e,n){return nu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=ng.parseLink(n);return Te(s,"argument-error"),nu._fromEmailAndCode(e,s.code,s.tenantId)}}wo.PROVIDER_ID="password";wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends ig{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends pu{constructor(){super("facebook.com")}static credential(e){return $s._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $s._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Qi.credential(n,s)}catch{return null}}}Qi.GOOGLE_SIGN_IN_METHOD="google.com";Qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends pu{constructor(){super("github.com")}static credential(e){return $s._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends pu{constructor(){super("twitter.com")}static credential(e,n){return $s._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ur.credential(n,s)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(r,e){return mu(r,"POST","/v1/accounts:signUp",ns(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Bn._fromIdTokenResponse(e,s,o),f=tE(s);return new Xs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=tE(s);return new Xs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function tE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends _i{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Sh(e,n,s,o)}}function qb(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(r,u,e,s):u})}async function cN(r,e,n=!1){const s=await lo(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Xs._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(r,e,n=!1){const{auth:s}=r;if(an(s.app))return Promise.reject(Zi(s));const o="reauthenticate";try{const u=await lo(r,qb(s,o,e,r),n);Te(u.idToken,s,"internal-error");const f=Jp(u.idToken);Te(f,s,"internal-error");const{sub:m}=f;return Te(r.uid===m,s,"user-mismatch"),Xs._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Mn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hb(r,e,n=!1){if(an(r.app))return Promise.reject(Zi(r));const s="signIn",o=await qb(r,s,e),u=await Xs._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function fN(r,e){return Hb(is(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fb(r){const e=is(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dN(r,e,n){if(an(r.app))return Promise.reject(Zi(r));const s=is(r),f=await Wm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Fb(r),p}),m=await Xs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function mN(r,e,n){return an(r.app)?Promise.reject(Zi(r)):fN(It(r),wo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Fb(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(r,e){return sr(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=It(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await lo(s,pN(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function yN(r,e,n,s){return It(r).onIdTokenChanged(e,n,s)}function vN(r,e,n){return It(r).beforeAuthStateChanged(e,n)}function _N(r){return It(r).signOut()}const xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=1e3,TN=10;class Kb extends Gb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Lb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);LC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,TN):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},EN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Kb.type="LOCAL";const bN=Kb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb extends Gb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Qb.type="SESSION";const Yb=Qb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Jh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await wN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=rg("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function SN(r){pi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function xN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function IN(){return $b()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="firebaseLocalStorageDb",CN=1,Rh="firebaseLocalStorage",Wb="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ef(r,e){return r.transaction([Rh],e?"readwrite":"readonly").objectStore(Rh)}function NN(){const r=indexedDB.deleteDatabase(Xb);return new gu(r).toPromise()}function Zm(){const r=indexedDB.open(Xb,CN);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Rh,{keyPath:Wb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Rh)?e(s):(s.close(),await NN(),e(await Zm()))})})}async function nE(r,e,n){const s=ef(r,!0).put({[Wb]:e,value:n});return new gu(s).toPromise()}async function DN(r,e){const n=ef(r,!1).get(e),s=await new gu(n).toPromise();return s===void 0?null:s.value}function iE(r,e){const n=ef(r,!0).delete(e);return new gu(n).toPromise()}const ON=800,MN=3;class Zb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>MN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $b()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jh._getInstance(IN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await xN(),!this.activeServiceWorker)return;this.sender=new AN(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zm();return await nE(e,xh,"1"),await iE(e,xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>nE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>DN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>iE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ef(o,!1).getAll();return new gu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ON)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Zb.type="LOCAL";const kN=Zb;new du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(r,e){return e?$i(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends tg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ja(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ja(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function VN(r){return Hb(r.auth,new sg(r),r.bypassAuthState)}function PN(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),hN(n,new sg(r),r.bypassAuthState)}async function LN(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),cN(n,new sg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VN;case"linkViaPopup":case"linkViaRedirect":return LN;case"reauthViaPopup":case"reauthViaRedirect":return PN;default:Mn(this.auth,"internal-error")}}resolve(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=new du(2e3,1e4);async function UN(r,e,n){if(an(r.app))return Promise.reject(Fn(r,"operation-not-supported-in-this-environment"));const s=is(r);yC(r,e,ig);const o=Jb(s,n);return new Gs(s,"signInViaPopup",e,o).executeNotNull()}class Gs extends ew{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Gs.currentPopupAction&&Gs.currentPopupAction.cancel(),Gs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const e=rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jN.get())};e()}}Gs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN="pendingRedirect",sh=new Map;class BN extends ew{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const s=await qN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qN(r,e){const n=GN(e),s=FN(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function HN(r,e){sh.set(r._key(),e)}function FN(r){return $i(r._redirectPersistence)}function GN(r){return rh(zN,r.config.apiKey,r.name)}async function KN(r,e,n=!1){if(an(r.app))return Promise.reject(Zi(r));const s=is(r),o=Jb(s,e),f=await new BN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=10*60*1e3;class YN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$N(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!tw(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Fn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QN&&this.cachedEventUids.clear(),this.cachedEventUids.has(rE(e))}saveEventToCache(e){this.cachedEventUids.add(rE(e)),this.lastProcessedEventTime=Date.now()}}function rE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function tw({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $N(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(r,e={}){return sr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZN=/^https?/;async function JN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await XN(r);for(const n of e)try{if(eD(n))return}catch{}Mn(r,"unauthorized-domain")}function eD(r){const e=$m(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!ZN.test(n))return!1;if(WN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=new du(3e4,6e4);function sE(){const r=pi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function nD(r){return new Promise((e,n)=>{var s,o,u;function f(){sE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sE(),n(Fn(r,"network-request-failed"))},timeout:tD.get()})}if(!((o=(s=pi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=pi().gapi)===null||u===void 0)&&u.load)f();else{const m=KC("iframefcb");return pi()[m]=()=>{gapi.load?f():n(Fn(r,"network-request-failed"))},Ub(`${GC()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw ah=null,e})}let ah=null;function iD(r){return ah=ah||nD(r),ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=new du(5e3,15e3),sD="__/auth/iframe",aD="emulator/auth/iframe",oD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uD(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Zp(e,aD):`https://${r.config.authDomain}/${sD}`,s={apiKey:e.apiKey,appName:r.name,v:Ws},o=lD.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ou(s).slice(1)}`}async function cD(r){const e=await iD(r),n=pi().gapi;return Te(n,r,"internal-error"),e.open({where:document.body,url:uD(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Fn(r,"network-request-failed"),m=pi().setTimeout(()=>{u(f)},rD.get());function p(){pi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fD=500,dD=600,mD="_blank",pD="http://localhost";class aE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gD(r,e,n,s=fD,o=dD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},hD),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Xt().toLowerCase();n&&(m=Ob(g)?mD:n),Nb(g)&&(e=e||pD,p.scrollbars="yes");const T=Object.entries(p).reduce((A,[k,L])=>`${A}${k}=${L},`,"");if(PC(g)&&m!=="_self")return yD(e||"",m),new aE(null);const w=window.open(e||"",m,T);Te(w,r,"popup-blocked");try{w.focus()}catch{}return new aE(w)}function yD(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="__/auth/handler",_D="emulator/auth/handler",ED=encodeURIComponent("fac");async function oE(r,e,n,s,o,u){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ws,eventId:o};if(e instanceof ig){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",jS(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,w]of Object.entries({}))f[T]=w}if(e instanceof pu){const T=e.getScopes().filter(w=>w!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),g=p?`#${ED}=${encodeURIComponent(p)}`:"";return`${TD(r)}?${ou(m).slice(1)}${g}`}function TD({config:r}){return r.emulator?Zp(r,_D):`https://${r.authDomain}/${vD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="webStorageSupport";class bD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yb,this._completeRedirectFn=KN,this._overrideRedirectResult=HN}async _openPopup(e,n,s,o){var u;rr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await oE(e,n,s,$m(),o);return gD(e,f,rg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await oE(e,n,s,$m(),o);return SN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(rr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await cD(e),s=new YN(e);return n.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tm,{type:Tm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Tm];f!==void 0&&n(!!f),Mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Lb()||Db()||eg()}}const wD=bD;var lE="@firebase/auth",uE="1.10.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xD(r){Ks(new Kr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Te(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jb(r)},g=new qC(s,o,u,p);return ZC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ks(new Kr("auth-internal",e=>{const n=is(e.getProvider("auth").getImmediate());return(s=>new AD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fi(lE,uE,SD(r)),fi(lE,uE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=5*60,ID=LE("authIdTokenMaxAge")||RD;let cE=null;const CD=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ID)return;const o=n==null?void 0:n.token;cE!==o&&(cE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ND(r=cp()){const e=Mh(r,"auth");if(e.isInitialized())return e.getImmediate();const n=WC(r,{popupRedirectResolver:wD,persistence:[kN,bN,Yb]}),s=LE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=CD(u.toString());vN(n,f,()=>f(n.currentUser)),yN(n,m=>f(m))}}const o=kE("auth");return o?JC(n,`http://${o}`):po("Auth",!1),n}function DD(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}HC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Fn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",DD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xD("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="firebasestorage.googleapis.com",OD="storageBucket",MD=2*60*1e3,kD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends _i{constructor(e,n,s=0){super(bm(e),`Firebase Storage: ${n} (${bm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ei.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return bm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yi;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yi||(yi={}));function bm(r){return"storage/"+r}function VD(){const r="An unknown error occurred, please check the error payload for server response.";return new Ei(yi.UNKNOWN,r)}function PD(){return new Ei(yi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function LD(){return new Ei(yi.CANCELED,"User canceled the upload/download.")}function jD(r){return new Ei(yi.INVALID_URL,"Invalid URL '"+r+"'.")}function UD(r){return new Ei(yi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function hE(r){return new Ei(yi.INVALID_ARGUMENT,r)}function iw(){return new Ei(yi.APP_DELETED,"The Firebase app was deleted.")}function zD(r){return new Ei(yi.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=qn.makeFromUrl(e,n)}catch{return new qn(e,"")}if(s.path==="")return s;throw UD(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function g(ie){ie.path_=decodeURIComponent(ie.path)}const T="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",k=new RegExp(`^https?://${w}/${T}/b/${o}/o${A}`,"i"),L={bucket:1,path:3},Q=n===nw?"(?:storage.googleapis.com|storage.cloud.google.com)":n,z="([^?#]*)",$=new RegExp(`^https?://${Q}/${o}/${z}`,"i"),W=[{regex:m,indices:p,postModify:u},{regex:k,indices:L,postModify:g},{regex:$,indices:{bucket:1,path:2},postModify:g}];for(let ie=0;ie<W.length;ie++){const ae=W[ie],he=ae.regex.exec(e);if(he){const D=he[ae.indices.bucket];let x=he[ae.indices.path];x||(x=""),s=new qn(D,x),ae.postModify(s);break}}if(s==null)throw jD(e);return s}}class BD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(r,e,n){let s=1,o=null,u=null,f=!1,m=0;function p(){return m===2}let g=!1;function T(...z){g||(g=!0,e.apply(null,z))}function w(z){o=setTimeout(()=>{o=null,r(k,p())},z)}function A(){u&&clearTimeout(u)}function k(z,...$){if(g){A();return}if(z){A(),T.call(null,z,...$);return}if(p()||f){A(),T.call(null,z,...$);return}s<64&&(s*=2);let W;m===1?(m=2,W=0):W=(s+Math.random())*1e3,w(W)}let L=!1;function Q(z){L||(L=!0,A(),!g&&(o!==null?(z||(m=2),clearTimeout(o),w(0)):z||(m=1)))}return w(0),u=setTimeout(()=>{f=!0,Q(!0)},n),Q}function HD(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(r){return r!==void 0}function fE(r,e,n,s){if(s<e)throw hE(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw hE(`Invalid value for '${r}'. Expected ${n} or less.`)}function GD(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Ih;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Ih||(Ih={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n,s,o,u,f,m,p,g,T,w,A=!0,k=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=T,this.connectionFactory_=w,this.retry=A,this.isUsingEmulator=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,Q)=>{this.resolve_=L,this.reject_=Q,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Yc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===Ih.NO_ERROR,p=u.getStatus();if(!m||KD(p,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===Ih.ABORT;s(!1,new Yc(!1,null,T));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Yc(g,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());FD(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=VD();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(o.canceled){const p=this.appDelete_?iw():LD();f(p)}else{const p=PD();f(p)}};this.canceled_?n(!1,new Yc(!1,null,!0)):this.backoffId_=qD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&HD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yc{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function YD(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function $D(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function XD(r,e){e&&(r["X-Firebase-GMPID"]=e)}function WD(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function ZD(r,e,n,s,o,u,f=!0,m=!1){const p=GD(r.urlParams),g=r.url+p,T=Object.assign({},r.headers);return XD(T,e),YD(T,n),$D(T,u),WD(T,s),new QD(g,r.method,T,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,f,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function e4(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n){this._service=e,n instanceof qn?this._location=n:this._location=qn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ch(e,n)}get root(){const e=new qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return e4(this._location.path)}get storage(){return this._service}get parent(){const e=JD(this._location.path);if(e===null)return null;const n=new qn(this._location.bucket,e);return new Ch(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw zD(e)}}function dE(r,e){const n=e==null?void 0:e[OD];return n==null?null:qn.makeFromBucketSpec(n,r)}function t4(r,e,n,s={}){r.host=`${e}:${n}`;const o=mo(e);o&&(op(`https://${r.host}`),po("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:jE(u,r.app.options.projectId))}class n4{constructor(e,n,s,o,u,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=nw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=MD,this._maxUploadRetryTime=kD,this._requests=new Set,o!=null?this._bucket=qn.makeFromBucketSpec(o,this._host):this._bucket=dE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=qn.makeFromBucketSpec(this._url,e):this._bucket=dE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(an(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ch(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new BD(iw());{const f=ZD(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const mE="@firebase/storage",pE="0.13.11";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="storage";function i4(r=cp(),e){r=It(r),po("Storage",!1);const s=Mh(r,rw).getImmediate({identifier:e}),o=VE("storage");return o&&r4(s,...o),s}function r4(r,e,n,s={}){t4(r,e,n,s)}function s4(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new n4(n,s,o,e,Ws)}function a4(){Ks(new Kr(rw,s4,"PUBLIC").setMultipleInstances(!0)),fi(mE,pE,""),fi(mE,pE,"esm2017")}a4();const o4={apiKey:"AIzaSyCsi2dyWu6VaemPKDuk_OCIhv0e1e3fWjE",authDomain:"attendance-d8c8c.firebaseapp.com",projectId:"attendance-d8c8c",storageBucket:"attendance-d8c8c.firebasestorage.app",messagingSenderId:"275245957827",appId:"1:275245957827:web:b8aa9b55d7ee952454d876"},ag=BE(o4),uo=ND(ag),vn=GI(ag);i4(ag);const l4=new Qi;function u4(){const[r,e]=H.useState([]),[n,s]=H.useState({name:"",fatherName:"",email:"",studentClass:"",address:"",age:"",gender:"male"}),[o,u]=H.useState(!1),f=70135200,m=T=>{const{name:w,value:A}=T.target;s({...n,[w]:A})};H.useEffect(()=>{(async()=>{u(!0);try{const A=(await Ql(Hs(vn,"students"))).docs.map(k=>({id:k.id,...k.data()}));e(A)}catch(w){console.error("Error fetching students: ",w)}finally{u(!1)}})()},[]);const p=async T=>{T.preventDefault();try{u(!0);const w={rollNo:f+r.length,...n},A=await Qp(Hs(vn,"students"),w);e([...r,{id:A.id,...w}]),s({name:"",fatherName:"",email:"",studentClass:"",address:"",age:"",gender:"male"})}catch(w){console.error("Error adding student: ",w)}finally{u(!1)}},g=async T=>{try{u(!0),await Kp(Fs(vn,"students",T)),e(r.filter(w=>w.id!==T))}catch(w){console.error("Error deleting student: ",w)}finally{u(!1)}};return v.jsx("div",{className:"p-6 md:p-10 bg-gradient-to-br from-teal-50 via-white to-green-100 min-h-screen font-sans",children:v.jsxs("div",{className:"max-w-7xl mx-auto",children:[v.jsxs("div",{className:"text-center mb-10",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-2 text-teal-800 animate-fade-in",children:" Student Enrollment System"}),v.jsx("p",{className:"text-teal-600 animate-fade-in-delay",children:"Empowering education through digital enrollment"})]}),v.jsxs("form",{onSubmit:p,className:"max-w-4xl mx-auto bg-white p-6 rounded-2xl shadow-xl space-y-4 border-2 border-teal-200 hover:shadow-2xl transition-all duration-500 hover:border-teal-300",children:[v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"block text-sm font-medium text-teal-700",children:"Student Name"}),v.jsx("input",{type:"text",name:"name",placeholder:"Full name",value:n.name,onChange:m,required:!0,className:"w-full border border-gray-300 px-4 py-2 rounded-lg shadow-sm focus:ring-2 focus:ring-teal-400 focus:border-teal-400 outline-none transition-all"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"block text-sm font-medium text-teal-700",children:"Father's Name"}),v.jsx("input",{type:"text",name:"fatherName",placeholder:"Father's name",value:n.fatherName,onChange:m,required:!0,className:"w-full border border-gray-300 px-4 py-2 rounded-lg shadow-sm focus:ring-2 focus:ring-teal-400 focus:border-teal-400 outline-none transition-all"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"block text-sm font-medium text-teal-700",children:"Age"}),v.jsx("input",{type:"number",name:"age",placeholder:"Age",min:"5",max:"25",value:n.age,onChange:m,required:!0,className:"w-full border border-gray-300 px-4 py-2 rounded-lg shadow-sm focus:ring-2 focus:ring-teal-400 focus:border-teal-400 outline-none transition-all"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"block text-sm font-medium text-teal-700",children:"Gender"}),v.jsxs("select",{name:"gender",value:n.gender,onChange:m,className:"w-full border border-gray-300 px-4 py-2 rounded-lg shadow-sm focus:ring-2 focus:ring-teal-400 focus:border-teal-400 outline-none transition-all",children:[v.jsx("option",{value:"male",children:"Male"}),v.jsx("option",{value:"female",children:"Female"}),v.jsx("option",{value:"other",children:"Other"})]})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"block text-sm font-medium text-teal-700",children:"Email"}),v.jsx("input",{type:"email",name:"email",placeholder:"Email address",value:n.email,onChange:m,required:!0,className:"w-full border border-gray-300 px-4 py-2 rounded-lg shadow-sm focus:ring-2 focus:ring-teal-400 focus:border-teal-400 outline-none transition-all"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"block text-sm font-medium text-teal-700",children:"Class"}),v.jsx("input",{type:"text",name:"studentClass",placeholder:"Class/Grade",value:n.studentClass,onChange:m,required:!0,className:"w-full border border-gray-300 px-4 py-2 rounded-lg shadow-sm focus:ring-2 focus:ring-teal-400 focus:border-teal-400 outline-none transition-all"})]})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"block text-sm font-medium text-teal-700",children:"Address"}),v.jsx("textarea",{name:"address",placeholder:"Full address",value:n.address,onChange:m,required:!0,className:"w-full border border-gray-300 px-4 py-2 rounded-lg shadow-sm focus:ring-2 focus:ring-teal-400 focus:border-teal-400 outline-none transition-all",rows:"3"})]}),v.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-teal-600 to-teal-500 text-white font-semibold py-3 rounded-lg hover:from-teal-500 hover:to-teal-400 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center justify-center space-x-2 disabled:opacity-70",children:o?v.jsx("span",{children:" Processing..."}):v.jsxs(v.Fragment,{children:[v.jsx("span",{children:""}),v.jsx("span",{children:"Enroll Student"})]})})]}),o&&r.length===0?v.jsxs("div",{className:"text-center py-10",children:[v.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-teal-600"}),v.jsx("p",{className:"mt-2 text-teal-600",children:"Loading students..."})]}):r.length>0?v.jsxs("div",{className:"max-w-7xl mx-auto mt-12",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsxs("h3",{className:"text-xl md:text-2xl font-semibold text-teal-800 flex items-center",children:[v.jsx("span",{className:"mr-2",children:""}),v.jsx("span",{children:"Enrolled Students"})]}),v.jsxs("div",{className:"bg-teal-100 text-teal-800 px-3 py-1 rounded-full text-sm font-medium",children:["Total: ",r.length]})]}),v.jsx("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100 hover:shadow-2xl transition duration-500",children:v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[v.jsx("thead",{className:"bg-gradient-to-r from-teal-600 to-teal-500",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Roll No"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Name"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Age/Gender"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Class"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Contact Email"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider",children:"Actions"})]})}),v.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(T=>v.jsxs("tr",{className:"hover:bg-teal-50 transition duration-200",children:[v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:T.rollNo}),v.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[v.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.name}),v.jsx("div",{className:"text-xs text-gray-500",children:T.fatherName})]}),v.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[v.jsxs("div",{className:"text-sm text-gray-900",children:[T.age," yrs"]}),v.jsx("div",{className:"text-xs text-gray-500 capitalize",children:T.gender})]}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.studentClass}),v.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[v.jsx("div",{className:"text-sm text-gray-900",children:T.email}),v.jsx("div",{className:"text-xs text-gray-500 truncate max-w-xs",children:T.address})]}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:v.jsxs("button",{onClick:()=>g(T.id),disabled:o,className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-md text-xs transition-all duration-300 shadow-sm hover:shadow-md flex items-center disabled:opacity-70",children:[v.jsx("span",{className:"mr-1",children:""}),v.jsx("span",{children:"Delete"})]})})]},T.id))})]})})})]}):v.jsx("div",{className:"max-w-2xl mx-auto mt-16 text-center",children:v.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border-2 border-dashed border-teal-200 hover:border-teal-300 transition duration-500",children:[v.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),v.jsx("h3",{className:"text-xl font-medium text-gray-700 mb-2",children:"No students enrolled yet"}),v.jsx("p",{className:"text-gray-500 mb-4",children:"Fill out the enrollment form above to get started!"}),v.jsx("div",{className:"w-16 h-1 bg-teal-400 mx-auto mb-6"}),v.jsx("p",{className:"text-sm text-gray-400",children:"Your student records will appear here"})]})})]})})}function c4(){const[r,e]=H.useState({name:"",phone:"",email:"",education:"",university:"",address:"",specialization:"science"}),[n,s]=H.useState([]),[o,u]=H.useState(!1),[f,m]=H.useState(!1),[p,g]=H.useState(!1),T=Hs(vn,"faculty"),w=["Physics","Chemistry","Biology","Mathematics","Computer Science"],A=["English","Urdu","History","Geography","Drawing","Music"],k=["Accounting","Economics","Business Studies","Statistics"],L=["Physical Education","Islamic Studies","Pakistan Studies"];H.useEffect(()=>{(async()=>{m(!0);try{const he=(await Ql(T)).docs.map(D=>({id:D.id,...D.data()}));s(he)}catch(ae){console.error("Error fetching faculty: ",ae)}finally{m(!1)}})()},[]);const Q=ie=>{const{name:ae,value:he}=ie.target;e({...r,[ae]:he})},z=async ie=>{if(window.confirm("Are you sure you want to delete this faculty member?"))try{await Kp(Fs(vn,"faculty",ie)),s(n.filter(ae=>ae.id!==ie))}catch(ae){console.error("Error deleting faculty: ",ae)}},$=ie=>{const[ae,he]=ie.split(" ");let[D,x]=ae.split(":").map(Number);he==="PM"&&D!==12&&(D+=12),he==="AM"&&D===12&&(D=0);let I=D*60+x+90,O=Math.floor(I/60)%24,P=I%60;const C=O>=12?"PM":"AM";return O=O%12||12,`${O}:${P===0?"00":"30"} ${C}`},se=ie=>{const ae=ie.split(" ");let he=ae[0].charAt(0).toUpperCase();return ae.length>1&&(he+=ae[ae.length-1].charAt(0).toUpperCase()),he},W=async ie=>{ie.preventDefault(),g(!0);const ae=Math.floor(Math.random()*10)+1;let he="";switch(r.specialization){case"science":he=w[Math.floor(Math.random()*w.length)];break;case"arts":he=A[Math.floor(Math.random()*A.length)];break;case"commerce":he=k[Math.floor(Math.random()*k.length)];break;default:he=L[Math.floor(Math.random()*L.length)]}const D=Math.floor(Math.random()*7)+8,x=Math.random()>.5?"00":"30",I=`${D}:${x} ${D>=12?"PM":"AM"}`,O=$(I),P=["Monday","Tuesday","Wednesday","Thursday","Friday"],C=[],R=Math.floor(Math.random()*4)+2;for(;C.length<R;){const ve=P[Math.floor(Math.random()*P.length)];C.includes(ve)||C.push(ve)}try{const ve={name:r.name,phone:r.phone,email:r.email,education:r.education,university:r.university,address:r.address,specialization:r.specialization,assignedClass:ae,assignedSubject:he,schedule:{days:C.join(", "),time:`${I} - ${O}`},createdAt:new Date},Re=await Qp(T,ve);s([...n,{id:Re.id,...ve}]),u(!0),e({name:"",phone:"",email:"",education:"",university:"",address:"",specialization:"science"}),setTimeout(()=>u(!1),3e3)}catch(ve){console.error("Error adding faculty: ",ve)}finally{g(!1)}};return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6 md:p-10 font-sans",children:v.jsxs("div",{className:"max-w-6xl mx-auto",children:[v.jsxs("div",{className:"text-center mb-10",children:[v.jsxs("h1",{className:"text-4xl font-bold text-indigo-900 mb-4",children:[v.jsx("span",{className:"inline-block transform hover:scale-110 transition duration-300",children:""}),v.jsx("span",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Faculty Hiring Portal"})]}),v.jsx("p",{className:"text-lg text-indigo-700 max-w-2xl mx-auto",children:"Join our team of dedicated educators and inspire the next generation"})]}),o&&v.jsxs("div",{className:"fixed top-5 right-5 bg-green-100 border-l-4 border-green-500 text-green-800 p-4 rounded-lg shadow-lg z-50 animate-fade-in flex items-center",children:[v.jsx("svg",{className:"w-6 h-6 mr-2 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Faculty member added successfully!"]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[v.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl border border-indigo-50 transform hover:-translate-y-1 transition duration-300",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsx("h2",{className:"text-2xl font-bold text-indigo-800",children:v.jsx("span",{className:"border-b-4 border-indigo-300 pb-1",children:"Teacher Application"})}),v.jsx("div",{className:"bg-indigo-100 text-indigo-800 px-3 py-1 rounded-full text-sm font-medium",children:"Step 1 of 1"})]}),v.jsxs("form",{onSubmit:W,className:"space-y-6",children:[v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["name","phone","email","education","university"].map(ie=>v.jsxs("div",{className:"relative",children:[v.jsx("label",{className:"block text-sm font-medium text-indigo-700 mb-1",children:ie.charAt(0).toUpperCase()+ie.slice(1).replace(/([A-Z])/g," $1")}),v.jsx("input",{type:ie==="email"?"email":ie==="phone"?"tel":"text",name:ie,value:r[ie],onChange:Q,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 outline-none transition-all shadow-sm"})]},ie))}),v.jsxs("div",{className:"relative",children:[v.jsx("label",{className:"block text-sm font-medium text-indigo-700 mb-1",children:"Specialization"}),v.jsxs("div",{className:"relative",children:[v.jsxs("select",{name:"specialization",value:r.specialization,onChange:Q,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 outline-none transition-all appearance-none shadow-sm bg-white",children:[v.jsx("option",{value:"science",children:"Science"}),v.jsx("option",{value:"arts",children:"Arts"}),v.jsx("option",{value:"commerce",children:"Commerce"}),v.jsx("option",{value:"other",children:"Other"})]}),v.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),v.jsxs("div",{className:"relative",children:[v.jsx("label",{className:"block text-sm font-medium text-indigo-700 mb-1",children:"Address"}),v.jsx("textarea",{name:"address",value:r.address,onChange:Q,rows:"3",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 outline-none transition-all shadow-sm"})]}),v.jsx("button",{type:"submit",disabled:p,className:`w-full mt-6 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold py-4 px-6 rounded-xl hover:from-indigo-700 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center justify-center space-x-2 ${p?"opacity-70 cursor-not-allowed":""}`,children:p?v.jsxs(v.Fragment,{children:[v.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):v.jsxs(v.Fragment,{children:[v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),v.jsx("span",{children:"Submit Application"})]})})]})]}),v.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl border border-indigo-50",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsx("h2",{className:"text-2xl font-bold text-indigo-800",children:v.jsx("span",{className:"border-b-4 border-indigo-300 pb-1",children:"Faculty Assignments"})}),v.jsxs("div",{className:"bg-indigo-100 text-indigo-800 px-3 py-1 rounded-full text-sm font-medium",children:[n.length," Teachers"]})]}),f&&n.length===0?v.jsxs("div",{className:"text-center py-10",children:[v.jsx("div",{className:"flex justify-center",children:v.jsxs("svg",{className:"animate-spin h-10 w-10 text-teal-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),v.jsx("h3",{className:"text-xl font-medium text-gray-700 mb-2 mt-4",children:"Loading faculty..."})]}):n.length===0?v.jsxs("div",{className:"text-center py-10",children:[v.jsx("div",{className:"text-6xl mb-4 text-indigo-200",children:""}),v.jsx("h3",{className:"text-xl font-medium text-gray-500",children:"No faculty assignments yet"}),v.jsx("p",{className:"text-gray-400 mt-2",children:"Submitted applications will appear here"})]}):v.jsx("div",{className:"space-y-4 max-h-[600px] overflow-y-auto pr-2",children:n.map(ie=>{var C,R;const ae=ie.name||"Unknown Teacher",he=ie.education||"Education not specified",D=ie.university||"University not specified",x=ie.assignedClass||"N/A",I=ie.assignedSubject||"Not assigned",O=((C=ie.schedule)==null?void 0:C.days)||"Not scheduled",P=((R=ie.schedule)==null?void 0:R.time)||"";return v.jsx("div",{className:"border border-gray-200 rounded-xl p-5 bg-gradient-to-r from-indigo-50 to-white hover:from-indigo-100 transition-all duration-300 group",children:v.jsxs("div",{className:"flex items-start space-x-4",children:[v.jsx("div",{className:"h-16 w-16 rounded-full bg-indigo-200 flex items-center justify-center text-white font-bold text-2xl shadow-md",children:se(ae)}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h3",{className:"font-bold text-lg text-indigo-900 truncate",children:ae}),v.jsxs("p",{className:"text-sm text-indigo-600 mb-2",children:[he," from ",D]}),v.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[v.jsxs("div",{className:"bg-indigo-100 text-indigo-800 px-3 py-1 rounded-lg flex items-center",children:[v.jsx("span",{className:"font-medium mr-1",children:"Class:"}),v.jsx("span",{className:"font-bold",children:x})]}),v.jsxs("div",{className:"bg-indigo-100 text-indigo-800 px-3 py-1 rounded-lg flex items-center",children:[v.jsx("span",{className:"font-medium mr-1",children:"Subject:"}),v.jsx("span",{className:"font-bold",children:I})]}),v.jsx("div",{className:"col-span-2 bg-indigo-100 text-indigo-800 px-3 py-1 rounded-lg",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("svg",{className:"w-4 h-4 mr-2 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),v.jsxs("span",{children:[O," | ",P]})]})})]})]}),v.jsx("button",{onClick:()=>z(ie.id),className:"text-gray-400 hover:text-red-500 transition p-1","aria-label":"Delete teacher",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})},ie.id)})})]})]})]})})}function h4(){const[r,e]=H.useState([]),[n,s]=H.useState(null),[o,u]=H.useState(""),[f,m]=H.useState(null),[p,g]=H.useState([]),[T,w]=H.useState(!1),[A,k]=H.useState(new Date().toISOString().split("T")[0]),[L,Q]=H.useState("all"),[z,$]=H.useState(""),[se,W]=H.useState([]),[ie,ae]=H.useState(!1);H.useEffect(()=>{(async()=>{w(!0);try{const ve=(await Ql(Hs(vn,"faculty"))).docs.map(Re=>({id:Re.id,...Re.data()}));e(ve)}catch(R){console.error("Error fetching faculty: ",R)}finally{w(!1)}})()},[]),H.useEffect(()=>{if(!n)return;(async()=>{w(!0);try{const ve=(await F_(Fs(vn,"faculty",n.id))).data(),Re=(ve==null?void 0:ve.attendanceRecords)||[],Y=sC(Hs(vn,"attendance"),aC("facultyId","==",n.id)),me=(await Ql(Y)).docs.map(ee=>({id:ee.id,...ee.data()})),M=[...Re,...me].reduce((ee,ue)=>ee.find(ge=>ge.date===ue.date)?ee:ee.concat([ue]),[]);W(M)}catch(R){console.error("Error fetching past attendance: ",R)}finally{w(!1)}})()},[n]);const he=async C=>{if(C.preventDefault(),!!o){w(!0);try{const Re=(await Ql(Hs(vn,"students"))).docs.map(Y=>({id:Y.id,...Y.data()})).find(Y=>Y.rollNo===parseInt(o));Re?(m(Re),p.some(re=>re.rollNo===Re.rollNo)||g(re=>[...re,{...Re,status:"present",timestamp:new Date().toISOString()}])):alert("Student with this roll number not found")}catch(R){console.error("Error fetching student: ",R)}finally{u(""),w(!1)}}},D=(C,R)=>{g(ve=>ve.map(Re=>Re.rollNo===C?{...Re,status:R}:Re))},x=async()=>{if(!(!n||p.length===0)){w(!0);try{const C={facultyId:n.id,facultyName:n.name,date:A,students:p.map(re=>({studentId:re.id,rollNo:re.rollNo,name:re.name,status:re.status,timestamp:re.timestamp})),createdAt:new Date().toISOString()},R=Fs(vn,"faculty",n.id);await G_(R,{attendanceRecords:fC(C)});const ve=Hs(vn,"attendance"),Y={id:(await Qp(ve,C)).id,...C};W(re=>[...re,Y]),alert("Attendance submitted successfully!"),g([]),m(null),ae(!0)}catch(C){console.error("Error submitting attendance: ",C),alert("Failed to submit attendance")}finally{w(!1)}}},I=async C=>{if(window.confirm("Are you sure you want to delete this attendance record?")){w(!0);try{const R=Fs(vn,"faculty",n.id),Y=(await F_(R)).data().attendanceRecords.filter(re=>!(re.date===C.date&&re.facultyId===C.facultyId));await G_(R,{attendanceRecords:Y}),C.id&&await Kp(Fs(vn,"attendance",C.id)),W(re=>re.filter(me=>!(me.date===C.date&&(!me.id||me.id!==C.id)))),alert("Attendance record deleted successfully!")}catch(R){console.error("Error deleting attendance: ",R),alert("Failed to delete attendance record")}finally{w(!1)}}},O=p.filter(C=>{const R=L==="all"||C.status===L,ve=z===""||C.name.toLowerCase().includes(z.toLowerCase())||C.rollNo.toString().includes(z);return R&&ve}),P=(C,R)=>C.students.filter(ve=>ve.status===R).length;return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 p-6 md:p-10 font-sans",children:v.jsxs("div",{className:"max-w-7xl mx-auto",children:[v.jsxs("div",{className:"text-center mb-10",children:[v.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2 text-blue-800",children:" Attendance Management System"}),v.jsx("p",{className:"text-blue-600",children:"Mark and manage student attendance records"})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-blue-100",children:[v.jsx("h2",{className:"text-xl font-bold text-blue-800 mb-4 border-b pb-2",children:"Available Faculty"}),T&&r.length===0?v.jsxs("div",{className:"text-center py-10",children:[v.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-600"}),v.jsx("p",{className:"mt-2 text-blue-600",children:"Loading faculty..."})]}):v.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:r.map(C=>v.jsx("div",{onClick:()=>{s(C),ae(!1)},className:`p-4 rounded-xl cursor-pointer transition-all ${(n==null?void 0:n.id)===C.id?"bg-blue-100 border-2 border-blue-300":"bg-gray-50 hover:bg-blue-50 border border-gray-200"}`,children:v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("div",{className:"bg-blue-200 text-blue-800 font-bold h-10 w-10 rounded-full flex items-center justify-center",children:C.name.split(" ").map(R=>R[0]).join("").toUpperCase()}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold text-blue-900",children:C.name}),v.jsxs("p",{className:"text-sm text-blue-700",children:[C.assignedSubject," (Class ",C.assignedClass,")"]})]})]})},C.id))})]}),v.jsx("div",{className:"lg:col-span-2 bg-white p-6 rounded-2xl shadow-lg border border-blue-100",children:n?ie?v.jsxs("div",{children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsxs("h2",{className:"text-xl font-bold text-blue-800",children:["Past Attendance Records for ",n.name]}),v.jsx("button",{onClick:()=>ae(!1),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm",children:"Back to Mark Attendance"})]}),T&&se.length===0?v.jsxs("div",{className:"text-center py-10",children:[v.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-600"}),v.jsx("p",{className:"mt-2 text-blue-600",children:"Loading records..."})]}):se.length===0?v.jsxs("div",{className:"text-center py-10 bg-gray-50 rounded-lg border border-dashed border-gray-300",children:[v.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),v.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No past attendance records found"})]}):v.jsx("div",{className:"space-y-4",children:se.sort((C,R)=>new Date(R.date)-new Date(C.date)).map((C,R)=>v.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[v.jsxs("div",{className:"flex justify-between items-center mb-3",children:[v.jsx("h3",{className:"font-bold text-blue-800",children:new Date(C.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsx("button",{onClick:()=>{g(C.students),k(C.date),ae(!1)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Edit"}),v.jsx("button",{onClick:()=>I(C),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Delete"})]})]}),v.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3 text-center",children:[v.jsxs("div",{className:"bg-green-100 text-green-800 p-2 rounded",children:[v.jsx("div",{className:"font-bold",children:P(C,"present")}),v.jsx("div",{className:"text-xs",children:"Present"})]}),v.jsxs("div",{className:"bg-red-100 text-red-800 p-2 rounded",children:[v.jsx("div",{className:"font-bold",children:P(C,"absent")}),v.jsx("div",{className:"text-xs",children:"Absent"})]}),v.jsxs("div",{className:"bg-yellow-100 text-yellow-800 p-2 rounded",children:[v.jsx("div",{className:"font-bold",children:P(C,"late")}),v.jsx("div",{className:"text-xs",children:"Late"})]}),v.jsxs("div",{className:"bg-gray-100 text-gray-800 p-2 rounded",children:[v.jsx("div",{className:"font-bold",children:P(C,"leave")}),v.jsx("div",{className:"text-xs",children:"Leave"})]})]}),v.jsx("div",{className:"max-h-[200px] overflow-y-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[v.jsx("thead",{className:"bg-gray-100",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Roll No"}),v.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),v.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),v.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.students.map((ve,Re)=>v.jsxs("tr",{children:[v.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:ve.rollNo}),v.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:ve.name}),v.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm",children:v.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ve.status==="present"?"bg-green-100 text-green-800":ve.status==="absent"?"bg-red-100 text-red-800":ve.status==="late"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:ve.status.charAt(0).toUpperCase()+ve.status.slice(1)})})]},Re))})]})})]},R))})]}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsxs("h2",{className:"text-xl font-bold text-blue-800",children:["Marking Attendance for ",n.name]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"date",value:A,onChange:C=>k(C.target.value),className:"border border-gray-300 px-3 py-1 rounded-lg text-sm"}),v.jsx("button",{onClick:()=>ae(!0),className:"bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 py-1 rounded-lg text-sm",children:"View Past Records"})]})]}),v.jsx("form",{onSubmit:he,className:"mb-6",children:v.jsxs("div",{className:"flex space-x-2",children:[v.jsx("input",{type:"number",placeholder:"Enter Student Roll No",value:o,onChange:C=>u(C.target.value),className:"flex-1 border border-gray-300 px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-blue-400 outline-none transition-all",disabled:T}),v.jsx("button",{type:"submit",disabled:T||!o,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:T?"Adding...":"Add"})]})}),v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("div",{className:"flex space-x-2",children:v.jsxs("select",{value:L,onChange:C=>Q(C.target.value),className:"border border-gray-300 px-3 py-1 rounded-lg text-sm",children:[v.jsx("option",{value:"all",children:"All Status"}),v.jsx("option",{value:"present",children:"Present"}),v.jsx("option",{value:"absent",children:"Absent"}),v.jsx("option",{value:"late",children:"Late"}),v.jsx("option",{value:"leave",children:"Leave"})]})}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"text",placeholder:"Search students...",value:z,onChange:C=>$(C.target.value),className:"border border-gray-300 px-3 py-1 rounded-lg text-sm pl-8"}),v.jsx("svg",{className:"w-4 h-4 absolute left-2.5 top-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),p.length>0?v.jsx("div",{className:"space-y-3 mb-6 max-h-[400px] overflow-y-auto",children:O.map(C=>v.jsx("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50",children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsxs("h3",{className:"font-medium text-gray-900",children:[C.name," (Roll No: ",C.rollNo,")"]}),v.jsxs("p",{className:"text-sm text-gray-600",children:[C.studentClass,"  ",C.fatherName]})]}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsxs("select",{value:C.status,onChange:R=>D(C.rollNo,R.target.value),className:"border border-gray-300 px-2 py-1 rounded text-sm bg-white",children:[v.jsx("option",{value:"present",children:"Present"}),v.jsx("option",{value:"absent",children:"Absent"}),v.jsx("option",{value:"late",children:"Late"}),v.jsx("option",{value:"leave",children:"Leave"})]}),v.jsx("button",{onClick:()=>g(R=>R.filter(ve=>ve.rollNo!==C.rollNo)),className:"text-red-500 hover:text-red-700 p-1",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},C.rollNo))}):v.jsxs("div",{className:"text-center py-10 bg-gray-50 rounded-lg border border-dashed border-gray-300",children:[v.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),v.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No students added yet"}),v.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Enter student roll numbers to begin marking attendance."})]}),v.jsx("div",{className:"flex justify-end",children:v.jsx("button",{onClick:x,disabled:T||p.length===0,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center space-x-2",children:T?v.jsxs(v.Fragment,{children:[v.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),v.jsx("span",{children:"Submitting..."})]}):v.jsxs(v.Fragment,{children:[v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),v.jsx("span",{children:"Submit Attendance"})]})})})]}):v.jsxs("div",{className:"text-center py-10",children:[v.jsx("svg",{className:"w-16 h-16 mx-auto text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),v.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Select a faculty member"}),v.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Choose a faculty member from the list to begin marking attendance."})]})})]})]})})}function f4(){const[r,e]=H.useState(""),[n,s]=H.useState(""),[o,u]=H.useState(!1),[f,m]=H.useState(""),p=ru(),g=async w=>{w.preventDefault(),u(!0),m("");try{await mN(uo,r,n),p("/")}catch(A){m(A.message)}finally{u(!1)}},T=async()=>{try{await UN(uo,l4),p("/")}catch(w){m(w.message)}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:v.jsxs("div",{className:"max-w-md w-full p-8 bg-white rounded-lg shadow-md",children:[v.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"Login"}),f&&v.jsx("div",{className:"mb-4 p-2 bg-red-100 text-red-700 rounded text-center",children:f}),v.jsxs("form",{onSubmit:g,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),v.jsx("input",{id:"email",type:"email",value:r,onChange:w=>e(w.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),v.jsx("input",{id:"password",type:"password",value:n,onChange:w=>s(w.target.value),required:!0,minLength:"6",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),v.jsx("button",{type:"submit",disabled:o,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${o?"opacity-50 cursor-not-allowed":""}`,children:o?"Logging in...":"Login"})]}),v.jsxs("div",{className:"mt-6",children:[v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute inset-0 flex items-center",children:v.jsx("div",{className:"w-full border-t border-gray-300"})}),v.jsx("div",{className:"relative flex justify-center text-sm",children:v.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),v.jsx("div",{className:"mt-6",children:v.jsxs("button",{onClick:T,className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[v.jsx("svg",{className:"w-5 h-5 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",children:v.jsx("path",{fill:"#EA4335",d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"})}),"Sign in with Google"]})})]}),v.jsxs("div",{className:"mt-4 text-center text-sm text-gray-600",children:["Don't have an account?"," ",v.jsx(zn,{to:"/signup",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign up"})]})]})})}function d4(){const[r,e]=H.useState(""),[n,s]=H.useState(""),[o,u]=H.useState(""),[f,m]=H.useState(!1),[p,g]=H.useState(""),T=ru(),w=async A=>{A.preventDefault(),m(!0),g("");try{const{user:k}=await dN(uo,r,n);await gN(k,{displayName:o}),T("/")}catch(k){g(k.message)}finally{m(!1)}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:v.jsxs("div",{className:"max-w-md w-full p-8 bg-white rounded-lg shadow-md",children:[v.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"Create Account"}),p&&v.jsx("div",{className:"mb-4 p-2 bg-red-100 text-red-700 rounded text-center",children:p}),v.jsxs("form",{onSubmit:w,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),v.jsx("input",{id:"displayName",type:"text",value:o,onChange:A=>u(A.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),v.jsx("input",{id:"email",type:"email",value:r,onChange:A=>e(A.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),v.jsx("input",{id:"password",type:"password",value:n,onChange:A=>s(A.target.value),required:!0,minLength:"6",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),v.jsx("button",{type:"submit",disabled:f,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${f?"opacity-50 cursor-not-allowed":""}`,children:f?"Creating account...":"Sign Up"})]}),v.jsxs("div",{className:"mt-4 text-center text-sm text-gray-600",children:["Already have an account?"," ",v.jsx(zn,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Login"})]})]})})}const wm=({children:r})=>{const[e,n]=H.useState(null),[s,o]=H.useState(!0);return H.useEffect(()=>uo.onAuthStateChanged(f=>{n(f),o(!1)}),[]),s?v.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):e?r:v.jsx(SE,{to:"/login",replace:!0})};function m4(){return v.jsxs(CA,{children:[v.jsx(Pr,{path:"/",element:v.jsx(mS,{})}),v.jsx(Pr,{path:"/students",element:v.jsx(wm,{children:v.jsx(u4,{})})}),v.jsx(Pr,{path:"/faculty",element:v.jsx(wm,{children:v.jsx(c4,{})})}),v.jsx(Pr,{path:"/mark",element:v.jsx(wm,{children:v.jsx(h4,{})})}),v.jsx(Pr,{path:"/login",element:v.jsx(f4,{})}),v.jsx(Pr,{path:"/signup",element:v.jsx(d4,{})}),v.jsx(Pr,{path:"*",element:v.jsx(SE,{to:"/",replace:!0})})]})}function p4(){const[r,e]=H.useState(!1),[n,s]=H.useState(null),o=ru();H.useEffect(()=>uo.onAuthStateChanged(p=>{s(p)}),[]);const u=async()=>{try{await _N(uo),o("/login"),e(!1)}catch(m){console.error("Logout error:",m)}},f=[{to:"/",label:"Home",icon:"",show:!0},{to:"/students",label:"Student Enrollment",icon:"",show:!!n},{to:"/faculty",label:"Faculty Hiring",icon:"",show:!!n},{to:"/mark",label:"Mark Attendance",icon:"",show:!!n}];return v.jsx("nav",{className:"bg-gradient-to-r from-slate-800 via-teal-800 to-emerald-700 shadow-lg sticky top-0 z-50 backdrop-blur-md transition duration-300",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.jsxs("div",{className:"flex justify-between items-center h-20",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("img",{src:"/images/Logo/logo.png",alt:"Attendance System Logo",className:"h-14 w-auto object-contain"}),v.jsx("span",{className:"ml-3 text-white font-extrabold text-xl tracking-wider hidden sm:block",children:"Smart Attendance"})]}),v.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[f.map((m,p)=>m.show&&v.jsxs(zn,{to:m.to,className:"text-white font-medium text-lg flex items-center gap-2 transform transition-all duration-300 hover:scale-110 hover:text-yellow-300",children:[v.jsx("span",{children:m.icon})," ",m.label]},p)),n?v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsxs("span",{className:"text-white font-medium text-sm md:text-base",children:["Welcome, ",n.displayName||n.email.split("@")[0]]}),v.jsx("button",{onClick:u,className:"bg-red-500 hover:bg-red-600 text-white px-5 py-2 rounded-lg font-semibold transition-all duration-300 transform hover:scale-110 shadow-md",children:"Logout"})]}):v.jsx(zn,{to:"/login",className:"bg-yellow-400 hover:bg-yellow-500 text-gray-900 px-5 py-2 rounded-lg font-semibold transition-all duration-300 transform hover:scale-110 shadow-md flex items-center gap-2",children:"Login"})]}),v.jsx("div",{className:"md:hidden flex items-center",children:v.jsx("button",{onClick:()=>e(!r),className:"text-white hover:text-yellow-300 focus:outline-none",children:v.jsx("svg",{className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:r?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})})]}),r&&v.jsxs("div",{className:"md:hidden bg-slate-900 text-white rounded-b-lg py-4 mt-1 space-y-2 transition-all",children:[f.map((m,p)=>m.show&&v.jsx(zn,{to:m.to,onClick:()=>e(!1),className:"block px-6 py-2 text-lg font-medium transform transition duration-300 hover:text-yellow-300 hover:scale-110",children:m.label},p)),n?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"px-6 py-2 text-lg font-medium text-yellow-300",children:["Welcome, ",n.displayName||n.email.split("@")[0]]}),v.jsx("button",{onClick:u,className:"w-full text-left px-6 py-2 text-lg font-medium bg-red-500 text-white hover:bg-red-600 rounded transform transition duration-300",children:"Logout"})]}):v.jsx(zn,{to:"/login",onClick:()=>e(!1),className:"block px-6 py-2 text-lg font-medium bg-yellow-400 text-gray-900 hover:bg-yellow-500 rounded transform transition duration-300",children:"Login"})]})]})})}function g4(){return v.jsxs("footer",{className:"relative bg-gradient-to-r from-[#1e293b] to-[#0f172a] backdrop-blur-sm text-white py-6 mt-16 border-t border-gray-700 shadow-lg overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-[200px] h-[200px] bg-teal-400 opacity-10 rounded-full blur-2xl animate-pulse"}),v.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10",children:[v.jsxs("div",{className:"text-center mb-4",children:[v.jsx("h2",{className:"text-xl md:text-2xl font-bold tracking-wide bg-gradient-to-r from-yellow-300 to-teal-300 text-transparent bg-clip-text drop-shadow-md",children:"Smart Attendance Monitoring System"}),v.jsx("p",{className:"text-gray-400 mt-1 text-sm",children:" University Edition - Empowering Smart Classrooms"})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row justify-center sm:justify-between items-center gap-6 text-sm font-medium",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-teal-400 text-lg animate-bounce",children:""}),v.jsx("a",{href:"mailto:attendance@university.edu",className:"hover:text-yellow-300 transition duration-300",children:"attendance@university.edu"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-pink-400 text-lg animate-pulse",children:""}),v.jsx("p",{className:"text-gray-300",children:"Main Campus, UOL, Pakistan"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-indigo-400 text-lg animate-bounce",children:""}),v.jsx("a",{href:"tel:+923001234567",className:"hover:text-yellow-300 transition duration-300",children:"+92 300 1234567"})]})]})]})]})}j1.createRoot(document.getElementById("root")).render(v.jsxs(JA,{children:[v.jsx(p4,{}),v.jsx(m4,{}),v.jsx(g4,{})]}));
